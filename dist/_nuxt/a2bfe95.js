/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{534:function(t,e,r){"use strict";(function(t){var n=r(641),o=r(642),c=r(643);function h(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function l(t,e){if(h()<e)throw new RangeError("Invalid typed array length");return f.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=f.prototype:(null===t&&(t=new f(e)),t.length=e),t}function f(t,e,r){if(!(f.TYPED_ARRAY_SUPPORT||this instanceof f))return new f(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return m(this,t)}return d(this,t,e,r)}function d(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);f.TYPED_ARRAY_SUPPORT?(t=e).__proto__=f.prototype:t=v(t,e);return t}(t,e,r,n):"string"==typeof e?function(t,e,r){"string"==typeof r&&""!==r||(r="utf8");if(!f.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|w(e,r);t=l(t,n);var o=t.write(e,r);o!==n&&(t=t.slice(0,o));return t}(t,e,r):function(t,e){if(f.isBuffer(e)){var r=0|_(e.length);return 0===(t=l(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?l(t,0):v(t,e);if("Buffer"===e.type&&c(e.data))return v(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function y(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function m(t,e){if(y(e),t=l(t,e<0?0:0|_(e)),!f.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)t[i]=0;return t}function v(t,e){var r=e.length<0?0:0|_(e.length);t=l(t,r);for(var i=0;i<r;i+=1)t[i]=255&e[i];return t}function _(t){if(t>=h())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+h().toString(16)+" bytes");return 0|t}function w(t,e){if(f.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return G(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Q(t).length;default:if(n)return G(t).length;e=(""+e).toLowerCase(),n=!0}}function S(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return N(this,e,r);case"utf8":case"utf-8":return C(this,e,r);case"ascii":return j(this,e,r);case"latin1":case"binary":return B(this,e,r);case"base64":return I(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function E(b,t,e){var i=b[t];b[t]=b[e],b[e]=i}function k(t,e,r,n,o){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof e&&(e=f.from(e,n)),f.isBuffer(e))return 0===e.length?-1:R(t,e,r,n,o);if("number"==typeof e)return e&=255,f.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):R(t,[e],r,n,o);throw new TypeError("val must be string, number or Buffer")}function R(t,e,r,n,o){var i,c=1,h=t.length,l=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;c=2,h/=2,l/=2,r/=2}function f(t,i){return 1===c?t[i]:t.readUInt16BE(i*c)}if(o){var d=-1;for(i=r;i<h;i++)if(f(t,i)===f(e,-1===d?0:i-d)){if(-1===d&&(d=i),i-d+1===l)return d*c}else-1!==d&&(i-=i-d),d=-1}else for(r+l>h&&(r=h-l),i=r;i>=0;i--){for(var y=!0,m=0;m<l;m++)if(f(t,i+m)!==f(e,m)){y=!1;break}if(y)return i}return-1}function M(t,e,r,n){r=Number(r)||0;var o=t.length-r;n?(n=Number(n))>o&&(n=o):n=o;var c=e.length;if(c%2!=0)throw new TypeError("Invalid hex string");n>c/2&&(n=c/2);for(var i=0;i<n;++i){var h=parseInt(e.substr(2*i,2),16);if(isNaN(h))return i;t[r+i]=h}return i}function T(t,e,r,n){return J(G(e,t.length-r),t,r,n)}function A(t,e,r,n){return J(function(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}(e),t,r,n)}function O(t,e,r,n){return A(t,e,r,n)}function P(t,e,r,n){return J(Q(e),t,r,n)}function x(t,e,r,n){return J(function(t,e){for(var r,n,o,c=[],i=0;i<t.length&&!((e-=2)<0);++i)n=(r=t.charCodeAt(i))>>8,o=r%256,c.push(o),c.push(n);return c}(e,t.length-r),t,r,n)}function I(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function C(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,c,h,l,f=t[i],d=null,y=f>239?4:f>223?3:f>191?2:1;if(i+y<=r)switch(y){case 1:f<128&&(d=f);break;case 2:128==(192&(o=t[i+1]))&&(l=(31&f)<<6|63&o)>127&&(d=l);break;case 3:o=t[i+1],c=t[i+2],128==(192&o)&&128==(192&c)&&(l=(15&f)<<12|(63&o)<<6|63&c)>2047&&(l<55296||l>57343)&&(d=l);break;case 4:o=t[i+1],c=t[i+2],h=t[i+3],128==(192&o)&&128==(192&c)&&128==(192&h)&&(l=(15&f)<<18|(63&o)<<12|(63&c)<<6|63&h)>65535&&l<1114112&&(d=l)}null===d?(d=65533,y=1):d>65535&&(d-=65536,n.push(d>>>10&1023|55296),d=56320|1023&d),n.push(d),i+=y}return function(t){var e=t.length;if(e<=L)return String.fromCharCode.apply(String,t);var r="",i=0;for(;i<e;)r+=String.fromCharCode.apply(String,t.slice(i,i+=L));return r}(n)}e.Buffer=f,e.SlowBuffer=function(t){+t!=t&&(t=0);return f.alloc(+t)},e.INSPECT_MAX_BYTES=50,f.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=h(),f.poolSize=8192,f._augment=function(t){return t.__proto__=f.prototype,t},f.from=function(t,e,r){return d(null,t,e,r)},f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0})),f.alloc=function(t,e,r){return function(t,e,r,n){return y(e),e<=0?l(t,e):void 0!==r?"string"==typeof n?l(t,e).fill(r,n):l(t,e).fill(r):l(t,e)}(null,t,e,r)},f.allocUnsafe=function(t){return m(null,t)},f.allocUnsafeSlow=function(t){return m(null,t)},f.isBuffer=function(b){return!(null==b||!b._isBuffer)},f.compare=function(a,b){if(!f.isBuffer(a)||!f.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var t=a.length,e=b.length,i=0,r=Math.min(t,e);i<r;++i)if(a[i]!==b[i]){t=a[i],e=b[i];break}return t<e?-1:e<t?1:0},f.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(t,e){if(!c(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return f.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var r=f.allocUnsafe(e),n=0;for(i=0;i<t.length;++i){var o=t[i];if(!f.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,n),n+=o.length}return r},f.byteLength=w,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<t;i+=2)E(this,i,i+1);return this},f.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<t;i+=4)E(this,i,i+3),E(this,i+1,i+2);return this},f.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<t;i+=8)E(this,i,i+7),E(this,i+1,i+6),E(this,i+2,i+5),E(this,i+3,i+4);return this},f.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?C(this,0,t):S.apply(this,arguments)},f.prototype.equals=function(b){if(!f.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||0===f.compare(this,b)},f.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},f.prototype.compare=function(t,e,r,n,o){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),e<0||r>t.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&e>=r)return 0;if(n>=o)return-1;if(e>=r)return 1;if(this===t)return 0;for(var c=(o>>>=0)-(n>>>=0),h=(r>>>=0)-(e>>>=0),l=Math.min(c,h),d=this.slice(n,o),y=t.slice(e,r),i=0;i<l;++i)if(d[i]!==y[i]){c=d[i],h=y[i];break}return c<h?-1:h<c?1:0},f.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},f.prototype.indexOf=function(t,e,r){return k(this,t,e,r,!0)},f.prototype.lastIndexOf=function(t,e,r){return k(this,t,e,r,!1)},f.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-e;if((void 0===r||r>o)&&(r=o),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var c=!1;;)switch(n){case"hex":return M(this,t,e,r);case"utf8":case"utf-8":return T(this,t,e,r);case"ascii":return A(this,t,e,r);case"latin1":case"binary":return O(this,t,e,r);case"base64":return P(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,e,r);default:if(c)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),c=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var L=4096;function j(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function B(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function N(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=e;i<r;++i)o+=z(t[i]);return o}function D(t,e,r){for(var n=t.slice(e,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function U(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function $(t,e,r,n,o,c){if(!f.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<c)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function F(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function H(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function W(t,e,r,n,o,c){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function K(t,e,r,n,c){return c||W(t,0,r,4),o.write(t,e,r,n,23,4),r+4}function V(t,e,r,n,c){return c||W(t,0,r,8),o.write(t,e,r,n,52,8),r+8}f.prototype.slice=function(t,e){var r,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),f.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=f.prototype;else{var o=e-t;r=new f(o,void 0);for(var i=0;i<o;++i)r[i]=this[i+t]}return r},f.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||U(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n},f.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||U(t,e,this.length);for(var n=this[t+--e],o=1;e>0&&(o*=256);)n+=this[t+--e]*o;return n},f.prototype.readUInt8=function(t,e){return e||U(t,1,this.length),this[t]},f.prototype.readUInt16LE=function(t,e){return e||U(t,2,this.length),this[t]|this[t+1]<<8},f.prototype.readUInt16BE=function(t,e){return e||U(t,2,this.length),this[t]<<8|this[t+1]},f.prototype.readUInt32LE=function(t,e){return e||U(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},f.prototype.readUInt32BE=function(t,e){return e||U(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},f.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||U(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*e)),n},f.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||U(t,e,this.length);for(var i=e,n=1,o=this[t+--i];i>0&&(n*=256);)o+=this[t+--i]*n;return o>=(n*=128)&&(o-=Math.pow(2,8*e)),o},f.prototype.readInt8=function(t,e){return e||U(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},f.prototype.readInt16LE=function(t,e){e||U(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},f.prototype.readInt16BE=function(t,e){e||U(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},f.prototype.readInt32LE=function(t,e){return e||U(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},f.prototype.readInt32BE=function(t,e){return e||U(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},f.prototype.readFloatLE=function(t,e){return e||U(t,4,this.length),o.read(this,t,!0,23,4)},f.prototype.readFloatBE=function(t,e){return e||U(t,4,this.length),o.read(this,t,!1,23,4)},f.prototype.readDoubleLE=function(t,e){return e||U(t,8,this.length),o.read(this,t,!0,52,8)},f.prototype.readDoubleBE=function(t,e){return e||U(t,8,this.length),o.read(this,t,!1,52,8)},f.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||$(this,t,e,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[e]=255&t;++i<r&&(o*=256);)this[e+i]=t/o&255;return e+r},f.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||$(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},f.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||$(this,t,e,1,255,0),f.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},f.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||$(this,t,e,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):F(this,t,e,!0),e+2},f.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||$(this,t,e,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):F(this,t,e,!1),e+2},f.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||$(this,t,e,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):H(this,t,e,!0),e+4},f.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||$(this,t,e,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):H(this,t,e,!1),e+4},f.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var o=Math.pow(2,8*r-1);$(this,t,e,r,o-1,-o)}var i=0,c=1,sub=0;for(this[e]=255&t;++i<r&&(c*=256);)t<0&&0===sub&&0!==this[e+i-1]&&(sub=1),this[e+i]=(t/c>>0)-sub&255;return e+r},f.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var o=Math.pow(2,8*r-1);$(this,t,e,r,o-1,-o)}var i=r-1,c=1,sub=0;for(this[e+i]=255&t;--i>=0&&(c*=256);)t<0&&0===sub&&0!==this[e+i+1]&&(sub=1),this[e+i]=(t/c>>0)-sub&255;return e+r},f.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||$(this,t,e,1,127,-128),f.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},f.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||$(this,t,e,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):F(this,t,e,!0),e+2},f.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||$(this,t,e,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):F(this,t,e,!1),e+2},f.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||$(this,t,e,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):H(this,t,e,!0),e+4},f.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||$(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),f.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):H(this,t,e,!1),e+4},f.prototype.writeFloatLE=function(t,e,r){return K(this,t,e,!0,r)},f.prototype.writeFloatBE=function(t,e,r){return K(this,t,e,!1,r)},f.prototype.writeDoubleLE=function(t,e,r){return V(this,t,e,!0,r)},f.prototype.writeDoubleBE=function(t,e,r){return V(this,t,e,!1,r)},f.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,o=n-r;if(this===t&&r<e&&e<n)for(i=o-1;i>=0;--i)t[i+e]=this[i+r];else if(o<1e3||!f.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),e);return o},f.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var code=t.charCodeAt(0);code<256&&(t=code)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!f.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{var o=f.isBuffer(t)?t:G(new f(t,n).toString()),c=o.length;for(i=0;i<r-e;++i)this[i+e]=o[i%c]}return this};var Y=/[^+\/0-9A-Za-z-_]/g;function z(t){return t<16?"0"+t.toString(16):t.toString(16)}function G(t,e){var r;e=e||1/0;for(var n=t.length,o=null,c=[],i=0;i<n;++i){if((r=t.charCodeAt(i))>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&c.push(239,191,189);continue}if(i+1===n){(e-=3)>-1&&c.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&c.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(e-=3)>-1&&c.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;c.push(r)}else if(r<2048){if((e-=2)<0)break;c.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;c.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;c.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return c}function Q(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(Y,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function J(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}}).call(this,r(77))},535:function(t,e){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},538:function(t,e,r){t.exports=function(){"use strict";var t=1e3,e=6e4,r=36e5,n="millisecond",i="second",s="minute",u="hour",a="day",o="week",c="month",h="quarter",l="year",f="date",d="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],r=t%100;return"["+t+(e[(r-20)%10]||e[r]||e[0])+"]"}},_=function(t,e,r){var n=String(t);return!n||n.length>=e?t:""+Array(e+1-n.length).join(r)+t},w={s:_,z:function(t){var e=-t.utcOffset(),r=Math.abs(e),n=Math.floor(r/60),i=r%60;return(e<=0?"+":"-")+_(n,2,"0")+":"+_(i,2,"0")},m:function t(e,r){if(e.date()<r.date())return-t(r,e);var n=12*(r.year()-e.year())+(r.month()-e.month()),i=e.clone().add(n,c),s=r-i<0,u=e.clone().add(n+(s?-1:1),c);return+(-(n+(r-i)/(s?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:l,w:o,d:a,D:f,h:u,m:s,s:i,ms:n,Q:h}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},g="en",S={};S[g]=v;var p=function(t){return t instanceof M},E=function t(e,r,n){var i;if(!e)return g;if("string"==typeof e){var s=e.toLowerCase();S[s]&&(i=s),r&&(S[s]=r,i=s);var u=e.split("-");if(!i&&u.length>1)return t(u[0])}else{var a=e.name;S[a]=e,i=a}return!n&&i&&(g=i),i||!n&&g},k=function(t,e){if(p(t))return t.clone();var r="object"==typeof e?e:{};return r.date=t,r.args=arguments,new M(r)},R=w;R.l=E,R.i=p,R.w=function(t,e){return k(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var M=function(){function v(t){this.$L=E(t.locale,null,!0),this.parse(t)}var _=v.prototype;return _.parse=function(t){this.$d=function(t){var e=t.date,r=t.utc;if(null===e)return new Date(NaN);if(R.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var n=e.match(y);if(n){var i=n[2]-1||0,s=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,s)):new Date(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,s)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},_.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},_.$utils=function(){return R},_.isValid=function(){return!(this.$d.toString()===d)},_.isSame=function(t,e){var r=k(t);return this.startOf(e)<=r&&r<=this.endOf(e)},_.isAfter=function(t,e){return k(t)<this.startOf(e)},_.isBefore=function(t,e){return this.endOf(e)<k(t)},_.$g=function(t,e,r){return R.u(t)?this[e]:this.set(r,t)},_.unix=function(){return Math.floor(this.valueOf()/1e3)},_.valueOf=function(){return this.$d.getTime()},_.startOf=function(t,e){var r=this,n=!!R.u(e)||e,h=R.p(t),d=function(t,e){var i=R.w(r.$u?Date.UTC(r.$y,e,t):new Date(r.$y,e,t),r);return n?i:i.endOf(a)},y=function(t,e){return R.w(r.toDate()[t].apply(r.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(e)),r)},m=this.$W,v=this.$M,_=this.$D,w="set"+(this.$u?"UTC":"");switch(h){case l:return n?d(1,0):d(31,11);case c:return n?d(1,v):d(0,v+1);case o:var g=this.$locale().weekStart||0,S=(m<g?m+7:m)-g;return d(n?_-S:_+(6-S),v);case a:case f:return y(w+"Hours",0);case u:return y(w+"Minutes",1);case s:return y(w+"Seconds",2);case i:return y(w+"Milliseconds",3);default:return this.clone()}},_.endOf=function(t){return this.startOf(t,!1)},_.$set=function(t,e){var r,o=R.p(t),h="set"+(this.$u?"UTC":""),d=(r={},r[a]=h+"Date",r[f]=h+"Date",r[c]=h+"Month",r[l]=h+"FullYear",r[u]=h+"Hours",r[s]=h+"Minutes",r[i]=h+"Seconds",r[n]=h+"Milliseconds",r)[o],y=o===a?this.$D+(e-this.$W):e;if(o===c||o===l){var m=this.clone().set(f,1);m.$d[d](y),m.init(),this.$d=m.set(f,Math.min(this.$D,m.daysInMonth())).$d}else d&&this.$d[d](y);return this.init(),this},_.set=function(t,e){return this.clone().$set(t,e)},_.get=function(t){return this[R.p(t)]()},_.add=function(n,h){var f,d=this;n=Number(n);var y=R.p(h),m=function(t){var e=k(d);return R.w(e.date(e.date()+Math.round(t*n)),d)};if(y===c)return this.set(c,this.$M+n);if(y===l)return this.set(l,this.$y+n);if(y===a)return m(1);if(y===o)return m(7);var v=(f={},f[s]=e,f[u]=r,f[i]=t,f)[y]||1,_=this.$d.getTime()+n*v;return R.w(_,this)},_.subtract=function(t,e){return this.add(-1*t,e)},_.format=function(t){var e=this,r=this.$locale();if(!this.isValid())return r.invalidDate||d;var n=t||"YYYY-MM-DDTHH:mm:ssZ",i=R.z(this),s=this.$H,u=this.$m,a=this.$M,o=r.weekdays,c=r.months,h=function(t,r,i,s){return t&&(t[r]||t(e,n))||i[r].slice(0,s)},l=function(t){return R.s(s%12||12,t,"0")},f=r.meridiem||function(t,e,r){var n=t<12?"AM":"PM";return r?n.toLowerCase():n},y={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:R.s(a+1,2,"0"),MMM:h(r.monthsShort,a,c,3),MMMM:h(c,a),D:this.$D,DD:R.s(this.$D,2,"0"),d:String(this.$W),dd:h(r.weekdaysMin,this.$W,o,2),ddd:h(r.weekdaysShort,this.$W,o,3),dddd:o[this.$W],H:String(s),HH:R.s(s,2,"0"),h:l(1),hh:l(2),a:f(s,u,!0),A:f(s,u,!1),m:String(u),mm:R.s(u,2,"0"),s:String(this.$s),ss:R.s(this.$s,2,"0"),SSS:R.s(this.$ms,3,"0"),Z:i};return n.replace(m,(function(t,e){return e||y[t]||i.replace(":","")}))},_.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},_.diff=function(n,f,d){var y,m=R.p(f),v=k(n),_=(v.utcOffset()-this.utcOffset())*e,w=this-v,g=R.m(this,v);return g=(y={},y[l]=g/12,y[c]=g,y[h]=g/3,y[o]=(w-_)/6048e5,y[a]=(w-_)/864e5,y[u]=w/r,y[s]=w/e,y[i]=w/t,y)[m]||w,d?g:R.a(g)},_.daysInMonth=function(){return this.endOf(c).$D},_.$locale=function(){return S[this.$L]},_.locale=function(t,e){if(!t)return this.$L;var r=this.clone(),n=E(t,e,!0);return n&&(r.$L=n),r},_.clone=function(){return R.w(this.$d,this)},_.toDate=function(){return new Date(this.valueOf())},_.toJSON=function(){return this.isValid()?this.toISOString():null},_.toISOString=function(){return this.$d.toISOString()},_.toString=function(){return this.$d.toUTCString()},v}(),T=M.prototype;return k.prototype=T,[["$ms",n],["$s",i],["$m",s],["$H",u],["$W",a],["$M",c],["$y",l],["$D",f]].forEach((function(t){T[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),k.extend=function(t,e){return t.$i||(t(e,M,k),t.$i=!0),k},k.locale=E,k.isDayjs=p,k.unix=function(t){return k(1e3*t)},k.en=S[g],k.Ls=S,k.p={},k}()},539:function(t,e,r){t.exports=function(){"use strict";return function(t,e,r){t=t||{};var n=e.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function i(t,e,r,o){return n.fromToBase(t,e,r,o)}r.en.relativeTime=o,n.fromToBase=function(e,n,i,c,u){for(var h,a,s,l=i.$locale().relativeTime||o,f=t.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],d=f.length,y=0;y<d;y+=1){var m=f[y];m.d&&(h=c?r(e).diff(i,m.d,!0):i.diff(e,m.d,!0));var p=(t.rounding||Math.round)(Math.abs(h));if(s=h>0,p<=m.r||!m.r){p<=1&&y>0&&(m=f[y-1]);var v=l[m.l];u&&(p=u(""+p)),a="string"==typeof v?v.replace("%d",p):v(p,n,m.l,s);break}}if(n)return a;var _=s?l.future:l.past;return"function"==typeof _?_(a):_.replace("%s",a)},n.to=function(t,e){return i(t,e,this,!0)},n.from=function(t,e){return i(t,e,this)};var c=function(t){return t.$u?r.utc():r()};n.toNow=function(t){return this.to(c(this),t)},n.fromNow=function(t){return this.from(c(this),t)}}}()},540:function(t,e,r){t.exports=function(){"use strict";var t="minute",i=/[+-]\d\d(?::?\d\d)?/g,e=/([+-]|\d\d)/g;return function(s,r,n){var u=r.prototype;n.utc=function(t){return new r({date:t,utc:!0,args:arguments})},u.utc=function(i){var e=n(this.toDate(),{locale:this.$L,utc:!0});return i?e.add(this.utcOffset(),t):e},u.local=function(){return n(this.toDate(),{locale:this.$L,utc:!1})};var o=u.parse;u.parse=function(t){t.utc&&(this.$u=!0),this.$utils().u(t.$offset)||(this.$offset=t.$offset),o.call(this,t)};var c=u.init;u.init=function(){if(this.$u){var t=this.$d;this.$y=t.getUTCFullYear(),this.$M=t.getUTCMonth(),this.$D=t.getUTCDate(),this.$W=t.getUTCDay(),this.$H=t.getUTCHours(),this.$m=t.getUTCMinutes(),this.$s=t.getUTCSeconds(),this.$ms=t.getUTCMilliseconds()}else c.call(this)};var a=u.utcOffset;u.utcOffset=function(s,r){var n=this.$utils().u;if(n(s))return this.$u?0:n(this.$offset)?a.call(this):this.$offset;if("string"==typeof s&&(s=function(t){void 0===t&&(t="");var s=t.match(i);if(!s)return null;var r=(""+s[0]).match(e)||["-",0,0],n=r[0],u=60*+r[1]+ +r[2];return 0===u?0:"+"===n?u:-u}(s),null===s))return this;var u=Math.abs(s)<=16?60*s:s,o=this;if(r)return o.$offset=u,o.$u=0===s,o;if(0!==s){var c=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(o=this.local().add(u+c,t)).$offset=u,o.$x.$localOffset=c}else o=this.utc();return o};var h=u.format;u.format=function(t){var i=t||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return h.call(this,i)},u.valueOf=function(){var t=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*t},u.isUTC=function(){return!!this.$u},u.toISOString=function(){return this.toDate().toISOString()},u.toString=function(){return this.toDate().toUTCString()};var l=u.toDate;u.toDate=function(t){return"s"===t&&this.$offset?n(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():l.call(this)};var f=u.diff;u.diff=function(t,i,e){if(t&&this.$u===t.$u)return f.call(this,t,i,e);var s=this.local(),r=n(t).local();return f.call(s,r,i,e)}}}()},541:function(t,e,r){t.exports=function(){"use strict";var t={year:0,month:1,day:2,hour:3,minute:4,second:5},e={};return function(r,i,n){var o,a=function(t,r,i){void 0===i&&(i={});var n=new Date(t),o=function(t,r){void 0===r&&(r={});var i=r.timeZoneName||"short",n=t+"|"+i,o=e[n];return o||(o=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:i}),e[n]=o),o}(r,i);return o.formatToParts(n)},u=function(e,r){for(var i=a(e,r),o=[],u=0;u<i.length;u+=1){var c=i[u],s=c.type,h=c.value,l=t[s];l>=0&&(o[l]=parseInt(h,10))}var f=o[3],d=24===f?0:f,y=o[0]+"-"+o[1]+"-"+o[2]+" "+d+":"+o[4]+":"+o[5]+":000",m=+e;return(n.utc(y).valueOf()-(m-=m%1e3))/6e4},c=i.prototype;c.tz=function(t,e){void 0===t&&(t=o);var r=this.utcOffset(),i=this.toDate(),a=i.toLocaleString("en-US",{timeZone:t}),u=Math.round((i-new Date(a))/1e3/60),c=n(a).$set("millisecond",this.$ms).utcOffset(15*-Math.round(i.getTimezoneOffset()/15)-u,!0);if(e){var s=c.utcOffset();c=c.add(r-s,"minute")}return c.$x.$timezone=t,c},c.offsetName=function(t){var e=this.$x.$timezone||n.tz.guess(),r=a(this.valueOf(),e,{timeZoneName:t}).find((function(t){return"timezonename"===t.type.toLowerCase()}));return r&&r.value};var s=c.startOf;c.startOf=function(t,e){if(!this.$x||!this.$x.$timezone)return s.call(this,t,e);var r=n(this.format("YYYY-MM-DD HH:mm:ss:SSS"));return s.call(r,t,e).tz(this.$x.$timezone,!0)},n.tz=function(t,e,r){var i=r&&e,a=r||e||o,c=u(+n(),a);if("string"!=typeof t)return n(t).tz(a);var s=function(t,e,r){var i=t-60*e*1e3,n=u(i,r);if(e===n)return[i,e];var o=u(i-=60*(n-e)*1e3,r);return n===o?[i,n]:[t-60*Math.min(n,o)*1e3,Math.max(n,o)]}(n.utc(t,i).valueOf(),c,a),h=s[0],l=s[1],f=n(h).utcOffset(l);return f.$x.$timezone=a,f},n.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},n.tz.setDefault=function(t){o=t}}}()},542:function(t,e,r){t.exports=function(){"use strict";var t,s,e=1e3,i=6e4,r=36e5,n=864e5,o=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,u=31536e6,c=2592e6,a=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,h={years:u,months:c,days:n,hours:r,minutes:i,seconds:e,milliseconds:1,weeks:6048e5},l=function(t){return t instanceof p},f=function(t,s,e){return new p(t,e,s.$l)},d=function(t){return s.p(t)+"s"},y=function(t){return t<0},m=function(t){return y(t)?Math.ceil(t):Math.floor(t)},v=function(t){return Math.abs(t)},g=function(t,s){return t?y(t)?{negative:!0,format:""+v(t)+s}:{negative:!1,format:""+t+s}:{negative:!1,format:""}},p=function(){function y(t,s,e){var i=this;if(this.$d={},this.$l=e,void 0===t&&(this.$ms=0,this.parseFromMilliseconds()),s)return f(t*h[d(s)],this);if("number"==typeof t)return this.$ms=t,this.parseFromMilliseconds(),this;if("object"==typeof t)return Object.keys(t).forEach((function(s){i.$d[d(s)]=t[s]})),this.calMilliseconds(),this;if("string"==typeof t){var r=t.match(a);if(r){var n=r.slice(2).map((function(t){return null!=t?Number(t):0}));return this.$d.years=n[0],this.$d.months=n[1],this.$d.weeks=n[2],this.$d.days=n[3],this.$d.hours=n[4],this.$d.minutes=n[5],this.$d.seconds=n[6],this.calMilliseconds(),this}}return this}var v=y.prototype;return v.calMilliseconds=function(){var t=this;this.$ms=Object.keys(this.$d).reduce((function(s,e){return s+(t.$d[e]||0)*h[e]}),0)},v.parseFromMilliseconds=function(){var t=this.$ms;this.$d.years=m(t/u),t%=u,this.$d.months=m(t/c),t%=c,this.$d.days=m(t/n),t%=n,this.$d.hours=m(t/r),t%=r,this.$d.minutes=m(t/i),t%=i,this.$d.seconds=m(t/e),t%=e,this.$d.milliseconds=t},v.toISOString=function(){var t=g(this.$d.years,"Y"),s=g(this.$d.months,"M"),e=+this.$d.days||0;this.$d.weeks&&(e+=7*this.$d.weeks);var i=g(e,"D"),r=g(this.$d.hours,"H"),n=g(this.$d.minutes,"M"),o=this.$d.seconds||0;this.$d.milliseconds&&(o+=this.$d.milliseconds/1e3);var u=g(o,"S"),c=t.negative||s.negative||i.negative||r.negative||n.negative||u.negative,a=r.format||n.format||u.format?"T":"",h=(c?"-":"")+"P"+t.format+s.format+i.format+a+r.format+n.format+u.format;return"P"===h||"-P"===h?"P0D":h},v.toJSON=function(){return this.toISOString()},v.format=function(t){var e=t||"YYYY-MM-DDTHH:mm:ss",i={Y:this.$d.years,YY:s.s(this.$d.years,2,"0"),YYYY:s.s(this.$d.years,4,"0"),M:this.$d.months,MM:s.s(this.$d.months,2,"0"),D:this.$d.days,DD:s.s(this.$d.days,2,"0"),H:this.$d.hours,HH:s.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:s.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:s.s(this.$d.seconds,2,"0"),SSS:s.s(this.$d.milliseconds,3,"0")};return e.replace(o,(function(t,s){return s||String(i[t])}))},v.as=function(t){return this.$ms/h[d(t)]},v.get=function(t){var s=this.$ms,e=d(t);return"milliseconds"===e?s%=1e3:s="weeks"===e?m(s/h[e]):this.$d[e],0===s?0:s},v.add=function(t,s,e){var i;return i=s?t*h[d(s)]:l(t)?t.$ms:f(t,this).$ms,f(this.$ms+i*(e?-1:1),this)},v.subtract=function(t,s){return this.add(t,s,!0)},v.locale=function(t){var s=this.clone();return s.$l=t,s},v.clone=function(){return f(this.$ms,this)},v.humanize=function(s){return t().add(this.$ms,"ms").locale(this.$l).fromNow(!s)},v.milliseconds=function(){return this.get("milliseconds")},v.asMilliseconds=function(){return this.as("milliseconds")},v.seconds=function(){return this.get("seconds")},v.asSeconds=function(){return this.as("seconds")},v.minutes=function(){return this.get("minutes")},v.asMinutes=function(){return this.as("minutes")},v.hours=function(){return this.get("hours")},v.asHours=function(){return this.as("hours")},v.days=function(){return this.get("days")},v.asDays=function(){return this.as("days")},v.weeks=function(){return this.get("weeks")},v.asWeeks=function(){return this.as("weeks")},v.months=function(){return this.get("months")},v.asMonths=function(){return this.as("months")},v.years=function(){return this.get("years")},v.asYears=function(){return this.as("years")},y}();return function(e,i,r){t=r,s=r().$utils(),r.duration=function(t,s){var e=r.locale();return f(t,{$l:e},s)},r.isDuration=l;var n=i.prototype.add,o=i.prototype.subtract;i.prototype.add=function(t,s){return l(t)&&(t=t.asMilliseconds()),n.bind(this)(t,s)},i.prototype.subtract=function(t,s){return l(t)&&(t=t.asMilliseconds()),o.bind(this)(t,s)}}}()},546:function(t,e,r){"use strict";var n,o="object"==typeof Reflect?Reflect:null,c=o&&"function"==typeof o.apply?o.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};n=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var h=Number.isNaN||function(t){return t!=t};function l(){l.init.call(this)}t.exports=l,t.exports.once=function(t,e){return new Promise((function(r,n){function o(r){t.removeListener(e,c),n(r)}function c(){"function"==typeof t.removeListener&&t.removeListener("error",o),r([].slice.call(arguments))}k(t,e,c,{once:!0}),"error"!==e&&function(t,e,r){"function"==typeof t.on&&k(t,"error",e,r)}(t,o,{once:!0})}))},l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var f=10;function d(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function y(t){return void 0===t._maxListeners?l.defaultMaxListeners:t._maxListeners}function m(t,e,r,n){var o,c,h,l;if(d(r),void 0===(c=t._events)?(c=t._events=Object.create(null),t._eventsCount=0):(void 0!==c.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),c=t._events),h=c[e]),void 0===h)h=c[e]=r,++t._eventsCount;else if("function"==typeof h?h=c[e]=n?[r,h]:[h,r]:n?h.unshift(r):h.push(r),(o=y(t))>0&&h.length>o&&!h.warned){h.warned=!0;var f=new Error("Possible EventEmitter memory leak detected. "+h.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");f.name="MaxListenersExceededWarning",f.emitter=t,f.type=e,f.count=h.length,l=f,console&&console.warn&&console.warn(l)}return t}function v(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},o=v.bind(n);return o.listener=r,n.wrapFn=o,o}function w(t,e,r){var n=t._events;if(void 0===n)return[];var o=n[e];return void 0===o?[]:"function"==typeof o?r?[o.listener||o]:[o]:r?function(t){for(var e=new Array(t.length),i=0;i<e.length;++i)e[i]=t[i].listener||t[i];return e}(o):E(o,o.length)}function S(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function E(t,e){for(var r=new Array(e),i=0;i<e;++i)r[i]=t[i];return r}function k(t,e,r,n){if("function"==typeof t.on)n.once?t.once(e,r):t.on(e,r);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function o(c){n.once&&t.removeEventListener(e,o),r(c)}))}}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return f},set:function(t){if("number"!=typeof t||t<0||h(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");f=t}}),l.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||h(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},l.prototype.getMaxListeners=function(){return y(this)},l.prototype.emit=function(t){for(var e=[],i=1;i<arguments.length;i++)e.push(arguments[i]);var r="error"===t,n=this._events;if(void 0!==n)r=r&&void 0===n.error;else if(!r)return!1;if(r){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var h=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw h.context=o,h}var l=n[t];if(void 0===l)return!1;if("function"==typeof l)c(l,this,e);else{var f=l.length,d=E(l,f);for(i=0;i<f;++i)c(d[i],this,e)}return!0},l.prototype.addListener=function(t,e){return m(this,t,e,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(t,e){return m(this,t,e,!0)},l.prototype.once=function(t,e){return d(e),this.on(t,_(this,t,e)),this},l.prototype.prependOnceListener=function(t,e){return d(e),this.prependListener(t,_(this,t,e)),this},l.prototype.removeListener=function(t,e){var r,n,o,i,c;if(d(e),void 0===(n=this._events))return this;if(void 0===(r=n[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(o=-1,i=r.length-1;i>=0;i--)if(r[i]===e||r[i].listener===e){c=r[i].listener,o=i;break}if(o<0)return this;0===o?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,o),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,c||e)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(t){var e,r,i;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var n,o=Object.keys(r);for(i=0;i<o.length;++i)"removeListener"!==(n=o[i])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},l.prototype.listeners=function(t){return w(this,t,!0)},l.prototype.rawListeners=function(t){return w(this,t,!1)},l.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):S.call(t,e)},l.prototype.listenerCount=S,l.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},547:function(t,e,r){(function(n){e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;e.splice(1,0,r,"color: inherit");let n=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(t=>{"%%"!==t&&(n++,"%c"===t&&(o=n))})),e.splice(o,0,r)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){let t;try{t=e.storage.getItem("debug")}catch(t){}!t&&void 0!==n&&"env"in n&&(t=n.env.DEBUG);return t},e.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch(t){}}(),e.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),t.exports=r(657)(e);const{formatters:o}=t.exports;o.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,r(128))},551:function(t,e,r){"use strict";var n={};function o(code,t,e){e||(e=Error);var r=function(e){var r,n;function o(r,n,o){return e.call(this,function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(r,n,o))||this}return n=e,(r=o).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,o}(e);r.prototype.name=e.name,r.prototype.code=code,n[code]=r}function c(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map((function(i){return String(i)})),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:2===r?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}o("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'}),TypeError),o("ERR_INVALID_ARG_TYPE",(function(t,e,r){var n,o,h,l;if("string"==typeof e&&(o="not ",e.substr(!h||h<0?0:+h,o.length)===o)?(n="must not be",e=e.replace(/^not /,"")):n="must be",function(t,e,r){return(void 0===r||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}(t," argument"))l="The ".concat(t," ").concat(n," ").concat(c(e,"type"));else{var f=function(t,e,r){return"number"!=typeof r&&(r=0),!(r+e.length>t.length)&&-1!==t.indexOf(e,r)}(t,".")?"property":"argument";l='The "'.concat(t,'" ').concat(f," ").concat(n," ").concat(c(e,"type"))}return l+=". Received type ".concat(typeof r)}),TypeError),o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),o("ERR_METHOD_NOT_IMPLEMENTED",(function(t){return"The "+t+" method is not implemented"})),o("ERR_STREAM_PREMATURE_CLOSE","Premature close"),o("ERR_STREAM_DESTROYED",(function(t){return"Cannot call "+t+" after a stream was destroyed"})),o("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),o("ERR_STREAM_WRITE_AFTER_END","write after end"),o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),o("ERR_UNKNOWN_ENCODING",(function(t){return"Unknown encoding: "+t}),TypeError),o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=n},552:function(t,e,r){"use strict";(function(e){var n=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};t.exports=d;var o=r(596),c=r(600);r(535)(d,o);for(var h=n(c.prototype),l=0;l<h.length;l++){var f=h[l];d.prototype[f]||(d.prototype[f]=c.prototype[f])}function d(t){if(!(this instanceof d))return new d(t);o.call(this,t),c.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",y)))}function y(){this._writableState.ended||e.nextTick(m,this)}function m(t){t.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(d.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(d.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})}).call(this,r(128))},553:function(t,e,r){"use strict";var n=r(645).Buffer,o=n.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function c(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(n.isEncoding===o||!o(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=f,this.end=d,e=4;break;case"utf8":this.fillLast=l,e=4;break;case"base64":this.text=y,this.end=m,e=3;break;default:return this.write=v,void(this.end=_)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(e)}function h(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function l(t){var p=this.lastTotal-this.lastNeed,e=function(t,e,p){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==e?e:this.lastNeed<=t.length?(t.copy(this.lastChar,p,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,p,0,t.length),void(this.lastNeed-=t.length))}function f(t,i){if((t.length-i)%2==0){var e=t.toString("utf16le",i);if(e){var r=e.charCodeAt(e.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],e.slice(0,-1)}return e}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",i,t.length-1)}function d(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function y(t,i){var e=(t.length-i)%3;return 0===e?t.toString("base64",i):(this.lastNeed=3-e,this.lastTotal=3,1===e?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",i,t.length-e))}function m(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function v(t){return t.toString(this.encoding)}function _(t){return t&&t.length?this.write(t):""}e.StringDecoder=c,c.prototype.write=function(t){if(0===t.length)return"";var e,i;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<t.length?e?e+this.text(t,i):this.text(t,i):e||""},c.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},c.prototype.text=function(t,i){var e=function(t,e,i){var r=e.length-1;if(r<i)return 0;var n=h(e[r]);if(n>=0)return n>0&&(t.lastNeed=n-1),n;if(--r<i||-2===n)return 0;if(n=h(e[r]),n>=0)return n>0&&(t.lastNeed=n-2),n;if(--r<i||-2===n)return 0;if(n=h(e[r]),n>=0)return n>0&&(2===n?n=0:t.lastNeed=n-3),n;return 0}(this,t,i);if(!this.lastNeed)return t.toString("utf8",i);this.lastTotal=e;var r=t.length-(e-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",i,r)},c.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},554:function(t,e,r){"use strict";var n={};function o(code,t,e){e||(e=Error);var r=function(e){var r,n;function o(r,n,o){return e.call(this,function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(r,n,o))||this}return n=e,(r=o).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,o}(e);r.prototype.name=e.name,r.prototype.code=code,n[code]=r}function c(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map((function(i){return String(i)})),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:2===r?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}o("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'}),TypeError),o("ERR_INVALID_ARG_TYPE",(function(t,e,r){var n,o,h,l;if("string"==typeof e&&(o="not ",e.substr(!h||h<0?0:+h,o.length)===o)?(n="must not be",e=e.replace(/^not /,"")):n="must be",function(t,e,r){return(void 0===r||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}(t," argument"))l="The ".concat(t," ").concat(n," ").concat(c(e,"type"));else{var f=function(t,e,r){return"number"!=typeof r&&(r=0),!(r+e.length>t.length)&&-1!==t.indexOf(e,r)}(t,".")?"property":"argument";l='The "'.concat(t,'" ').concat(f," ").concat(n," ").concat(c(e,"type"))}return l+=". Received type ".concat(typeof r)}),TypeError),o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),o("ERR_METHOD_NOT_IMPLEMENTED",(function(t){return"The "+t+" method is not implemented"})),o("ERR_STREAM_PREMATURE_CLOSE","Premature close"),o("ERR_STREAM_DESTROYED",(function(t){return"Cannot call "+t+" after a stream was destroyed"})),o("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),o("ERR_STREAM_WRITE_AFTER_END","write after end"),o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),o("ERR_UNKNOWN_ENCODING",(function(t){return"Unknown encoding: "+t}),TypeError),o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=n},555:function(t,e,r){"use strict";(function(e){var n=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};t.exports=d;var o=r(602),c=r(606);r(535)(d,o);for(var h=n(c.prototype),l=0;l<h.length;l++){var f=h[l];d.prototype[f]||(d.prototype[f]=c.prototype[f])}function d(t){if(!(this instanceof d))return new d(t);o.call(this,t),c.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",y)))}function y(){this._writableState.ended||e.nextTick(m,this)}function m(t){t.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(d.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(d.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})}).call(this,r(128))},556:function(t,e,r){"use strict";var n={};function o(code,t,e){e||(e=Error);var r=function(e){var r,n;function o(r,n,o){return e.call(this,function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(r,n,o))||this}return n=e,(r=o).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,o}(e);r.prototype.name=e.name,r.prototype.code=code,n[code]=r}function c(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map((function(i){return String(i)})),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:2===r?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}o("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'}),TypeError),o("ERR_INVALID_ARG_TYPE",(function(t,e,r){var n,o,h,l;if("string"==typeof e&&(o="not ",e.substr(!h||h<0?0:+h,o.length)===o)?(n="must not be",e=e.replace(/^not /,"")):n="must be",function(t,e,r){return(void 0===r||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}(t," argument"))l="The ".concat(t," ").concat(n," ").concat(c(e,"type"));else{var f=function(t,e,r){return"number"!=typeof r&&(r=0),!(r+e.length>t.length)&&-1!==t.indexOf(e,r)}(t,".")?"property":"argument";l='The "'.concat(t,'" ').concat(f," ").concat(n," ").concat(c(e,"type"))}return l+=". Received type ".concat(typeof r)}),TypeError),o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),o("ERR_METHOD_NOT_IMPLEMENTED",(function(t){return"The "+t+" method is not implemented"})),o("ERR_STREAM_PREMATURE_CLOSE","Premature close"),o("ERR_STREAM_DESTROYED",(function(t){return"Cannot call "+t+" after a stream was destroyed"})),o("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),o("ERR_STREAM_WRITE_AFTER_END","write after end"),o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),o("ERR_UNKNOWN_ENCODING",(function(t){return"Unknown encoding: "+t}),TypeError),o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=n},557:function(t,e,r){"use strict";(function(e){var n=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};t.exports=d;var o=r(612),c=r(616);r(535)(d,o);for(var h=n(c.prototype),l=0;l<h.length;l++){var f=h[l];d.prototype[f]||(d.prototype[f]=c.prototype[f])}function d(t){if(!(this instanceof d))return new d(t);o.call(this,t),c.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",y)))}function y(){this._writableState.ended||e.nextTick(m,this)}function m(t){t.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(d.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(d.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})}).call(this,r(128))},558:function(t,e,r){"use strict";(function(e){const n=r(640),o=r(595),c=r(678),h=r(577),l=r(547)("mqttjs"),f={};function d(t,e){if(l("connecting to an MQTT broker..."),"object"!=typeof t||e||(e=t,t=null),e=e||{},t){const r=c.parse(t,!0);if(null!=r.port&&(r.port=Number(r.port)),null===(e=h(r,e)).protocol)throw new Error("Missing protocol");e.protocol=e.protocol.replace(/:$/,"")}if(function(t){let e;t.auth&&(e=t.auth.match(/^(.+):(.+)$/),e?(t.username=e[1],t.password=e[2]):t.username=t.auth)}(e),e.query&&"string"==typeof e.query.clientId&&(e.clientId=e.query.clientId),e.cert&&e.key){if(!e.protocol)throw new Error("Missing secure protocol key");if(-1===["mqtts","wss","wxs","alis"].indexOf(e.protocol))switch(e.protocol){case"mqtt":e.protocol="mqtts";break;case"ws":e.protocol="wss";break;case"wx":e.protocol="wxs";break;case"ali":e.protocol="alis";break;default:throw new Error('Unknown protocol for secure connection: "'+e.protocol+'"!')}}if(!f[e.protocol]){const t=-1!==["mqtts","wss"].indexOf(e.protocol);e.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((function(e,r){return(!t||r%2!=0)&&"function"==typeof f[e]}))[0]}if(!1===e.clean&&!e.clientId)throw new Error("Missing clientId for unclean clients");e.protocol&&(e.defaultProtocol=e.protocol);const r=new n((function(t){return e.servers&&(t._reconnectCount&&t._reconnectCount!==e.servers.length||(t._reconnectCount=0),e.host=e.servers[t._reconnectCount].host,e.port=e.servers[t._reconnectCount].port,e.protocol=e.servers[t._reconnectCount].protocol?e.servers[t._reconnectCount].protocol:e.defaultProtocol,e.hostname=e.host,t._reconnectCount++),l("calling streambuilder for",e.protocol),f[e.protocol](t,e)}),e);return r.on("error",(function(){})),r}void 0!==e&&"browser"!==e.title||"function"!=typeof r?(f.mqtt=r(610),f.tcp=r(610),f.ssl=r(581),f.tls=r(581),f.mqtts=r(581)):(f.wx=r(611),f.wxs=r(611),f.ali=r(618),f.alis=r(618)),f.ws=r(619),f.wss=r(619),t.exports=d,t.exports.connect=d,t.exports.MqttClient=n,t.exports.Store=o}).call(this,r(128))},559:function(t,e,r){(e=t.exports=r(596)).Stream=e,e.Readable=e,e.Writable=r(600),e.Duplex=r(552),e.Transform=r(601),e.PassThrough=r(648),e.finished=r(579),e.pipeline=r(649)},577:function(t,e){t.exports=function(){for(var t={},i=0;i<arguments.length;i++){var source=arguments[i];for(var e in source)r.call(source,e)&&(t[e]=source[e])}return t};var r=Object.prototype.hasOwnProperty},578:function(t,e,r){(function(e){function r(t){try{if(!e.localStorage)return!1}catch(t){return!1}var r=e.localStorage[t];return null!=r&&"true"===String(r).toLowerCase()}t.exports=function(t,e){if(r("noDeprecation"))return t;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(e);r("traceDeprecation")?console.trace(e):console.warn(e),n=!0}return t.apply(this,arguments)}}}).call(this,r(77))},579:function(t,e,r){"use strict";var n=r(551).codes.ERR_STREAM_PREMATURE_CLOSE;function o(){}t.exports=function t(e,r,c){if("function"==typeof r)return t(e,null,r);r||(r={}),c=function(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];t.apply(this,n)}}}(c||o);var h=r.readable||!1!==r.readable&&e.readable,l=r.writable||!1!==r.writable&&e.writable,f=function(){e.writable||y()},d=e._writableState&&e._writableState.finished,y=function(){l=!1,d=!0,h||c.call(e)},m=e._readableState&&e._readableState.endEmitted,v=function(){h=!1,m=!0,l||c.call(e)},_=function(t){c.call(e,t)},w=function(){var t;return h&&!m?(e._readableState&&e._readableState.ended||(t=new n),c.call(e,t)):l&&!d?(e._writableState&&e._writableState.ended||(t=new n),c.call(e,t)):void 0},S=function(){e.req.on("finish",y)};return!function(t){return t.setHeader&&"function"==typeof t.abort}(e)?l&&!e._writableState&&(e.on("end",f),e.on("close",f)):(e.on("complete",y),e.on("abort",w),e.req?S():e.on("request",S)),e.on("end",v),e.on("finish",y),!1!==r.error&&e.on("error",_),e.on("close",w),function(){e.removeListener("complete",y),e.removeListener("abort",w),e.removeListener("request",S),e.req&&e.req.removeListener("finish",y),e.removeListener("end",f),e.removeListener("close",f),e.removeListener("finish",y),e.removeListener("end",v),e.removeListener("error",_),e.removeListener("close",w)}}},580:function(t,e,r){"use strict";var n=r(554).codes.ERR_STREAM_PREMATURE_CLOSE;function o(){}t.exports=function t(e,r,c){if("function"==typeof r)return t(e,null,r);r||(r={}),c=function(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];t.apply(this,n)}}}(c||o);var h=r.readable||!1!==r.readable&&e.readable,l=r.writable||!1!==r.writable&&e.writable,f=function(){e.writable||y()},d=e._writableState&&e._writableState.finished,y=function(){l=!1,d=!0,h||c.call(e)},m=e._readableState&&e._readableState.endEmitted,v=function(){h=!1,m=!0,l||c.call(e)},_=function(t){c.call(e,t)},w=function(){var t;return h&&!m?(e._readableState&&e._readableState.ended||(t=new n),c.call(e,t)):l&&!d?(e._writableState&&e._writableState.ended||(t=new n),c.call(e,t)):void 0},S=function(){e.req.on("finish",y)};return!function(t){return t.setHeader&&"function"==typeof t.abort}(e)?l&&!e._writableState&&(e.on("end",f),e.on("close",f)):(e.on("complete",y),e.on("abort",w),e.req?S():e.on("request",S)),e.on("end",v),e.on("finish",y),!1!==r.error&&e.on("error",_),e.on("close",w),function(){e.removeListener("complete",y),e.removeListener("abort",w),e.removeListener("request",S),e.req&&e.req.removeListener("finish",y),e.removeListener("end",f),e.removeListener("close",f),e.removeListener("finish",y),e.removeListener("end",v),e.removeListener("error",_),e.removeListener("close",w)}}},581:function(t,e,r){"use strict";const n=r(571),o=r(560),c=r(547)("mqttjs:tls");t.exports=function(t,e){e.port=e.port||8883,e.host=e.hostname||e.host||"localhost",0===o.isIP(e.host)&&(e.servername=e.host),e.rejectUnauthorized=!1!==e.rejectUnauthorized,delete e.path,c("port %d host %s rejectUnauthorized %b",e.port,e.host,e.rejectUnauthorized);const r=n.connect(e);function h(n){e.rejectUnauthorized&&t.emit("error",n),r.end()}return r.on("secureConnect",(function(){e.rejectUnauthorized&&!r.authorized?r.emit("error",new Error("TLS not authorized")):r.removeListener("error",h)})),r.on("error",h),r}},582:function(t,e,r){(function(e,n){var o=r(685),c=r(691),h=r(535),l=r(694),f=e.from&&e.from!==Uint8Array.from?e.from([0]):new e([0]),d=function(t,e){t._corked?t.once("uncork",e):e()},y=function(t,e){return function(r){r?function(t,e){t._autoDestroy&&t.destroy(e)}(t,"premature close"===r.message?null:r):e&&!t._ended&&t.end()}},m=function(){},v=function(t,e,r){if(!(this instanceof v))return new v(t,e,r);o.Duplex.call(this,r),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!r||!1!==r.autoDestroy,this._forwardDestroy=!r||!1!==r.destroy,this._forwardEnd=!r||!1!==r.end,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,t&&this.setWritable(t),e&&this.setReadable(e)};h(v,o.Duplex),v.obj=function(t,e,r){return r||(r={}),r.objectMode=!0,r.highWaterMark=16,new v(t,e,r)},v.prototype.cork=function(){1==++this._corked&&this.emit("cork")},v.prototype.uncork=function(){this._corked&&0==--this._corked&&this.emit("uncork")},v.prototype.setWritable=function(t){if(this._unwrite&&this._unwrite(),this.destroyed)t&&t.destroy&&t.destroy();else if(null!==t&&!1!==t){var e=this,r=c(t,{writable:!0,readable:!1},y(this,this._forwardEnd)),o=function(){var t=e._ondrain;e._ondrain=null,t&&t()};this._unwrite&&n.nextTick(o),this._writable=t,this._writable.on("drain",o),this._unwrite=function(){e._writable.removeListener("drain",o),r()},this.uncork()}else this.end()},v.prototype.setReadable=function(t){if(this._unread&&this._unread(),this.destroyed)t&&t.destroy&&t.destroy();else{if(null===t||!1===t)return this.push(null),void this.resume();var e,r=this,n=c(t,{writable:!1,readable:!0},y(this)),h=function(){r._forward()},l=function(){r.push(null)};this._drained=!0,this._readable=t,this._readable2=t._readableState?t:(e=t,new o.Readable({objectMode:!0,highWaterMark:16}).wrap(e)),this._readable2.on("readable",h),this._readable2.on("end",l),this._unread=function(){r._readable2.removeListener("readable",h),r._readable2.removeListener("end",l),n()},this._forward()}},v.prototype._read=function(){this._drained=!0,this._forward()},v.prototype._forward=function(){if(!this._forwarding&&this._readable2&&this._drained){var data;for(this._forwarding=!0;this._drained&&null!==(data=l(this._readable2));)this.destroyed||(this._drained=this.push(data));this._forwarding=!1}},v.prototype.destroy=function(t,e){if(e||(e=m),this.destroyed)return e(null);this.destroyed=!0;var r=this;n.nextTick((function(){r._destroy(t),e(null)}))},v.prototype._destroy=function(t){if(t){var e=this._ondrain;this._ondrain=null,e?e(t):this.emit("error",t)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},v.prototype._write=function(data,t,e){if(!this.destroyed)return this._corked?d(this,this._write.bind(this,data,t,e)):data===f?this._finish(e):this._writable?void(!1===this._writable.write(data)?this._ondrain=e:this.destroyed||e()):e()},v.prototype._finish=function(t){var e=this;this.emit("preend"),d(this,(function(){var r,n;r=e._forwardEnd&&e._writable,n=function(){!1===e._writableState.prefinished&&(e._writableState.prefinished=!0),e.emit("prefinish"),d(e,t)},r?r._writableState&&r._writableState.finished?n():r._writableState?r.end(n):(r.end(),n()):n()}))},v.prototype.end=function(data,t,e){return"function"==typeof data?this.end(null,null,data):"function"==typeof t?this.end(data,null,t):(this._ended=!0,data&&this.write(data),this._writableState.ending||this._writableState.destroyed||this.write(f),o.Writable.prototype.end.call(this,e))},t.exports=v}).call(this,r(534).Buffer,r(128))},583:function(t,e,r){"use strict";var n=r(556).codes.ERR_STREAM_PREMATURE_CLOSE;function o(){}t.exports=function t(e,r,c){if("function"==typeof r)return t(e,null,r);r||(r={}),c=function(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];t.apply(this,n)}}}(c||o);var h=r.readable||!1!==r.readable&&e.readable,l=r.writable||!1!==r.writable&&e.writable,f=function(){e.writable||y()},d=e._writableState&&e._writableState.finished,y=function(){l=!1,d=!0,h||c.call(e)},m=e._readableState&&e._readableState.endEmitted,v=function(){h=!1,m=!0,l||c.call(e)},_=function(t){c.call(e,t)},w=function(){var t;return h&&!m?(e._readableState&&e._readableState.ended||(t=new n),c.call(e,t)):l&&!d?(e._writableState&&e._writableState.ended||(t=new n),c.call(e,t)):void 0},S=function(){e.req.on("finish",y)};return!function(t){return t.setHeader&&"function"==typeof t.abort}(e)?l&&!e._writableState&&(e.on("end",f),e.on("close",f)):(e.on("complete",y),e.on("abort",w),e.req?S():e.on("request",S)),e.on("end",v),e.on("finish",y),!1!==r.error&&e.on("error",_),e.on("close",w),function(){e.removeListener("complete",y),e.removeListener("abort",w),e.removeListener("request",S),e.req&&e.req.removeListener("finish",y),e.removeListener("end",f),e.removeListener("close",f),e.removeListener("finish",y),e.removeListener("end",v),e.removeListener("error",_),e.removeListener("close",w)}}},595:function(t,e,r){"use strict";const n=r(577),o=r(559).Readable,c={objectMode:!0},h={clean:!0};function l(t){if(!(this instanceof l))return new l(t);this.options=t||{},this.options=n(h,t),this._inflights=new Map}l.prototype.put=function(t,e){return this._inflights.set(t.messageId,t),e&&e(),this},l.prototype.createStream=function(){const t=new o(c),e=[];let r=!1,i=0;return this._inflights.forEach((function(t,r){e.push(t)})),t._read=function(){!r&&i<e.length?this.push(e[i++]):this.push(null)},t.destroy=function(){if(r)return;const t=this;r=!0,setTimeout((function(){t.emit("close")}),0)},t},l.prototype.del=function(t,e){return(t=this._inflights.get(t.messageId))?(this._inflights.delete(t.messageId),e(null,t)):e&&e(new Error("missing packet")),this},l.prototype.get=function(t,e){return(t=this._inflights.get(t.messageId))?e(null,t):e&&e(new Error("missing packet")),this},l.prototype.close=function(t){this.options.clean&&(this._inflights=null),t&&t()},t.exports=l},596:function(t,e,r){"use strict";(function(e,n){var o;t.exports=I,I.ReadableState=x;r(546).EventEmitter;var c=function(t,e){return t.listeners(e).length},h=r(597),l=r(534).Buffer,f=e.Uint8Array||function(){};var d,y=r(567);d=y&&y.debuglog?y.debuglog("stream"):function(){};var m,v,_,w=r(644),S=r(598),E=r(599).getHighWaterMark,k=r(551).codes,R=k.ERR_INVALID_ARG_TYPE,M=k.ERR_STREAM_PUSH_AFTER_EOF,T=k.ERR_METHOD_NOT_IMPLEMENTED,A=k.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(535)(I,h);var O=S.errorOrDestroy,P=["error","close","destroy","pause","resume"];function x(t,e,n){o=o||r(552),t=t||{},"boolean"!=typeof n&&(n=e instanceof o),this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=E(this,t,"readableHighWaterMark",n),this.buffer=new w,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(m||(m=r(553).StringDecoder),this.decoder=new m(t.encoding),this.encoding=t.encoding)}function I(t){if(o=o||r(552),!(this instanceof I))return new I(t);var e=this instanceof o;this._readableState=new x(t,this,e),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),h.call(this)}function C(t,e,r,n,o){d("readableAddChunk",e);var c,h=t._readableState;if(null===e)h.reading=!1,function(t,e){if(d("onEofChunk"),e.ended)return;if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?N(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,D(t)))}(t,h);else if(o||(c=function(t,e){var r;n=e,l.isBuffer(n)||n instanceof f||"string"==typeof e||void 0===e||t.objectMode||(r=new R("chunk",["string","Buffer","Uint8Array"],e));var n;return r}(h,e)),c)O(t,c);else if(h.objectMode||e&&e.length>0)if("string"==typeof e||h.objectMode||Object.getPrototypeOf(e)===l.prototype||(e=function(t){return l.from(t)}(e)),n)h.endEmitted?O(t,new A):L(t,h,e,!0);else if(h.ended)O(t,new M);else{if(h.destroyed)return!1;h.reading=!1,h.decoder&&!r?(e=h.decoder.write(e),h.objectMode||0!==e.length?L(t,h,e,!1):U(t,h)):L(t,h,e,!1)}else n||(h.reading=!1,U(t,h));return!h.ended&&(h.length<h.highWaterMark||0===h.length)}function L(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&N(t)),U(t,e)}Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),I.prototype.destroy=S.destroy,I.prototype._undestroy=S.undestroy,I.prototype._destroy=function(t,e){e(t)},I.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=l.from(t,e),e=""),r=!0),C(this,t,e,!1,r)},I.prototype.unshift=function(t){return C(this,t,null,!0,!1)},I.prototype.isPaused=function(){return!1===this._readableState.flowing},I.prototype.setEncoding=function(t){m||(m=r(553).StringDecoder);var e=new m(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var p=this._readableState.buffer.head,content="";null!==p;)content+=e.write(p.data),p=p.next;return this._readableState.buffer.clear(),""!==content&&this._readableState.buffer.push(content),this._readableState.length=content.length,this};var j=1073741824;function B(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=j?t=j:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function N(t){var e=t._readableState;d("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(d("emitReadable",e.flowing),e.emittedReadable=!0,n.nextTick(D,t))}function D(t){var e=t._readableState;d("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,K(t)}function U(t,e){e.readingMore||(e.readingMore=!0,n.nextTick($,t,e))}function $(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var r=e.length;if(d("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}function F(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function H(t){d("readable nexttick read 0"),t.read(0)}function W(t,e){d("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),K(t),e.flowing&&!e.reading&&t.read(0)}function K(t){var e=t._readableState;for(d("flow",e.flowing);e.flowing&&null!==t.read(););}function V(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r);var r}function Y(t){var e=t._readableState;d("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,n.nextTick(z,e,t))}function z(t,e){if(d("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}function G(t,e){for(var i=0,r=t.length;i<r;i++)if(t[i]===e)return i;return-1}I.prototype.read=function(t){d("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return d("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?Y(this):N(this),null;if(0===(t=B(t,e))&&e.ended)return 0===e.length&&Y(this),null;var n,o=e.needReadable;return d("need readable",o),(0===e.length||e.length-t<e.highWaterMark)&&d("length less than watermark",o=!0),e.ended||e.reading?d("reading or ended",o=!1):o&&(d("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=B(r,e))),null===(n=t>0?V(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&Y(this)),null!==n&&this.emit("data",n),n},I.prototype._read=function(t){O(this,new T("_read()"))},I.prototype.pipe=function(t,e){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,d("pipe count=%d opts=%j",o.pipesCount,e);var h=(!e||!1!==e.end)&&t!==n.stdout&&t!==n.stderr?f:E;function l(e,n){d("onunpipe"),e===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,d("cleanup"),t.removeListener("close",w),t.removeListener("finish",S),t.removeListener("drain",y),t.removeListener("error",_),t.removeListener("unpipe",l),r.removeListener("end",f),r.removeListener("end",E),r.removeListener("data",v),m=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||y())}function f(){d("onend"),t.end()}o.endEmitted?n.nextTick(h):r.once("end",h),t.on("unpipe",l);var y=function(t){return function(){var e=t._readableState;d("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&c(t,"data")&&(e.flowing=!0,K(t))}}(r);t.on("drain",y);var m=!1;function v(e){d("ondata");var n=t.write(e);d("dest.write",n),!1===n&&((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==G(o.pipes,t))&&!m&&(d("false write response, pause",o.awaitDrain),o.awaitDrain++),r.pause())}function _(e){d("onerror",e),E(),t.removeListener("error",_),0===c(t,"error")&&O(t,e)}function w(){t.removeListener("finish",S),E()}function S(){d("onfinish"),t.removeListener("close",w),E()}function E(){d("unpipe"),r.unpipe(t)}return r.on("data",v),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,"error",_),t.once("close",w),t.once("finish",S),t.emit("pipe",r),o.flowing||(d("pipe resume"),r.resume()),t},I.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var n=e.pipes,o=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var i=0;i<o;i++)n[i].emit("unpipe",this,{hasUnpiped:!1});return this}var c=G(e.pipes,t);return-1===c||(e.pipes.splice(c,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},I.prototype.on=function(t,e){var r=h.prototype.on.call(this,t,e),o=this._readableState;return"data"===t?(o.readableListening=this.listenerCount("readable")>0,!1!==o.flowing&&this.resume()):"readable"===t&&(o.endEmitted||o.readableListening||(o.readableListening=o.needReadable=!0,o.flowing=!1,o.emittedReadable=!1,d("on readable",o.length,o.reading),o.length?N(this):o.reading||n.nextTick(H,this))),r},I.prototype.addListener=I.prototype.on,I.prototype.removeListener=function(t,e){var r=h.prototype.removeListener.call(this,t,e);return"readable"===t&&n.nextTick(F,this),r},I.prototype.removeAllListeners=function(t){var e=h.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||n.nextTick(F,this),e},I.prototype.resume=function(){var t=this._readableState;return t.flowing||(d("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,n.nextTick(W,t,e))}(this,t)),t.paused=!1,this},I.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},I.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var i in t.on("end",(function(){if(d("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(o){(d("wrapped data"),r.decoder&&(o=r.decoder.write(o)),r.objectMode&&null==o)||(r.objectMode||o&&o.length)&&(e.push(o)||(n=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<P.length;o++)t.on(P[o],this.emit.bind(this,P[o]));return this._read=function(e){d("wrapped _read",e),n&&(n=!1,t.resume())},this},"function"==typeof Symbol&&(I.prototype[Symbol.asyncIterator]=function(){return void 0===v&&(v=r(646)),v(this)}),Object.defineProperty(I.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(I.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(I.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),I._fromList=V,Object.defineProperty(I.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(I.from=function(t,e){return void 0===_&&(_=r(647)),_(I,t,e)})}).call(this,r(77),r(128))},597:function(t,e,r){t.exports=r(546).EventEmitter},598:function(t,e,r){"use strict";(function(e){function r(t,e){o(t,e),n(t)}function n(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function o(t,e){t.emit("error",e)}t.exports={destroy:function(t,c){var h=this,l=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return l||f?(c?c(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(o,this,t)):e.nextTick(o,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!c&&t?h._writableState?h._writableState.errorEmitted?e.nextTick(n,h):(h._writableState.errorEmitted=!0,e.nextTick(r,h,t)):e.nextTick(r,h,t):c?(e.nextTick(n,h),c(t)):e.nextTick(n,h)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}}}).call(this,r(128))},599:function(t,e,r){"use strict";var n=r(551).codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(t,e,r,o){var c=function(t,e,r){return null!=t.highWaterMark?t.highWaterMark:e?t[r]:null}(e,o,r);if(null!=c){if(!isFinite(c)||Math.floor(c)!==c||c<0)throw new n(o?r:"highWaterMark",c);return Math.floor(c)}return t.objectMode?16:16384}}},600:function(t,e,r){"use strict";(function(e,n){function o(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var n=t.entry;t.entry=null;for(;n;){var o=n.callback;e.pendingcb--,o(r),n=n.next}e.corkedRequestsFree.next=t}(e,t)}}var c;t.exports=I,I.WritableState=x;var h={deprecate:r(578)},l=r(597),f=r(534).Buffer,d=e.Uint8Array||function(){};var y,m=r(598),v=r(599).getHighWaterMark,_=r(551).codes,w=_.ERR_INVALID_ARG_TYPE,S=_.ERR_METHOD_NOT_IMPLEMENTED,E=_.ERR_MULTIPLE_CALLBACK,k=_.ERR_STREAM_CANNOT_PIPE,R=_.ERR_STREAM_DESTROYED,M=_.ERR_STREAM_NULL_VALUES,T=_.ERR_STREAM_WRITE_AFTER_END,A=_.ERR_UNKNOWN_ENCODING,O=m.errorOrDestroy;function P(){}function x(t,e,h){c=c||r(552),t=t||{},"boolean"!=typeof h&&(h=e instanceof c),this.objectMode=!!t.objectMode,h&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=v(this,t,"writableHighWaterMark",h),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var l=!1===t.decodeStrings;this.decodeStrings=!l,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,o=r.sync,c=r.writecb;if("function"!=typeof c)throw new E;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,o,c){--e.pendingcb,r?(n.nextTick(c,o),n.nextTick(D,t,e),t._writableState.errorEmitted=!0,O(t,o)):(c(o),t._writableState.errorEmitted=!0,O(t,o),D(t,e))}(t,r,o,e,c);else{var h=B(r)||t.destroyed;h||r.corked||r.bufferProcessing||!r.bufferedRequest||j(t,r),o?n.nextTick(L,t,r,h,c):L(t,r,h,c)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function I(t){var e=this instanceof(c=c||r(552));if(!e&&!y.call(I,this))return new I(t);this._writableState=new x(t,this,e),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),l.call(this)}function C(t,e,r,n,o,c,h){e.writelen=n,e.writecb=h,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new R("write")):r?t._writev(o,e.onwrite):t._write(o,c,e.onwrite),e.sync=!1}function L(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),D(t,e)}function j(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,c=new Array(n),h=e.corkedRequestsFree;h.entry=r;for(var l=0,f=!0;r;)c[l]=r,r.isBuf||(f=!1),r=r.next,l+=1;c.allBuffers=f,C(t,e,!0,e.length,c,"",h.finish),e.pendingcb++,e.lastBufferedRequest=null,h.next?(e.corkedRequestsFree=h.next,h.next=null):e.corkedRequestsFree=new o(e),e.bufferedRequestCount=0}else{for(;r;){var d=r.chunk,y=r.encoding,m=r.callback;if(C(t,e,!1,e.objectMode?1:d.length,d,y,m),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function B(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function N(t,e){t._final((function(r){e.pendingcb--,r&&O(t,r),e.prefinished=!0,t.emit("prefinish"),D(t,e)}))}function D(t,e){var r=B(e);if(r&&(function(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,n.nextTick(N,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var o=t._readableState;(!o||o.autoDestroy&&o.endEmitted)&&t.destroy()}return r}r(535)(I,l),x.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(x.prototype,"buffer",{get:h.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(y=Function.prototype[Symbol.hasInstance],Object.defineProperty(I,Symbol.hasInstance,{value:function(object){return!!y.call(this,object)||this===I&&(object&&object._writableState instanceof x)}})):y=function(object){return object instanceof this},I.prototype.pipe=function(){O(this,new k)},I.prototype.write=function(t,e,r){var o,c=this._writableState,h=!1,l=!c.objectMode&&(o=t,f.isBuffer(o)||o instanceof d);return l&&!f.isBuffer(t)&&(t=function(t){return f.from(t)}(t)),"function"==typeof e&&(r=e,e=null),l?e="buffer":e||(e=c.defaultEncoding),"function"!=typeof r&&(r=P),c.ending?function(t,e){var r=new T;O(t,r),n.nextTick(e,r)}(this,r):(l||function(t,e,r,o){var c;return null===r?c=new M:"string"==typeof r||e.objectMode||(c=new w("chunk",["string","Buffer"],r)),!c||(O(t,c),n.nextTick(o,c),!1)}(this,c,t,r))&&(c.pendingcb++,h=function(t,e,r,n,o,c){if(!r){var h=function(t,e,r){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=f.from(e,r));return e}(e,n,o);n!==h&&(r=!0,o="buffer",n=h)}var l=e.objectMode?1:n.length;e.length+=l;var d=e.length<e.highWaterMark;d||(e.needDrain=!0);if(e.writing||e.corked){var y=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:o,isBuf:r,callback:c,next:null},y?y.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else C(t,e,!1,l,n,o,c);return d}(this,c,l,t,e,r)),h},I.prototype.cork=function(){this._writableState.corked++},I.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||j(this,t))},I.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new A(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(I.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(I.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),I.prototype._write=function(t,e,r){r(new S("_write()"))},I.prototype._writev=null,I.prototype.end=function(t,e,r){var o=this._writableState;return"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),o.corked&&(o.corked=1,this.uncork()),o.ending||function(t,e,r){e.ending=!0,D(t,e),r&&(e.finished?n.nextTick(r):t.once("finish",r));e.ended=!0,t.writable=!1}(this,o,r),this},Object.defineProperty(I.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),I.prototype.destroy=m.destroy,I.prototype._undestroy=m.undestroy,I.prototype._destroy=function(t,e){e(t)}}).call(this,r(77),r(128))},601:function(t,e,r){"use strict";t.exports=y;var n=r(551).codes,o=n.ERR_METHOD_NOT_IMPLEMENTED,c=n.ERR_MULTIPLE_CALLBACK,h=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,l=n.ERR_TRANSFORM_WITH_LENGTH_0,f=r(552);function d(t,data){var e=this._transformState;e.transforming=!1;var r=e.writecb;if(null===r)return this.emit("error",new c);e.writechunk=null,e.writecb=null,null!=data&&this.push(data),r(t);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function y(t){if(!(this instanceof y))return new y(t);f.call(this,t),this._transformState={afterTransform:d.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",m)}function m(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?v(this,null,null):this._flush((function(e,data){v(t,e,data)}))}function v(t,e,data){if(e)return t.emit("error",e);if(null!=data&&t.push(data),t._writableState.length)throw new l;if(t._transformState.transforming)throw new h;return t.push(null)}r(535)(y,f),y.prototype.push=function(t,e){return this._transformState.needTransform=!1,f.prototype.push.call(this,t,e)},y.prototype._transform=function(t,e,r){r(new o("_transform()"))},y.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var o=this._readableState;(n.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},y.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},y.prototype._destroy=function(t,e){f.prototype._destroy.call(this,t,(function(t){e(t)}))}},602:function(t,e,r){"use strict";(function(e,n){var o;t.exports=I,I.ReadableState=x;r(546).EventEmitter;var c=function(t,e){return t.listeners(e).length},h=r(603),l=r(534).Buffer,f=(void 0!==e?e:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var d,y=r(569);d=y&&y.debuglog?y.debuglog("stream"):function(){};var m,v,_,w=r(663),S=r(604),E=r(605).getHighWaterMark,k=r(554).codes,R=k.ERR_INVALID_ARG_TYPE,M=k.ERR_STREAM_PUSH_AFTER_EOF,T=k.ERR_METHOD_NOT_IMPLEMENTED,A=k.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(535)(I,h);var O=S.errorOrDestroy,P=["error","close","destroy","pause","resume"];function x(t,e,n){o=o||r(555),t=t||{},"boolean"!=typeof n&&(n=e instanceof o),this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=E(this,t,"readableHighWaterMark",n),this.buffer=new w,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(m||(m=r(553).StringDecoder),this.decoder=new m(t.encoding),this.encoding=t.encoding)}function I(t){if(o=o||r(555),!(this instanceof I))return new I(t);var e=this instanceof o;this._readableState=new x(t,this,e),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),h.call(this)}function C(t,e,r,n,o){d("readableAddChunk",e);var c,h=t._readableState;if(null===e)h.reading=!1,function(t,e){if(d("onEofChunk"),e.ended)return;if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?N(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,D(t)))}(t,h);else if(o||(c=function(t,e){var r;n=e,l.isBuffer(n)||n instanceof f||"string"==typeof e||void 0===e||t.objectMode||(r=new R("chunk",["string","Buffer","Uint8Array"],e));var n;return r}(h,e)),c)O(t,c);else if(h.objectMode||e&&e.length>0)if("string"==typeof e||h.objectMode||Object.getPrototypeOf(e)===l.prototype||(e=function(t){return l.from(t)}(e)),n)h.endEmitted?O(t,new A):L(t,h,e,!0);else if(h.ended)O(t,new M);else{if(h.destroyed)return!1;h.reading=!1,h.decoder&&!r?(e=h.decoder.write(e),h.objectMode||0!==e.length?L(t,h,e,!1):U(t,h)):L(t,h,e,!1)}else n||(h.reading=!1,U(t,h));return!h.ended&&(h.length<h.highWaterMark||0===h.length)}function L(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&N(t)),U(t,e)}Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),I.prototype.destroy=S.destroy,I.prototype._undestroy=S.undestroy,I.prototype._destroy=function(t,e){e(t)},I.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=l.from(t,e),e=""),r=!0),C(this,t,e,!1,r)},I.prototype.unshift=function(t){return C(this,t,null,!0,!1)},I.prototype.isPaused=function(){return!1===this._readableState.flowing},I.prototype.setEncoding=function(t){m||(m=r(553).StringDecoder);var e=new m(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var p=this._readableState.buffer.head,content="";null!==p;)content+=e.write(p.data),p=p.next;return this._readableState.buffer.clear(),""!==content&&this._readableState.buffer.push(content),this._readableState.length=content.length,this};var j=1073741824;function B(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=j?t=j:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function N(t){var e=t._readableState;d("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(d("emitReadable",e.flowing),e.emittedReadable=!0,n.nextTick(D,t))}function D(t){var e=t._readableState;d("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,K(t)}function U(t,e){e.readingMore||(e.readingMore=!0,n.nextTick($,t,e))}function $(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var r=e.length;if(d("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}function F(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function H(t){d("readable nexttick read 0"),t.read(0)}function W(t,e){d("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),K(t),e.flowing&&!e.reading&&t.read(0)}function K(t){var e=t._readableState;for(d("flow",e.flowing);e.flowing&&null!==t.read(););}function V(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r);var r}function Y(t){var e=t._readableState;d("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,n.nextTick(z,e,t))}function z(t,e){if(d("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}function G(t,e){for(var i=0,r=t.length;i<r;i++)if(t[i]===e)return i;return-1}I.prototype.read=function(t){d("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return d("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?Y(this):N(this),null;if(0===(t=B(t,e))&&e.ended)return 0===e.length&&Y(this),null;var n,o=e.needReadable;return d("need readable",o),(0===e.length||e.length-t<e.highWaterMark)&&d("length less than watermark",o=!0),e.ended||e.reading?d("reading or ended",o=!1):o&&(d("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=B(r,e))),null===(n=t>0?V(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&Y(this)),null!==n&&this.emit("data",n),n},I.prototype._read=function(t){O(this,new T("_read()"))},I.prototype.pipe=function(t,e){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,d("pipe count=%d opts=%j",o.pipesCount,e);var h=(!e||!1!==e.end)&&t!==n.stdout&&t!==n.stderr?f:E;function l(e,n){d("onunpipe"),e===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,d("cleanup"),t.removeListener("close",w),t.removeListener("finish",S),t.removeListener("drain",y),t.removeListener("error",_),t.removeListener("unpipe",l),r.removeListener("end",f),r.removeListener("end",E),r.removeListener("data",v),m=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||y())}function f(){d("onend"),t.end()}o.endEmitted?n.nextTick(h):r.once("end",h),t.on("unpipe",l);var y=function(t){return function(){var e=t._readableState;d("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&c(t,"data")&&(e.flowing=!0,K(t))}}(r);t.on("drain",y);var m=!1;function v(e){d("ondata");var n=t.write(e);d("dest.write",n),!1===n&&((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==G(o.pipes,t))&&!m&&(d("false write response, pause",o.awaitDrain),o.awaitDrain++),r.pause())}function _(e){d("onerror",e),E(),t.removeListener("error",_),0===c(t,"error")&&O(t,e)}function w(){t.removeListener("finish",S),E()}function S(){d("onfinish"),t.removeListener("close",w),E()}function E(){d("unpipe"),r.unpipe(t)}return r.on("data",v),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,"error",_),t.once("close",w),t.once("finish",S),t.emit("pipe",r),o.flowing||(d("pipe resume"),r.resume()),t},I.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var n=e.pipes,o=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var i=0;i<o;i++)n[i].emit("unpipe",this,{hasUnpiped:!1});return this}var c=G(e.pipes,t);return-1===c||(e.pipes.splice(c,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},I.prototype.on=function(t,e){var r=h.prototype.on.call(this,t,e),o=this._readableState;return"data"===t?(o.readableListening=this.listenerCount("readable")>0,!1!==o.flowing&&this.resume()):"readable"===t&&(o.endEmitted||o.readableListening||(o.readableListening=o.needReadable=!0,o.flowing=!1,o.emittedReadable=!1,d("on readable",o.length,o.reading),o.length?N(this):o.reading||n.nextTick(H,this))),r},I.prototype.addListener=I.prototype.on,I.prototype.removeListener=function(t,e){var r=h.prototype.removeListener.call(this,t,e);return"readable"===t&&n.nextTick(F,this),r},I.prototype.removeAllListeners=function(t){var e=h.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||n.nextTick(F,this),e},I.prototype.resume=function(){var t=this._readableState;return t.flowing||(d("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,n.nextTick(W,t,e))}(this,t)),t.paused=!1,this},I.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},I.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var i in t.on("end",(function(){if(d("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(o){(d("wrapped data"),r.decoder&&(o=r.decoder.write(o)),r.objectMode&&null==o)||(r.objectMode||o&&o.length)&&(e.push(o)||(n=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<P.length;o++)t.on(P[o],this.emit.bind(this,P[o]));return this._read=function(e){d("wrapped _read",e),n&&(n=!1,t.resume())},this},"function"==typeof Symbol&&(I.prototype[Symbol.asyncIterator]=function(){return void 0===v&&(v=r(664)),v(this)}),Object.defineProperty(I.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(I.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(I.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),I._fromList=V,Object.defineProperty(I.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(I.from=function(t,e){return void 0===_&&(_=r(665)),_(I,t,e)})}).call(this,r(77),r(128))},603:function(t,e,r){t.exports=r(546).EventEmitter},604:function(t,e,r){"use strict";(function(e){function r(t,e){o(t,e),n(t)}function n(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function o(t,e){t.emit("error",e)}t.exports={destroy:function(t,c){var h=this,l=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return l||f?(c?c(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(o,this,t)):e.nextTick(o,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!c&&t?h._writableState?h._writableState.errorEmitted?e.nextTick(n,h):(h._writableState.errorEmitted=!0,e.nextTick(r,h,t)):e.nextTick(r,h,t):c?(e.nextTick(n,h),c(t)):e.nextTick(n,h)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}}}).call(this,r(128))},605:function(t,e,r){"use strict";var n=r(554).codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(t,e,r,o){var c=function(t,e,r){return null!=t.highWaterMark?t.highWaterMark:e?t[r]:null}(e,o,r);if(null!=c){if(!isFinite(c)||Math.floor(c)!==c||c<0)throw new n(o?r:"highWaterMark",c);return Math.floor(c)}return t.objectMode?16:16384}}},606:function(t,e,r){"use strict";(function(e,n){function o(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var n=t.entry;t.entry=null;for(;n;){var o=n.callback;e.pendingcb--,o(r),n=n.next}e.corkedRequestsFree.next=t}(e,t)}}var c;t.exports=I,I.WritableState=x;var h={deprecate:r(578)},l=r(603),f=r(534).Buffer,d=(void 0!==e?e:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var y,m=r(604),v=r(605).getHighWaterMark,_=r(554).codes,w=_.ERR_INVALID_ARG_TYPE,S=_.ERR_METHOD_NOT_IMPLEMENTED,E=_.ERR_MULTIPLE_CALLBACK,k=_.ERR_STREAM_CANNOT_PIPE,R=_.ERR_STREAM_DESTROYED,M=_.ERR_STREAM_NULL_VALUES,T=_.ERR_STREAM_WRITE_AFTER_END,A=_.ERR_UNKNOWN_ENCODING,O=m.errorOrDestroy;function P(){}function x(t,e,h){c=c||r(555),t=t||{},"boolean"!=typeof h&&(h=e instanceof c),this.objectMode=!!t.objectMode,h&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=v(this,t,"writableHighWaterMark",h),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var l=!1===t.decodeStrings;this.decodeStrings=!l,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,o=r.sync,c=r.writecb;if("function"!=typeof c)throw new E;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,o,c){--e.pendingcb,r?(n.nextTick(c,o),n.nextTick(D,t,e),t._writableState.errorEmitted=!0,O(t,o)):(c(o),t._writableState.errorEmitted=!0,O(t,o),D(t,e))}(t,r,o,e,c);else{var h=B(r)||t.destroyed;h||r.corked||r.bufferProcessing||!r.bufferedRequest||j(t,r),o?n.nextTick(L,t,r,h,c):L(t,r,h,c)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function I(t){var e=this instanceof(c=c||r(555));if(!e&&!y.call(I,this))return new I(t);this._writableState=new x(t,this,e),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),l.call(this)}function C(t,e,r,n,o,c,h){e.writelen=n,e.writecb=h,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new R("write")):r?t._writev(o,e.onwrite):t._write(o,c,e.onwrite),e.sync=!1}function L(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),D(t,e)}function j(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,c=new Array(n),h=e.corkedRequestsFree;h.entry=r;for(var l=0,f=!0;r;)c[l]=r,r.isBuf||(f=!1),r=r.next,l+=1;c.allBuffers=f,C(t,e,!0,e.length,c,"",h.finish),e.pendingcb++,e.lastBufferedRequest=null,h.next?(e.corkedRequestsFree=h.next,h.next=null):e.corkedRequestsFree=new o(e),e.bufferedRequestCount=0}else{for(;r;){var d=r.chunk,y=r.encoding,m=r.callback;if(C(t,e,!1,e.objectMode?1:d.length,d,y,m),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function B(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function N(t,e){t._final((function(r){e.pendingcb--,r&&O(t,r),e.prefinished=!0,t.emit("prefinish"),D(t,e)}))}function D(t,e){var r=B(e);if(r&&(function(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,n.nextTick(N,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var o=t._readableState;(!o||o.autoDestroy&&o.endEmitted)&&t.destroy()}return r}r(535)(I,l),x.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(x.prototype,"buffer",{get:h.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(y=Function.prototype[Symbol.hasInstance],Object.defineProperty(I,Symbol.hasInstance,{value:function(object){return!!y.call(this,object)||this===I&&(object&&object._writableState instanceof x)}})):y=function(object){return object instanceof this},I.prototype.pipe=function(){O(this,new k)},I.prototype.write=function(t,e,r){var o,c=this._writableState,h=!1,l=!c.objectMode&&(o=t,f.isBuffer(o)||o instanceof d);return l&&!f.isBuffer(t)&&(t=function(t){return f.from(t)}(t)),"function"==typeof e&&(r=e,e=null),l?e="buffer":e||(e=c.defaultEncoding),"function"!=typeof r&&(r=P),c.ending?function(t,e){var r=new T;O(t,r),n.nextTick(e,r)}(this,r):(l||function(t,e,r,o){var c;return null===r?c=new M:"string"==typeof r||e.objectMode||(c=new w("chunk",["string","Buffer"],r)),!c||(O(t,c),n.nextTick(o,c),!1)}(this,c,t,r))&&(c.pendingcb++,h=function(t,e,r,n,o,c){if(!r){var h=function(t,e,r){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=f.from(e,r));return e}(e,n,o);n!==h&&(r=!0,o="buffer",n=h)}var l=e.objectMode?1:n.length;e.length+=l;var d=e.length<e.highWaterMark;d||(e.needDrain=!0);if(e.writing||e.corked){var y=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:o,isBuf:r,callback:c,next:null},y?y.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else C(t,e,!1,l,n,o,c);return d}(this,c,l,t,e,r)),h},I.prototype.cork=function(){this._writableState.corked++},I.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||j(this,t))},I.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new A(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(I.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(I.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),I.prototype._write=function(t,e,r){r(new S("_write()"))},I.prototype._writev=null,I.prototype.end=function(t,e,r){var o=this._writableState;return"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),o.corked&&(o.corked=1,this.uncork()),o.ending||function(t,e,r){e.ending=!0,D(t,e),r&&(e.finished?n.nextTick(r):t.once("finish",r));e.ended=!0,t.writable=!1}(this,o,r),this},Object.defineProperty(I.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),I.prototype.destroy=m.destroy,I.prototype._undestroy=m.undestroy,I.prototype._destroy=function(t,e){e(t)}}).call(this,r(77),r(128))},607:function(t,e,r){"use strict";t.exports=y;var n=r(554).codes,o=n.ERR_METHOD_NOT_IMPLEMENTED,c=n.ERR_MULTIPLE_CALLBACK,h=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,l=n.ERR_TRANSFORM_WITH_LENGTH_0,f=r(555);function d(t,data){var e=this._transformState;e.transforming=!1;var r=e.writecb;if(null===r)return this.emit("error",new c);e.writechunk=null,e.writecb=null,null!=data&&this.push(data),r(t);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function y(t){if(!(this instanceof y))return new y(t);f.call(this,t),this._transformState={afterTransform:d.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",m)}function m(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?v(this,null,null):this._flush((function(e,data){v(t,e,data)}))}function v(t,e,data){if(e)return t.emit("error",e);if(null!=data&&t.push(data),t._writableState.length)throw new l;if(t._transformState.transforming)throw new h;return t.push(null)}r(535)(y,f),y.prototype.push=function(t,e){return this._transformState.needTransform=!1,f.prototype.push.call(this,t,e)},y.prototype._transform=function(t,e,r){r(new o("_transform()"))},y.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var o=this._readableState;(n.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},y.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},y.prototype._destroy=function(t,e){f.prototype._destroy.call(this,t,(function(t){e(t)}))}},608:function(t,e,r){(function(e){const r=t.exports;r.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},r.codes={};for(const t in r.types){const e=r.types[t];r.codes[e]=t}r.CMD_SHIFT=4,r.CMD_MASK=240,r.DUP_MASK=8,r.QOS_MASK=3,r.QOS_SHIFT=1,r.RETAIN_MASK=1,r.VARBYTEINT_MASK=127,r.VARBYTEINT_FIN_MASK=128,r.VARBYTEINT_MAX=268435455,r.SESSIONPRESENT_MASK=1,r.SESSIONPRESENT_HEADER=e.from([r.SESSIONPRESENT_MASK]),r.CONNACK_HEADER=e.from([r.codes.connack<<r.CMD_SHIFT]),r.USERNAME_MASK=128,r.PASSWORD_MASK=64,r.WILL_RETAIN_MASK=32,r.WILL_QOS_MASK=24,r.WILL_QOS_SHIFT=3,r.WILL_FLAG_MASK=4,r.CLEAN_SESSION_MASK=2,r.CONNECT_HEADER=e.from([r.codes.connect<<r.CMD_SHIFT]),r.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},r.propertiesCodes={};for(const t in r.properties){const e=r.properties[t];r.propertiesCodes[e]=t}function n(t){return[0,1,2].map((n=>[0,1].map((o=>[0,1].map((c=>{const h=e.alloc(1);return h.writeUInt8(r.codes[t]<<r.CMD_SHIFT|(o?r.DUP_MASK:0)|n<<r.QOS_SHIFT|c,0,!0),h}))))))}r.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"},r.PUBLISH_HEADER=n("publish"),r.SUBSCRIBE_HEADER=n("subscribe"),r.SUBSCRIBE_OPTIONS_QOS_MASK=3,r.SUBSCRIBE_OPTIONS_NL_MASK=1,r.SUBSCRIBE_OPTIONS_NL_SHIFT=2,r.SUBSCRIBE_OPTIONS_RAP_MASK=1,r.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,r.SUBSCRIBE_OPTIONS_RH_MASK=3,r.SUBSCRIBE_OPTIONS_RH_SHIFT=4,r.SUBSCRIBE_OPTIONS_RH=[0,16,32],r.SUBSCRIBE_OPTIONS_NL=4,r.SUBSCRIBE_OPTIONS_RAP=8,r.SUBSCRIBE_OPTIONS_QOS=[0,1,2],r.UNSUBSCRIBE_HEADER=n("unsubscribe"),r.ACKS={unsuback:n("unsuback"),puback:n("puback"),pubcomp:n("pubcomp"),pubrel:n("pubrel"),pubrec:n("pubrec")},r.SUBACK_HEADER=e.from([r.codes.suback<<r.CMD_SHIFT]),r.VERSION3=e.from([3]),r.VERSION4=e.from([4]),r.VERSION5=e.from([5]),r.VERSION131=e.from([131]),r.VERSION132=e.from([132]),r.QOS=[0,1,2].map((t=>e.from([t]))),r.EMPTY={pingreq:e.from([r.codes.pingreq<<4,0]),pingresp:e.from([r.codes.pingresp<<4,0]),disconnect:e.from([r.codes.disconnect<<4,0])}}).call(this,r(534).Buffer)},609:function(t,e,r){(function(e){const n=r(608),o=e.allocUnsafe(0),c=e.from([0]),h=r(671),l=r(672).nextTick,f=r(547)("mqtt-packet:writeToStream"),d=h.cache,y=h.generateNumber,m=h.generateCache,v=h.genBufVariableByteInt,_=h.generate4ByteBuffer;let w=O,S=!0;function E(t,r,h){switch(f("generate called"),r.cork&&(r.cork(),l(k,r)),S&&(S=!1,m()),f("generate: packet.cmd: %s",t.cmd),t.cmd){case"connect":return function(t,r,o){const c=t||{},h=c.protocolId||"MQTT";let l=c.protocolVersion||4;const f=c.will;let d=c.clean;const y=c.keepalive||0,m=c.clientId||"",v=c.username,_=c.password,S=c.properties;void 0===d&&(d=!0);let E=0;if(!h||"string"!=typeof h&&!e.isBuffer(h))return r.emit("error",new Error("Invalid protocolId")),!1;E+=h.length+2;if(3!==l&&4!==l&&5!==l)return r.emit("error",new Error("Invalid protocol version")),!1;E+=1;if(("string"==typeof m||e.isBuffer(m))&&(m||l>=4)&&(m||d))E+=e.byteLength(m)+2;else{if(l<4)return r.emit("error",new Error("clientId must be supplied before 3.1.1")),!1;if(1*d==0)return r.emit("error",new Error("clientId must be given if cleanSession set to 0")),!1}if("number"!=typeof y||y<0||y>65535||y%1!=0)return r.emit("error",new Error("Invalid keepalive")),!1;E+=2;if(E+=1,5===l){var k=I(r,S);if(!k)return!1;E+=k.length}if(f){if("object"!=typeof f)return r.emit("error",new Error("Invalid will")),!1;if(!f.topic||"string"!=typeof f.topic)return r.emit("error",new Error("Invalid will topic")),!1;if(E+=e.byteLength(f.topic)+2,E+=2,f.payload){if(!(f.payload.length>=0))return r.emit("error",new Error("Invalid will payload")),!1;"string"==typeof f.payload?E+=e.byteLength(f.payload):E+=f.payload.length}var R={};if(5===l){if(!(R=I(r,f.properties)))return!1;E+=R.length}}let A=!1;if(null!=v){if(!N(v))return r.emit("error",new Error("Invalid username")),!1;A=!0,E+=e.byteLength(v)+2}if(null!=_){if(!A)return r.emit("error",new Error("Username is required to use password")),!1;if(!N(_))return r.emit("error",new Error("Invalid password")),!1;E+=B(_)+2}r.write(n.CONNECT_HEADER),M(r,E),x(r,h),c.bridgeMode&&(l+=128);r.write(131===l?n.VERSION131:132===l?n.VERSION132:4===l?n.VERSION4:5===l?n.VERSION5:n.VERSION3);let O=0;O|=null!=v?n.USERNAME_MASK:0,O|=null!=_?n.PASSWORD_MASK:0,O|=f&&f.retain?n.WILL_RETAIN_MASK:0,O|=f&&f.qos?f.qos<<n.WILL_QOS_SHIFT:0,O|=f?n.WILL_FLAG_MASK:0,O|=d?n.CLEAN_SESSION_MASK:0,r.write(e.from([O])),w(r,y),5===l&&k.write();x(r,m),f&&(5===l&&R.write(),T(r,f.topic),x(r,f.payload));null!=v&&x(r,v);null!=_&&x(r,_);return!0}(t,r);case"connack":return function(t,r,o){const h=o?o.protocolVersion:4,l=t||{},f=5===h?l.reasonCode:l.returnCode,d=l.properties;let y=2;if("number"!=typeof f)return r.emit("error",new Error("Invalid return code")),!1;let m=null;if(5===h){if(m=I(r,d),!m)return!1;y+=m.length}r.write(n.CONNACK_HEADER),M(r,y),r.write(l.sessionPresent?n.SESSIONPRESENT_HEADER:c),r.write(e.from([f])),null!=m&&m.write();return!0}(t,r,h);case"publish":return function(t,r,c){f("publish: packet: %o",t);const h=c?c.protocolVersion:4,l=t||{},d=l.qos||0,y=l.retain?n.RETAIN_MASK:0,m=l.topic,v=l.payload||o,_=l.messageId,S=l.properties;let E=0;if("string"==typeof m)E+=e.byteLength(m)+2;else{if(!e.isBuffer(m))return r.emit("error",new Error("Invalid topic")),!1;E+=m.length+2}e.isBuffer(v)?E+=v.length:E+=e.byteLength(v);if(d&&"number"!=typeof _)return r.emit("error",new Error("Invalid messageId")),!1;d&&(E+=2);let k=null;if(5===h){if(k=I(r,S),!k)return!1;E+=k.length}r.write(n.PUBLISH_HEADER[d][l.dup?1:0][y?1:0]),M(r,E),w(r,B(m)),r.write(m),d>0&&w(r,_);null!=k&&k.write();return f("publish: payload: %o",v),r.write(v)}(t,r,h);case"puback":case"pubrec":case"pubrel":case"pubcomp":return function(t,r,o){const c=o?o.protocolVersion:4,h=t||{},l=h.cmd||"puback",f=h.messageId,d=h.dup&&"pubrel"===l?n.DUP_MASK:0;let y=0;const m=h.reasonCode,v=h.properties;let _=5===c?3:2;"pubrel"===l&&(y=1);if("number"!=typeof f)return r.emit("error",new Error("Invalid messageId")),!1;let S=null;if(5===c&&"object"==typeof v){if(S=C(r,v,o,_),!S)return!1;_+=S.length}r.write(n.ACKS[l][y][d][0]),M(r,_),w(r,f),5===c&&r.write(e.from([m]));null!==S&&S.write();return!0}(t,r,h);case"subscribe":return function(t,r,o){f("subscribe: packet: ");const c=o?o.protocolVersion:4,h=t||{},l=h.dup?n.DUP_MASK:0,d=h.messageId,y=h.subscriptions,m=h.properties;let v=0;if("number"!=typeof d)return r.emit("error",new Error("Invalid messageId")),!1;v+=2;let _=null;if(5===c){if(_=I(r,m),!_)return!1;v+=_.length}if("object"!=typeof y||!y.length)return r.emit("error",new Error("Invalid subscriptions")),!1;for(let i=0;i<y.length;i+=1){const t=y[i].topic,n=y[i].qos;if("string"!=typeof t)return r.emit("error",new Error("Invalid subscriptions - invalid topic")),!1;if("number"!=typeof n)return r.emit("error",new Error("Invalid subscriptions - invalid qos")),!1;if(5===c){if("boolean"!=typeof(y[i].nl||!1))return r.emit("error",new Error("Invalid subscriptions - invalid No Local")),!1;if("boolean"!=typeof(y[i].rap||!1))return r.emit("error",new Error("Invalid subscriptions - invalid Retain as Published")),!1;const t=y[i].rh||0;if("number"!=typeof t||t>2)return r.emit("error",new Error("Invalid subscriptions - invalid Retain Handling")),!1}v+=e.byteLength(t)+2+1}f("subscribe: writing to stream: %o",n.SUBSCRIBE_HEADER),r.write(n.SUBSCRIBE_HEADER[1][l?1:0][0]),M(r,v),w(r,d),null!==_&&_.write();let S=!0;for(const sub of y){const t=sub.topic,o=sub.qos,h=+sub.nl,l=+sub.rap,f=sub.rh;let d;T(r,t),d=n.SUBSCRIBE_OPTIONS_QOS[o],5===c&&(d|=h?n.SUBSCRIBE_OPTIONS_NL:0,d|=l?n.SUBSCRIBE_OPTIONS_RAP:0,d|=f?n.SUBSCRIBE_OPTIONS_RH[f]:0),S=r.write(e.from([d]))}return S}(t,r,h);case"suback":return function(t,r,o){const c=o?o.protocolVersion:4,h=t||{},l=h.messageId,f=h.granted,d=h.properties;let y=0;if("number"!=typeof l)return r.emit("error",new Error("Invalid messageId")),!1;y+=2;if("object"!=typeof f||!f.length)return r.emit("error",new Error("Invalid qos vector")),!1;for(let i=0;i<f.length;i+=1){if("number"!=typeof f[i])return r.emit("error",new Error("Invalid qos vector")),!1;y+=1}let m=null;if(5===c){if(m=C(r,d,o,y),!m)return!1;y+=m.length}r.write(n.SUBACK_HEADER),M(r,y),w(r,l),null!==m&&m.write();return r.write(e.from(f))}(t,r,h);case"unsubscribe":return function(t,r,o){const c=o?o.protocolVersion:4,h=t||{},l=h.messageId,f=h.dup?n.DUP_MASK:0,d=h.unsubscriptions,y=h.properties;let m=0;if("number"!=typeof l)return r.emit("error",new Error("Invalid messageId")),!1;m+=2;if("object"!=typeof d||!d.length)return r.emit("error",new Error("Invalid unsubscriptions")),!1;for(let i=0;i<d.length;i+=1){if("string"!=typeof d[i])return r.emit("error",new Error("Invalid unsubscriptions")),!1;m+=e.byteLength(d[i])+2}let v=null;if(5===c){if(v=I(r,y),!v)return!1;m+=v.length}r.write(n.UNSUBSCRIBE_HEADER[1][f?1:0][0]),M(r,m),w(r,l),null!==v&&v.write();let _=!0;for(let t=0;t<d.length;t++)_=T(r,d[t]);return _}(t,r,h);case"unsuback":return function(t,r,o){const c=o?o.protocolVersion:4,h=t||{},l=h.messageId,f=h.dup?n.DUP_MASK:0,d=h.granted,y=h.properties,m=h.cmd,v=0;let _=2;if("number"!=typeof l)return r.emit("error",new Error("Invalid messageId")),!1;if(5===c){if("object"!=typeof d||!d.length)return r.emit("error",new Error("Invalid qos vector")),!1;for(let i=0;i<d.length;i+=1){if("number"!=typeof d[i])return r.emit("error",new Error("Invalid qos vector")),!1;_+=1}}let S=null;if(5===c){if(S=C(r,y,o,_),!S)return!1;_+=S.length}r.write(n.ACKS[m][v][f][0]),M(r,_),w(r,l),null!==S&&S.write();5===c&&r.write(e.from(d));return!0}(t,r,h);case"pingreq":case"pingresp":return function(t,e,r){return e.write(n.EMPTY[t.cmd])}(t,r);case"disconnect":return function(t,r,o){const c=o?o.protocolVersion:4,h=t||{},l=h.reasonCode,f=h.properties;let d=5===c?1:0,y=null;if(5===c){if(y=C(r,f,o,d),!y)return!1;d+=y.length}r.write(e.from([n.codes.disconnect<<4])),M(r,d),5===c&&r.write(e.from([l]));null!==y&&y.write();return!0}(t,r,h);case"auth":return function(t,r,o){const c=o?o.protocolVersion:4,h=t||{},l=h.reasonCode,f=h.properties;let d=5===c?1:0;5!==c&&r.emit("error",new Error("Invalid mqtt version for auth packet"));const y=C(r,f,o,d);if(!y)return!1;d+=y.length,r.write(e.from([n.codes.auth<<4])),M(r,d),r.write(e.from([l])),null!==y&&y.write();return!0}(t,r,h);default:return r.emit("error",new Error("Unknown command")),!1}}function k(t){t.uncork()}Object.defineProperty(E,"cacheNumbers",{get:()=>w===O,set(t){t?(d&&0!==Object.keys(d).length||(S=!0),w=O):(S=!1,w=P)}});const R={};function M(t,e){if(e>n.VARBYTEINT_MAX)return t.emit("error",new Error(`Invalid variable byte integer: ${e}`)),!1;let r=R[e];return r||(r=v(e),e<16384&&(R[e]=r)),f("writeVarByteInt: writing to stream: %o",r),t.write(r)}function T(t,r){const n=e.byteLength(r);return w(t,n),f("writeString: %s",r),t.write(r,"utf8")}function A(t,e,r){T(t,e),T(t,r)}function O(t,e){return f("writeNumberCached: number: %d",e),f("writeNumberCached: %o",d[e]),t.write(d[e])}function P(t,e){const r=y(e);return f("writeNumberGenerated: %o",r),t.write(r)}function x(t,e){"string"==typeof e?T(t,e):e?(w(t,e.length),t.write(e)):w(t,0)}function I(t,r){if("object"!=typeof r||null!=r.length)return{length:1,write(){j(t,{},0)}};let o=0;function c(r,o){let c=0;switch(n.propertiesTypes[r]){case"byte":if("boolean"!=typeof o)return t.emit("error",new Error(`Invalid ${r}: ${o}`)),!1;c+=2;break;case"int8":if("number"!=typeof o||o<0||o>255)return t.emit("error",new Error(`Invalid ${r}: ${o}`)),!1;c+=2;break;case"binary":if(o&&null===o)return t.emit("error",new Error(`Invalid ${r}: ${o}`)),!1;c+=1+e.byteLength(o)+2;break;case"int16":if("number"!=typeof o||o<0||o>65535)return t.emit("error",new Error(`Invalid ${r}: ${o}`)),!1;c+=3;break;case"int32":if("number"!=typeof o||o<0||o>4294967295)return t.emit("error",new Error(`Invalid ${r}: ${o}`)),!1;c+=5;break;case"var":if("number"!=typeof o||o<0||o>268435455)return t.emit("error",new Error(`Invalid ${r}: ${o}`)),!1;c+=1+e.byteLength(v(o));break;case"string":if("string"!=typeof o)return t.emit("error",new Error(`Invalid ${r}: ${o}`)),!1;c+=3+e.byteLength(o.toString());break;case"pair":if("object"!=typeof o)return t.emit("error",new Error(`Invalid ${r}: ${o}`)),!1;c+=Object.getOwnPropertyNames(o).reduce(((t,r)=>{const n=o[r];return Array.isArray(n)?t+=n.reduce(((t,n)=>t+=3+e.byteLength(r.toString())+2+e.byteLength(n.toString())),0):t+=3+e.byteLength(r.toString())+2+e.byteLength(o[r].toString()),t}),0);break;default:return t.emit("error",new Error(`Invalid property ${r}: ${o}`)),!1}return c}if(r)for(const t in r){let e=0,n=0;const h=r[t];if(Array.isArray(h))for(let r=0;r<h.length;r++){if(n=c(t,h[r]),!n)return!1;e+=n}else{if(n=c(t,h),!n)return!1;e=n}if(!e)return!1;o+=e}return{length:e.byteLength(v(o))+o,write(){j(t,r,o)}}}function C(t,e,r,n){const o=["reasonString","userProperties"],c=r&&r.properties&&r.properties.maximumPacketSize?r.properties.maximumPacketSize:0;let h=I(t,e);if(c)for(;n+h.length>c;){const r=o.shift();if(!r||!e[r])return!1;delete e[r],h=I(t,e)}return h}function L(t,r,o){switch(n.propertiesTypes[r]){case"byte":t.write(e.from([n.properties[r]])),t.write(e.from([+o]));break;case"int8":t.write(e.from([n.properties[r]])),t.write(e.from([o]));break;case"binary":t.write(e.from([n.properties[r]])),x(t,o);break;case"int16":t.write(e.from([n.properties[r]])),w(t,o);break;case"int32":t.write(e.from([n.properties[r]])),function(t,e){const r=_(e);f("write4ByteNumber: %o",r),t.write(r)}(t,o);break;case"var":t.write(e.from([n.properties[r]])),M(t,o);break;case"string":t.write(e.from([n.properties[r]])),T(t,o);break;case"pair":Object.getOwnPropertyNames(o).forEach((c=>{const h=o[c];Array.isArray(h)?h.forEach((o=>{t.write(e.from([n.properties[r]])),A(t,c.toString(),o.toString())})):(t.write(e.from([n.properties[r]])),A(t,c.toString(),h.toString()))}));break;default:return t.emit("error",new Error(`Invalid property ${r} value: ${o}`)),!1}}function j(t,e,r){M(t,r);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&null!==e[r]){const n=e[r];if(Array.isArray(n))for(let e=0;e<n.length;e++)L(t,r,n[e]);else L(t,r,n)}}function B(t){return t?t instanceof e?t.length:e.byteLength(t):0}function N(t){return"string"==typeof t||t instanceof e}t.exports=E}).call(this,r(534).Buffer)},610:function(t,e,r){"use strict";const n=r(560),o=r(547)("mqttjs:tcp");t.exports=function(t,e){e.port=e.port||1883,e.hostname=e.hostname||e.host||"localhost";const r=e.port,c=e.hostname;return o("port %d and host %s",r,c),n.createConnection(r,c)}},611:function(t,e,r){"use strict";const{Buffer:n}=r(534),o=r(559).Transform,c=r(582);let h,l,f;t.exports=function(t,e){if(e.hostname=e.hostname||e.host,!e.hostname)throw new Error("Could not determine host. Specify host manually.");const r="MQIsdp"===e.protocolId&&3===e.protocolVersion?"mqttv3.1":"mqtt";!function(t){t.hostname||(t.hostname="localhost"),t.path||(t.path="/"),t.wsOptions||(t.wsOptions={})}(e);const d=function(t,e){const r="wxs"===t.protocol?"wss":"ws";let n=r+"://"+t.hostname+t.path;return t.port&&80!==t.port&&443!==t.port&&(n=r+"://"+t.hostname+":"+t.port+t.path),"function"==typeof t.transformWsUrl&&(n=t.transformWsUrl(n,t,e)),n}(e,t);h=wx.connectSocket({url:d,protocols:[r]}),l=function(){const t=new o;return t._write=function(t,e,r){h.send({data:t.buffer,success:function(){r()},fail:function(t){r(new Error(t))}})},t._flush=function(t){h.close({success:function(){t()}})},t}(),f=c.obj(),f._destroy=function(t,e){h.close({success:function(){e&&e(t)}})};const y=f.destroy;return f.destroy=function(){f.destroy=y;const t=this;setTimeout((function(){h.close({fail:function(){t._destroy(new Error)}})}),0)}.bind(f),h.onOpen((function(){f.setReadable(l),f.setWritable(l),f.emit("connect")})),h.onMessage((function(t){let data=t.data;data=data instanceof ArrayBuffer?n.from(data):n.from(data,"utf8"),l.push(data)})),h.onClose((function(){f.end(),f.destroy()})),h.onError((function(t){f.destroy(new Error(t.errMsg))})),f}},612:function(t,e,r){"use strict";(function(e,n){var o;t.exports=I,I.ReadableState=x;r(546).EventEmitter;var c=function(t,e){return t.listeners(e).length},h=r(613),l=r(534).Buffer,f=(void 0!==e?e:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var d,y=r(572);d=y&&y.debuglog?y.debuglog("stream"):function(){};var m,v,_,w=r(686),S=r(614),E=r(615).getHighWaterMark,k=r(556).codes,R=k.ERR_INVALID_ARG_TYPE,M=k.ERR_STREAM_PUSH_AFTER_EOF,T=k.ERR_METHOD_NOT_IMPLEMENTED,A=k.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(535)(I,h);var O=S.errorOrDestroy,P=["error","close","destroy","pause","resume"];function x(t,e,n){o=o||r(557),t=t||{},"boolean"!=typeof n&&(n=e instanceof o),this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=E(this,t,"readableHighWaterMark",n),this.buffer=new w,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(m||(m=r(553).StringDecoder),this.decoder=new m(t.encoding),this.encoding=t.encoding)}function I(t){if(o=o||r(557),!(this instanceof I))return new I(t);var e=this instanceof o;this._readableState=new x(t,this,e),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),h.call(this)}function C(t,e,r,n,o){d("readableAddChunk",e);var c,h=t._readableState;if(null===e)h.reading=!1,function(t,e){if(d("onEofChunk"),e.ended)return;if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?N(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,D(t)))}(t,h);else if(o||(c=function(t,e){var r;n=e,l.isBuffer(n)||n instanceof f||"string"==typeof e||void 0===e||t.objectMode||(r=new R("chunk",["string","Buffer","Uint8Array"],e));var n;return r}(h,e)),c)O(t,c);else if(h.objectMode||e&&e.length>0)if("string"==typeof e||h.objectMode||Object.getPrototypeOf(e)===l.prototype||(e=function(t){return l.from(t)}(e)),n)h.endEmitted?O(t,new A):L(t,h,e,!0);else if(h.ended)O(t,new M);else{if(h.destroyed)return!1;h.reading=!1,h.decoder&&!r?(e=h.decoder.write(e),h.objectMode||0!==e.length?L(t,h,e,!1):U(t,h)):L(t,h,e,!1)}else n||(h.reading=!1,U(t,h));return!h.ended&&(h.length<h.highWaterMark||0===h.length)}function L(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&N(t)),U(t,e)}Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),I.prototype.destroy=S.destroy,I.prototype._undestroy=S.undestroy,I.prototype._destroy=function(t,e){e(t)},I.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=l.from(t,e),e=""),r=!0),C(this,t,e,!1,r)},I.prototype.unshift=function(t){return C(this,t,null,!0,!1)},I.prototype.isPaused=function(){return!1===this._readableState.flowing},I.prototype.setEncoding=function(t){m||(m=r(553).StringDecoder);var e=new m(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var p=this._readableState.buffer.head,content="";null!==p;)content+=e.write(p.data),p=p.next;return this._readableState.buffer.clear(),""!==content&&this._readableState.buffer.push(content),this._readableState.length=content.length,this};var j=1073741824;function B(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=j?t=j:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function N(t){var e=t._readableState;d("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(d("emitReadable",e.flowing),e.emittedReadable=!0,n.nextTick(D,t))}function D(t){var e=t._readableState;d("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,K(t)}function U(t,e){e.readingMore||(e.readingMore=!0,n.nextTick($,t,e))}function $(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var r=e.length;if(d("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}function F(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function H(t){d("readable nexttick read 0"),t.read(0)}function W(t,e){d("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),K(t),e.flowing&&!e.reading&&t.read(0)}function K(t){var e=t._readableState;for(d("flow",e.flowing);e.flowing&&null!==t.read(););}function V(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r);var r}function Y(t){var e=t._readableState;d("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,n.nextTick(z,e,t))}function z(t,e){if(d("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}function G(t,e){for(var i=0,r=t.length;i<r;i++)if(t[i]===e)return i;return-1}I.prototype.read=function(t){d("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return d("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?Y(this):N(this),null;if(0===(t=B(t,e))&&e.ended)return 0===e.length&&Y(this),null;var n,o=e.needReadable;return d("need readable",o),(0===e.length||e.length-t<e.highWaterMark)&&d("length less than watermark",o=!0),e.ended||e.reading?d("reading or ended",o=!1):o&&(d("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=B(r,e))),null===(n=t>0?V(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&Y(this)),null!==n&&this.emit("data",n),n},I.prototype._read=function(t){O(this,new T("_read()"))},I.prototype.pipe=function(t,e){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,d("pipe count=%d opts=%j",o.pipesCount,e);var h=(!e||!1!==e.end)&&t!==n.stdout&&t!==n.stderr?f:E;function l(e,n){d("onunpipe"),e===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,d("cleanup"),t.removeListener("close",w),t.removeListener("finish",S),t.removeListener("drain",y),t.removeListener("error",_),t.removeListener("unpipe",l),r.removeListener("end",f),r.removeListener("end",E),r.removeListener("data",v),m=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||y())}function f(){d("onend"),t.end()}o.endEmitted?n.nextTick(h):r.once("end",h),t.on("unpipe",l);var y=function(t){return function(){var e=t._readableState;d("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&c(t,"data")&&(e.flowing=!0,K(t))}}(r);t.on("drain",y);var m=!1;function v(e){d("ondata");var n=t.write(e);d("dest.write",n),!1===n&&((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==G(o.pipes,t))&&!m&&(d("false write response, pause",o.awaitDrain),o.awaitDrain++),r.pause())}function _(e){d("onerror",e),E(),t.removeListener("error",_),0===c(t,"error")&&O(t,e)}function w(){t.removeListener("finish",S),E()}function S(){d("onfinish"),t.removeListener("close",w),E()}function E(){d("unpipe"),r.unpipe(t)}return r.on("data",v),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,"error",_),t.once("close",w),t.once("finish",S),t.emit("pipe",r),o.flowing||(d("pipe resume"),r.resume()),t},I.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var n=e.pipes,o=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var i=0;i<o;i++)n[i].emit("unpipe",this,{hasUnpiped:!1});return this}var c=G(e.pipes,t);return-1===c||(e.pipes.splice(c,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},I.prototype.on=function(t,e){var r=h.prototype.on.call(this,t,e),o=this._readableState;return"data"===t?(o.readableListening=this.listenerCount("readable")>0,!1!==o.flowing&&this.resume()):"readable"===t&&(o.endEmitted||o.readableListening||(o.readableListening=o.needReadable=!0,o.flowing=!1,o.emittedReadable=!1,d("on readable",o.length,o.reading),o.length?N(this):o.reading||n.nextTick(H,this))),r},I.prototype.addListener=I.prototype.on,I.prototype.removeListener=function(t,e){var r=h.prototype.removeListener.call(this,t,e);return"readable"===t&&n.nextTick(F,this),r},I.prototype.removeAllListeners=function(t){var e=h.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||n.nextTick(F,this),e},I.prototype.resume=function(){var t=this._readableState;return t.flowing||(d("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,n.nextTick(W,t,e))}(this,t)),t.paused=!1,this},I.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},I.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var i in t.on("end",(function(){if(d("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(o){(d("wrapped data"),r.decoder&&(o=r.decoder.write(o)),r.objectMode&&null==o)||(r.objectMode||o&&o.length)&&(e.push(o)||(n=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<P.length;o++)t.on(P[o],this.emit.bind(this,P[o]));return this._read=function(e){d("wrapped _read",e),n&&(n=!1,t.resume())},this},"function"==typeof Symbol&&(I.prototype[Symbol.asyncIterator]=function(){return void 0===v&&(v=r(687)),v(this)}),Object.defineProperty(I.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(I.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(I.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),I._fromList=V,Object.defineProperty(I.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(I.from=function(t,e){return void 0===_&&(_=r(688)),_(I,t,e)})}).call(this,r(77),r(128))},613:function(t,e,r){t.exports=r(546).EventEmitter},614:function(t,e,r){"use strict";(function(e){function r(t,e){o(t,e),n(t)}function n(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function o(t,e){t.emit("error",e)}t.exports={destroy:function(t,c){var h=this,l=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return l||f?(c?c(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(o,this,t)):e.nextTick(o,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!c&&t?h._writableState?h._writableState.errorEmitted?e.nextTick(n,h):(h._writableState.errorEmitted=!0,e.nextTick(r,h,t)):e.nextTick(r,h,t):c?(e.nextTick(n,h),c(t)):e.nextTick(n,h)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}}}).call(this,r(128))},615:function(t,e,r){"use strict";var n=r(556).codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(t,e,r,o){var c=function(t,e,r){return null!=t.highWaterMark?t.highWaterMark:e?t[r]:null}(e,o,r);if(null!=c){if(!isFinite(c)||Math.floor(c)!==c||c<0)throw new n(o?r:"highWaterMark",c);return Math.floor(c)}return t.objectMode?16:16384}}},616:function(t,e,r){"use strict";(function(e,n){function o(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var n=t.entry;t.entry=null;for(;n;){var o=n.callback;e.pendingcb--,o(r),n=n.next}e.corkedRequestsFree.next=t}(e,t)}}var c;t.exports=I,I.WritableState=x;var h={deprecate:r(578)},l=r(613),f=r(534).Buffer,d=(void 0!==e?e:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var y,m=r(614),v=r(615).getHighWaterMark,_=r(556).codes,w=_.ERR_INVALID_ARG_TYPE,S=_.ERR_METHOD_NOT_IMPLEMENTED,E=_.ERR_MULTIPLE_CALLBACK,k=_.ERR_STREAM_CANNOT_PIPE,R=_.ERR_STREAM_DESTROYED,M=_.ERR_STREAM_NULL_VALUES,T=_.ERR_STREAM_WRITE_AFTER_END,A=_.ERR_UNKNOWN_ENCODING,O=m.errorOrDestroy;function P(){}function x(t,e,h){c=c||r(557),t=t||{},"boolean"!=typeof h&&(h=e instanceof c),this.objectMode=!!t.objectMode,h&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=v(this,t,"writableHighWaterMark",h),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var l=!1===t.decodeStrings;this.decodeStrings=!l,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,o=r.sync,c=r.writecb;if("function"!=typeof c)throw new E;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,o,c){--e.pendingcb,r?(n.nextTick(c,o),n.nextTick(D,t,e),t._writableState.errorEmitted=!0,O(t,o)):(c(o),t._writableState.errorEmitted=!0,O(t,o),D(t,e))}(t,r,o,e,c);else{var h=B(r)||t.destroyed;h||r.corked||r.bufferProcessing||!r.bufferedRequest||j(t,r),o?n.nextTick(L,t,r,h,c):L(t,r,h,c)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function I(t){var e=this instanceof(c=c||r(557));if(!e&&!y.call(I,this))return new I(t);this._writableState=new x(t,this,e),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),l.call(this)}function C(t,e,r,n,o,c,h){e.writelen=n,e.writecb=h,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new R("write")):r?t._writev(o,e.onwrite):t._write(o,c,e.onwrite),e.sync=!1}function L(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),D(t,e)}function j(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,c=new Array(n),h=e.corkedRequestsFree;h.entry=r;for(var l=0,f=!0;r;)c[l]=r,r.isBuf||(f=!1),r=r.next,l+=1;c.allBuffers=f,C(t,e,!0,e.length,c,"",h.finish),e.pendingcb++,e.lastBufferedRequest=null,h.next?(e.corkedRequestsFree=h.next,h.next=null):e.corkedRequestsFree=new o(e),e.bufferedRequestCount=0}else{for(;r;){var d=r.chunk,y=r.encoding,m=r.callback;if(C(t,e,!1,e.objectMode?1:d.length,d,y,m),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function B(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function N(t,e){t._final((function(r){e.pendingcb--,r&&O(t,r),e.prefinished=!0,t.emit("prefinish"),D(t,e)}))}function D(t,e){var r=B(e);if(r&&(function(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,n.nextTick(N,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var o=t._readableState;(!o||o.autoDestroy&&o.endEmitted)&&t.destroy()}return r}r(535)(I,l),x.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(x.prototype,"buffer",{get:h.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(y=Function.prototype[Symbol.hasInstance],Object.defineProperty(I,Symbol.hasInstance,{value:function(object){return!!y.call(this,object)||this===I&&(object&&object._writableState instanceof x)}})):y=function(object){return object instanceof this},I.prototype.pipe=function(){O(this,new k)},I.prototype.write=function(t,e,r){var o,c=this._writableState,h=!1,l=!c.objectMode&&(o=t,f.isBuffer(o)||o instanceof d);return l&&!f.isBuffer(t)&&(t=function(t){return f.from(t)}(t)),"function"==typeof e&&(r=e,e=null),l?e="buffer":e||(e=c.defaultEncoding),"function"!=typeof r&&(r=P),c.ending?function(t,e){var r=new T;O(t,r),n.nextTick(e,r)}(this,r):(l||function(t,e,r,o){var c;return null===r?c=new M:"string"==typeof r||e.objectMode||(c=new w("chunk",["string","Buffer"],r)),!c||(O(t,c),n.nextTick(o,c),!1)}(this,c,t,r))&&(c.pendingcb++,h=function(t,e,r,n,o,c){if(!r){var h=function(t,e,r){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=f.from(e,r));return e}(e,n,o);n!==h&&(r=!0,o="buffer",n=h)}var l=e.objectMode?1:n.length;e.length+=l;var d=e.length<e.highWaterMark;d||(e.needDrain=!0);if(e.writing||e.corked){var y=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:o,isBuf:r,callback:c,next:null},y?y.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else C(t,e,!1,l,n,o,c);return d}(this,c,l,t,e,r)),h},I.prototype.cork=function(){this._writableState.corked++},I.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||j(this,t))},I.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new A(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(I.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(I.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),I.prototype._write=function(t,e,r){r(new S("_write()"))},I.prototype._writev=null,I.prototype.end=function(t,e,r){var o=this._writableState;return"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),o.corked&&(o.corked=1,this.uncork()),o.ending||function(t,e,r){e.ending=!0,D(t,e),r&&(e.finished?n.nextTick(r):t.once("finish",r));e.ended=!0,t.writable=!1}(this,o,r),this},Object.defineProperty(I.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),I.prototype.destroy=m.destroy,I.prototype._undestroy=m.undestroy,I.prototype._destroy=function(t,e){e(t)}}).call(this,r(77),r(128))},617:function(t,e,r){"use strict";t.exports=y;var n=r(556).codes,o=n.ERR_METHOD_NOT_IMPLEMENTED,c=n.ERR_MULTIPLE_CALLBACK,h=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,l=n.ERR_TRANSFORM_WITH_LENGTH_0,f=r(557);function d(t,data){var e=this._transformState;e.transforming=!1;var r=e.writecb;if(null===r)return this.emit("error",new c);e.writechunk=null,e.writecb=null,null!=data&&this.push(data),r(t);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function y(t){if(!(this instanceof y))return new y(t);f.call(this,t),this._transformState={afterTransform:d.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",m)}function m(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?v(this,null,null):this._flush((function(e,data){v(t,e,data)}))}function v(t,e,data){if(e)return t.emit("error",e);if(null!=data&&t.push(data),t._writableState.length)throw new l;if(t._transformState.transforming)throw new h;return t.push(null)}r(535)(y,f),y.prototype.push=function(t,e){return this._transformState.needTransform=!1,f.prototype.push.call(this,t,e)},y.prototype._transform=function(t,e,r){r(new o("_transform()"))},y.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var o=this._readableState;(n.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},y.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},y.prototype._destroy=function(t,e){f.prototype._destroy.call(this,t,(function(t){e(t)}))}},618:function(t,e,r){"use strict";const{Buffer:n}=r(534),o=r(559).Transform,c=r(582);let h,l,f,d=!1;t.exports=function(t,e){if(e.hostname=e.hostname||e.host,!e.hostname)throw new Error("Could not determine host. Specify host manually.");const r="MQIsdp"===e.protocolId&&3===e.protocolVersion?"mqttv3.1":"mqtt";!function(t){t.hostname||(t.hostname="localhost"),t.path||(t.path="/"),t.wsOptions||(t.wsOptions={})}(e);const y=function(t,e){const r="alis"===t.protocol?"wss":"ws";let n=r+"://"+t.hostname+t.path;return t.port&&80!==t.port&&443!==t.port&&(n=r+"://"+t.hostname+":"+t.port+t.path),"function"==typeof t.transformWsUrl&&(n=t.transformWsUrl(n,t,e)),n}(e,t);return h=e.my,h.connectSocket({url:y,protocols:r}),l=function(){const t=new o;return t._write=function(t,e,r){h.sendSocketMessage({data:t.buffer,success:function(){r()},fail:function(){r(new Error)}})},t._flush=function(t){h.closeSocket({success:function(){t()}})},t}(),f=c.obj(),d||(d=!0,h.onSocketOpen((function(){f.setReadable(l),f.setWritable(l),f.emit("connect")})),h.onSocketMessage((function(t){if("string"==typeof t.data){const e=n.from(t.data,"base64");l.push(e)}else{const e=new FileReader;e.addEventListener("load",(function(){let data=e.result;data=data instanceof ArrayBuffer?n.from(data):n.from(data,"utf8"),l.push(data)})),e.readAsArrayBuffer(t.data)}})),h.onSocketClose((function(){f.end(),f.destroy()})),h.onSocketError((function(t){f.destroy(t)}))),f}},619:function(t,e,r){"use strict";(function(e){const{Buffer:n}=r(534),o=r(695),c=r(547)("mqttjs:ws"),h=r(582),l=r(559).Transform,f=["rejectUnauthorized","ca","cert","key","pfx","passphrase"],d=void 0!==e&&"browser"===e.title||"function"==typeof r;function y(t,e){let r=t.protocol+"://"+t.hostname+":"+t.port+t.path;return"function"==typeof t.transformWsUrl&&(r=t.transformWsUrl(r,t,e)),r}function m(t){const e=t;return t.hostname||(e.hostname="localhost"),t.port||("wss"===t.protocol?e.port=443:e.port=80),t.path||(e.path="/"),t.wsOptions||(e.wsOptions={}),d||"wss"!==t.protocol||f.forEach((function(r){Object.prototype.hasOwnProperty.call(t,r)&&!Object.prototype.hasOwnProperty.call(t.wsOptions,r)&&(e.wsOptions[r]=t[r])})),e}t.exports=d?function(t,e){let r;c("browserStreamBuilder");const o=function(t){const e=m(t);if(e.hostname||(e.hostname=e.host),!e.hostname){if("undefined"==typeof document)throw new Error("Could not determine host. Specify host manually.");const t=new URL(document.URL);e.hostname=t.hostname,e.port||(e.port=t.port)}return void 0===e.objectMode&&(e.objectMode=!(!0===e.binary||void 0===e.binary)),e}(e).browserBufferSize||524288,f=e.browserBufferTimeout||1e3,d=!e.objectMode,v=function(t,e){const r="MQIsdp"===e.protocolId&&3===e.protocolVersion?"mqttv3.1":"mqtt",n=y(e,t),o=new WebSocket(n,[r]);return o.binaryType="arraybuffer",o}(t,e),_=function(t,e,r){const n=new l({objectModeMode:t.objectMode});return n._write=e,n._flush=r,n}(e,(function t(e,r,c){v.bufferedAmount>o&&setTimeout(t,f,e,r,c),d&&"string"==typeof e&&(e=n.from(e,"utf8"));try{v.send(e)}catch(t){return c(t)}c()}),(function(t){v.close(),t()}));e.objectMode||(_._writev=M),_.on("close",(()=>{v.close()}));const w=void 0!==v.addEventListener;function S(){r.setReadable(_),r.setWritable(_),r.emit("connect")}function E(){r.end(),r.destroy()}function k(t){r.destroy(t)}function R(t){let data=t.data;data=data instanceof ArrayBuffer?n.from(data):n.from(data,"utf8"),_.push(data)}function M(t,e){const r=new Array(t.length);for(let i=0;i<t.length;i++)"string"==typeof t[i].chunk?r[i]=n.from(t[i],"utf8"):r[i]=t[i].chunk;this._write(n.concat(r),"binary",e)}return v.readyState===v.OPEN?r=_:(r=r=h(void 0,void 0,e),e.objectMode||(r._writev=M),w?v.addEventListener("open",S):v.onopen=S),r.socket=v,w?(v.addEventListener("close",E),v.addEventListener("error",k),v.addEventListener("message",R)):(v.onclose=E,v.onerror=k,v.onmessage=R),r}:function(t,e){c("streamBuilder");const r=m(e),n=y(r,t),h=function(t,e,r){c("createWebSocket"),c("protocol: "+r.protocolId+" "+r.protocolVersion);const n="MQIsdp"===r.protocolId&&3===r.protocolVersion?"mqttv3.1":"mqtt";return c("creating new Websocket for url: "+e+" and protocol: "+n),new o(e,[n],r.wsOptions)}(0,n,r),l=o.createWebSocketStream(h,r.wsOptions);return l.url=n,h.on("close",(()=>{l.destroy()})),l}}).call(this,r(128))},640:function(t,e,r){"use strict";(function(e,n){const o=r(546).EventEmitter,c=r(595),h=r(650),l=r(651),f=r(659),d=r(673),y=r(559).Writable,m=r(535),v=r(674),_=r(675),w=r(677),S=r(577),E=r(547)("mqttjs:client"),k=e?e.nextTick:function(t){setTimeout(t,0)},R=n.setImmediate||function(t){k(t)},M={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:3e4,clean:!0,resubscribe:!0},T=["ECONNREFUSED","EADDRINUSE","ECONNRESET","ENOTFOUND"],A={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};function O(t,e){let r;e.properties&&(r=e.properties.topicAlias);let n=e.topic.toString();if(0===n.length){if(void 0===r)return new Error("Unregistered Topic Alias");if(n=t.topicAliasSend.getTopicByAlias(r),void 0===n)return new Error("Unregistered Topic Alias");e.topic=n}r&&delete e.properties.topicAlias}function P(t,e,r){E("sendPacket :: packet: %O",e),E("sendPacket :: emitting `packetsend`"),t.emit("packetsend",e),E("sendPacket :: writing to stream");const n=f.writeToStream(e,t.stream,t.options);E("sendPacket :: writeToStream result %s",n),!n&&r&&r!==I?(E("sendPacket :: handle events on `drain` once through callback."),t.stream.once("drain",r)):r&&(E("sendPacket :: invoking cb"),r())}function x(t,e,r,n){E("storeAndSend :: store packet with cmd %s to outgoingStore",e.cmd);let o,c=e;if("publish"===c.cmd&&(c=_(e),o=O(t,c),o))return r&&r(o);t.outgoingStore.put(c,(function(o){if(o)return r&&r(o);n(),P(t,e,r)}))}function I(t){E("nop ::",t)}function C(t,e){let r;const n=this;if(!(this instanceof C))return new C(t,e);for(r in this.options=e||{},M)void 0===this.options[r]?this.options[r]=M[r]:this.options[r]=e[r];E("MqttClient :: options.protocol",e.protocol),E("MqttClient :: options.protocolVersion",e.protocolVersion),E("MqttClient :: options.username",e.username),E("MqttClient :: options.keepalive",e.keepalive),E("MqttClient :: options.reconnectPeriod",e.reconnectPeriod),E("MqttClient :: options.rejectUnauthorized",e.rejectUnauthorized),E("MqttClient :: options.topicAliasMaximum",e.topicAliasMaximum),this.options.clientId="string"==typeof e.clientId?e.clientId:"mqttjs_"+Math.random().toString(16).substr(2,8),E("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=5===e.protocolVersion&&e.customHandleAcks?e.customHandleAcks:function(){arguments[3](0)},this.streamBuilder=t,this.messageIdProvider=void 0===this.options.messageIdProvider?new d:this.options.messageIdProvider,this.outgoingStore=e.outgoingStore||new c,this.incomingStore=e.incomingStore||new c,this.queueQoSZero=void 0===e.queueQoSZero||e.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.pingTimer=null,this.connected=!1,this.disconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,e.topicAliasMaximum>0&&(e.topicAliasMaximum>65535?E("MqttClient :: options.topicAliasMaximum is out of range"):this.topicAliasRecv=new h(e.topicAliasMaximum)),this.on("connect",(function(){const t=this.queue;E("connect :: sending queued packets"),function e(){const r=t.shift();E("deliver :: entry %o",r);let o=null;if(!r)return void n._resubscribe();o=r.packet,E("deliver :: call _sendPacket for %o",o);let c=!0;o.messageId&&0!==o.messageId&&(n.messageIdProvider.register(o.messageId)||(c=!1)),c?n._sendPacket(o,(function(t){r.cb&&r.cb(t),e()})):(E("messageId: %d has already used. The message is skipped and removed.",o.messageId),e())}()})),this.on("close",(function(){E("close :: connected set to `false`"),this.connected=!1,E("close :: clearing connackTimer"),clearTimeout(this.connackTimer),E("close :: clearing ping timer"),null!==n.pingTimer&&(n.pingTimer.clear(),n.pingTimer=null),this.topicAliasRecv&&this.topicAliasRecv.clear(),E("close :: calling _setupReconnect"),this._setupReconnect()})),o.call(this),E("MqttClient :: setting up stream"),this._setupStream()}m(C,o),C.prototype._setupStream=function(){const t=this,e=new y,r=f.parser(this.options);let n=null;const o=[];function c(){if(o.length)k(h);else{const t=n;n=null,t()}}function h(){E("work :: getting next packet in queue");const e=o.shift();if(e)E("work :: packet pulled from queue"),t._handlePacket(e,c);else{E("work :: no packets in queue");const t=n;n=null,E("work :: done flag is %s",!!t),t&&t()}}E("_setupStream :: calling method to clear reconnect"),this._clearReconnect(),E("_setupStream :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),r.on("packet",(function(t){E("parser :: on packet push to packets array."),o.push(t)})),e._write=function(t,e,o){n=o,E("writable stream :: parsing buffer"),r.parse(t),h()},E("_setupStream :: pipe stream to writable stream"),this.stream.pipe(e),this.stream.on("error",(function(e){E("streamErrorHandler :: error",e.message),T.includes(e.code)?(E("streamErrorHandler :: emitting error"),t.emit("error",e)):I(e)})),this.stream.on("close",(function(){var e;E("(%s)stream :: on close",t.options.clientId),(e=t.outgoing)&&(E("flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(e).forEach((function(t){e[t].volatile&&"function"==typeof e[t].cb&&(e[t].cb(new Error("Connection closed")),delete e[t])}))),E("stream: emit close to MqttClient"),t.emit("close")})),E("_setupStream: sending packet `connect`");const l=Object.create(this.options);if(l.cmd="connect",this.topicAliasRecv&&(l.properties||(l.properties={}),this.topicAliasRecv&&(l.properties.topicAliasMaximum=this.topicAliasRecv.max)),P(this,l),r.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return t.end((()=>this.emit("error",new Error("Packet has no Authentication Method")))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&"object"==typeof this.options.authPacket){P(this,S({cmd:"auth",reasonCode:0},this.options.authPacket))}}this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout((function(){E("!!connectTimeout hit!! Calling _cleanUp with force `true`"),t._cleanUp(!0)}),this.options.connectTimeout)},C.prototype._handlePacket=function(t,e){const r=this.options;if(5===r.protocolVersion&&r.properties&&r.properties.maximumPacketSize&&r.properties.maximumPacketSize<t.length)return this.emit("error",new Error("exceeding packets size "+t.cmd)),this.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),this;switch(E("_handlePacket :: emitting packetreceive"),this.emit("packetreceive",t),t.cmd){case"publish":this._handlePublish(t,e);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":this._handleAck(t),e();break;case"pubrel":this._handlePubrel(t,e);break;case"connack":this._handleConnack(t),e();break;case"auth":this._handleAuth(t),e();break;case"pingresp":this._handlePingresp(t),e();break;case"disconnect":this._handleDisconnect(t),e()}},C.prototype._checkDisconnecting=function(t){return this.disconnecting&&(t&&t!==I?t(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting},C.prototype.publish=function(t,e,r,n){E("publish :: message `%s` to topic `%s`",e,t);const o=this.options;"function"==typeof r&&(n=r,r=null);if(r=S({qos:0,retain:!1,dup:!1},r),this._checkDisconnecting(n))return this;const c=this,h=function(){let h=0;if((1===r.qos||2===r.qos)&&(h=c._nextId(),null===h))return E("No messageId left"),!1;const l={cmd:"publish",topic:t,payload:e,qos:r.qos,retain:r.retain,messageId:h,dup:r.dup};switch(5===o.protocolVersion&&(l.properties=r.properties),E("publish :: qos",r.qos),r.qos){case 1:case 2:c.outgoing[l.messageId]={volatile:!1,cb:n||I},E("MqttClient:publish: packet cmd: %s",l.cmd),c._sendPacket(l,void 0,r.cbStorePut);break;default:E("MqttClient:publish: packet cmd: %s",l.cmd),c._sendPacket(l,n,r.cbStorePut)}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!h())&&this._storeProcessingQueue.push({invoke:h,cbStorePut:r.cbStorePut,callback:n}),this},C.prototype.subscribe=function(){const t=this,e=new Array(arguments.length);for(let i=0;i<arguments.length;i++)e[i]=arguments[i];const r=[];let n=e.shift();const o=n.resubscribe;let c=e.pop()||I,h=e.pop();const l=this.options.protocolVersion;delete n.resubscribe,"string"==typeof n&&(n=[n]),"function"!=typeof c&&(h=c,c=I);const f=w.validateTopics(n);if(null!==f)return R(c,new Error("Invalid topic "+f)),this;if(this._checkDisconnecting(c))return E("subscribe: discconecting true"),this;const d={qos:0};if(5===l&&(d.nl=!1,d.rap=!1,d.rh=0),h=S(d,h),Array.isArray(n)?n.forEach((function(e){if(E("subscribe: array topic %s",e),!Object.prototype.hasOwnProperty.call(t._resubscribeTopics,e)||t._resubscribeTopics[e].qos<h.qos||o){const t={topic:e,qos:h.qos};5===l&&(t.nl=h.nl,t.rap=h.rap,t.rh=h.rh,t.properties=h.properties),E("subscribe: pushing topic `%s` and qos `%s` to subs list",t.topic,t.qos),r.push(t)}})):Object.keys(n).forEach((function(e){if(E("subscribe: object topic %s",e),!Object.prototype.hasOwnProperty.call(t._resubscribeTopics,e)||t._resubscribeTopics[e].qos<n[e].qos||o){const t={topic:e,qos:n[e].qos};5===l&&(t.nl=n[e].nl,t.rap=n[e].rap,t.rh=n[e].rh,t.properties=h.properties),E("subscribe: pushing `%s` to subs list",t),r.push(t)}})),!r.length)return c(null,[]),this;const y=function(){const e=t._nextId();if(null===e)return E("No messageId left"),!1;const n={cmd:"subscribe",subscriptions:r,qos:1,retain:!1,dup:!1,messageId:e};if(h.properties&&(n.properties=h.properties),t.options.resubscribe){E("subscribe :: resubscribe true");const e=[];r.forEach((function(sub){if(t.options.reconnectPeriod>0){const r={qos:sub.qos};5===l&&(r.nl=sub.nl||!1,r.rap=sub.rap||!1,r.rh=sub.rh||0,r.properties=sub.properties),t._resubscribeTopics[sub.topic]=r,e.push(sub.topic)}})),t.messageIdToTopic[n.messageId]=e}return t.outgoing[n.messageId]={volatile:!0,cb:function(t,e){if(!t){const t=e.granted;for(let i=0;i<t.length;i+=1)r[i].qos=t[i]}c(t,r)}},E("subscribe :: call _sendPacket"),t._sendPacket(n),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!y())&&this._storeProcessingQueue.push({invoke:y,callback:c}),this},C.prototype.unsubscribe=function(){const t=this,e=new Array(arguments.length);for(let i=0;i<arguments.length;i++)e[i]=arguments[i];let r=e.shift(),n=e.pop()||I,o=e.pop();"string"==typeof r&&(r=[r]),"function"!=typeof n&&(o=n,n=I);const c=w.validateTopics(r);if(null!==c)return R(n,new Error("Invalid topic "+c)),this;if(t._checkDisconnecting(n))return this;const h=function(){const e=t._nextId();if(null===e)return E("No messageId left"),!1;const c={cmd:"unsubscribe",qos:1,messageId:e};return"string"==typeof r?c.unsubscriptions=[r]:Array.isArray(r)&&(c.unsubscriptions=r),t.options.resubscribe&&c.unsubscriptions.forEach((function(e){delete t._resubscribeTopics[e]})),"object"==typeof o&&o.properties&&(c.properties=o.properties),t.outgoing[c.messageId]={volatile:!0,cb:n},E("unsubscribe: call _sendPacket"),t._sendPacket(c),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!h())&&this._storeProcessingQueue.push({invoke:h,callback:n}),this},C.prototype.end=function(t,e,r){const n=this;function o(){E("end :: closeStores: closing incoming and outgoing stores"),n.disconnected=!0,n.incomingStore.close((function(t){n.outgoingStore.close((function(e){if(E("end :: closeStores: emitting end"),n.emit("end"),r){const n=t||e;E("end :: closeStores: invoking callback with args"),r(n)}}))})),n._deferredReconnect&&n._deferredReconnect()}function c(){E("end :: (%s) :: finish :: calling _cleanUp with force %s",n.options.clientId,t),n._cleanUp(t,(()=>{E("end :: finish :: calling process.nextTick on closeStores"),k(o.bind(n))}),e)}return E("end :: (%s)",this.options.clientId),null!=t&&"boolean"==typeof t||(r=e||I,e=t,t=!1,"object"!=typeof e&&(r=e,e=null,"function"!=typeof r&&(r=I))),"object"!=typeof e&&(r=e,e=null),E("end :: cb? %s",!!r),r=r||I,this.disconnecting?(r(),this):(this._clearReconnect(),this.disconnecting=!0,!t&&Object.keys(this.outgoing).length>0?(E("end :: (%s) :: calling finish in 10ms once outgoing is empty",n.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,c,10))):(E("end :: (%s) :: immediately calling finish",n.options.clientId),c()),this)},C.prototype.removeOutgoingMessage=function(t){const e=this.outgoing[t]?this.outgoing[t].cb:null;return delete this.outgoing[t],this.outgoingStore.del({messageId:t},(function(){e(new Error("Message removed"))})),this},C.prototype.reconnect=function(t){E("client reconnect");const e=this,r=function(){t?(e.options.incomingStore=t.incomingStore,e.options.outgoingStore=t.outgoingStore):(e.options.incomingStore=null,e.options.outgoingStore=null),e.incomingStore=e.options.incomingStore||new c,e.outgoingStore=e.options.outgoingStore||new c,e.disconnecting=!1,e.disconnected=!1,e._deferredReconnect=null,e._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=r:r(),this},C.prototype._reconnect=function(){E("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end((()=>{this._setupStream()})),E("client already connected. disconnecting first.")):(E("_reconnect: calling _setupStream"),this._setupStream())},C.prototype._setupReconnect=function(){const t=this;!t.disconnecting&&!t.reconnectTimer&&t.options.reconnectPeriod>0?(this.reconnecting||(E("_setupReconnect :: emit `offline` state"),this.emit("offline"),E("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),E("_setupReconnect :: setting reconnectTimer for %d ms",t.options.reconnectPeriod),t.reconnectTimer=setInterval((function(){E("reconnectTimer :: reconnect triggered!"),t._reconnect()}),t.options.reconnectPeriod)):E("_setupReconnect :: doing nothing...")},C.prototype._clearReconnect=function(){E("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)},C.prototype._cleanUp=function(t,e){const r=arguments[2];if(e&&(E("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",e)),E("_cleanUp :: forced? %s",t),t)0===this.options.reconnectPeriod&&this.options.clean&&(n=this.outgoing)&&(E("flush: queue exists? %b",!!n),Object.keys(n).forEach((function(t){"function"==typeof n[t].cb&&(n[t].cb(new Error("Connection closed")),delete n[t])}))),E("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{const t=S({cmd:"disconnect"},r);E("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(t,R.bind(null,this.stream.end.bind(this.stream)))}var n;this.disconnecting||(E("_cleanUp :: client not disconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),null!==this.pingTimer&&(E("_cleanUp :: clearing pingTimer"),this.pingTimer.clear(),this.pingTimer=null),e&&!this.connected&&(E("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",e),e())},C.prototype._sendPacket=function(t,e,r){E("_sendPacket :: (%s) ::  start",this.options.clientId),r=r||I,e=e||I;const n=function(t,e){if(5===t.options.protocolVersion&&"publish"===e.cmd){let r;e.properties&&(r=e.properties.topicAlias);const n=e.topic.toString();if(t.topicAliasSend)if(r){if(0!==n.length&&(E("applyTopicAlias :: register topic: %s - alias: %d",n,r),!t.topicAliasSend.put(n,r)))return E("applyTopicAlias :: error out of range. topic: %s - alias: %d",n,r),new Error("Sending Topic Alias out of range")}else 0!==n.length&&(t.options.autoAssignTopicAlias?(r=t.topicAliasSend.getAliasByTopic(n),r?(e.topic="",e.properties={...e.properties,topicAlias:r},E("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",n,r)):(r=t.topicAliasSend.getLruAlias(),t.topicAliasSend.put(n,r),e.properties={...e.properties,topicAlias:r},E("applyTopicAlias :: auto assign topic: %s - alias: %d",n,r))):t.options.autoUseTopicAlias&&(r=t.topicAliasSend.getAliasByTopic(n),r&&(e.topic="",e.properties={...e.properties,topicAlias:r},E("applyTopicAlias :: auto use topic: %s - alias: %d",n,r))));else if(r)return E("applyTopicAlias :: error out of range. topic: %s - alias: %d",n,r),new Error("Sending Topic Alias out of range")}}(this,t);if(n)e(n);else{if(!this.connected)return"auth"===t.cmd?(this._shiftPingInterval(),void P(this,t,e)):(E("_sendPacket :: client not connected. Storing packet offline."),void this._storePacket(t,e,r));switch(this._shiftPingInterval(),t.cmd){case"publish":break;case"pubrel":return void x(this,t,e,r);default:return void P(this,t,e)}switch(t.qos){case 2:case 1:x(this,t,e,r);break;default:P(this,t,e)}E("_sendPacket :: (%s) ::  end",this.options.clientId)}},C.prototype._storePacket=function(t,e,r){E("_storePacket :: packet: %o",t),E("_storePacket :: cb? %s",!!e),r=r||I;let n=t;if("publish"===n.cmd){n=_(t);const r=O(this,n);if(r)return e&&e(r)}0===(n.qos||0)&&this.queueQoSZero||"publish"!==n.cmd?this.queue.push({packet:n,cb:e}):n.qos>0?(e=this.outgoing[n.messageId]?this.outgoing[n.messageId].cb:null,this.outgoingStore.put(n,(function(t){if(t)return e&&e(t);r()}))):e&&e(new Error("No connection to broker"))},C.prototype._setupPingTimer=function(){E("_setupPingTimer :: keepalive %d (seconds)",this.options.keepalive);const t=this;!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=v((function(){t._checkPing()}),1e3*this.options.keepalive))},C.prototype._shiftPingInterval=function(){this.pingTimer&&this.options.keepalive&&this.options.reschedulePings&&this.pingTimer.reschedule(1e3*this.options.keepalive)},C.prototype._checkPing=function(){E("_checkPing :: checking ping..."),this.pingResp?(E("_checkPing :: ping response received. Clearing flag and sending `pingreq`"),this.pingResp=!1,this._sendPacket({cmd:"pingreq"})):(E("_checkPing :: calling _cleanUp with force true"),this._cleanUp(!0))},C.prototype._handlePingresp=function(){this.pingResp=!0},C.prototype._handleConnack=function(t){E("_handleConnack");const e=this.options,r=5===e.protocolVersion?t.reasonCode:t.returnCode;if(clearTimeout(this.connackTimer),delete this.topicAliasSend,t.properties){if(t.properties.topicAliasMaximum){if(t.properties.topicAliasMaximum>65535)return void this.emit("error",new Error("topicAliasMaximum from broker is out of range"));t.properties.topicAliasMaximum>0&&(this.topicAliasSend=new l(t.properties.topicAliasMaximum))}t.properties.serverKeepAlive&&e.keepalive&&(e.keepalive=t.properties.serverKeepAlive,this._shiftPingInterval()),t.properties.maximumPacketSize&&(e.properties||(e.properties={}),e.properties.maximumPacketSize=t.properties.maximumPacketSize)}if(0===r)this.reconnecting=!1,this._onConnect(t);else if(r>0){const t=new Error("Connection refused: "+A[r]);t.code=r,this.emit("error",t)}},C.prototype._handleAuth=function(t){const e=this.options.protocolVersion,r=5===e?t.reasonCode:t.returnCode;if(5!==e){const t=new Error("Protocol error: Auth packets are only supported in MQTT 5. Your version:"+e);return t.code=r,void this.emit("error",t)}const n=this;this.handleAuth(t,(function(t,e){if(t)n.emit("error",t);else if(24===r)n.reconnecting=!1,n._sendPacket(e);else{const e=new Error("Connection refused: "+A[r]);t.code=r,n.emit("error",e)}}))},C.prototype.handleAuth=function(t,e){e()},C.prototype._handlePublish=function(t,e){E("_handlePublish: packet %o",t),e=void 0!==e?e:I;let r=t.topic.toString();const n=t.payload,o=t.qos,c=t.messageId,h=this,l=this.options,f=[0,16,128,131,135,144,145,151,153];if(5===this.options.protocolVersion){let e;if(t.properties&&(e=t.properties.topicAlias),void 0!==e)if(0===r.length){if(!(e>0&&e<=65535))return E("_handlePublish :: topic alias out of range. alias: %d",e),void this.emit("error",new Error("Received Topic Alias is out of range"));{const t=this.topicAliasRecv.getTopicByAlias(e);if(!t)return E("_handlePublish :: unregistered topic alias. alias: %d",e),void this.emit("error",new Error("Received unregistered Topic Alias"));r=t,E("_handlePublish :: topic complemented by alias. topic: %s - alias: %d",r,e)}}else{if(!this.topicAliasRecv.put(r,e))return E("_handlePublish :: topic alias out of range. alias: %d",e),void this.emit("error",new Error("Received Topic Alias is out of range"));E("_handlePublish :: registered topic: %s - alias: %d",r,e)}}switch(E("_handlePublish: qos %d",o),o){case 2:l.customHandleAcks(r,n,t,(function(r,code){return r instanceof Error||(code=r,r=null),r?h.emit("error",r):-1===f.indexOf(code)?h.emit("error",new Error("Wrong reason code for pubrec")):void(code?h._sendPacket({cmd:"pubrec",messageId:c,reasonCode:code},e):h.incomingStore.put(t,(function(){h._sendPacket({cmd:"pubrec",messageId:c},e)})))}));break;case 1:l.customHandleAcks(r,n,t,(function(o,code){return o instanceof Error||(code=o,o=null),o?h.emit("error",o):-1===f.indexOf(code)?h.emit("error",new Error("Wrong reason code for puback")):(code||h.emit("message",r,n,t),void h.handleMessage(t,(function(t){if(t)return e&&e(t);h._sendPacket({cmd:"puback",messageId:c,reasonCode:code},e)})))}));break;case 0:this.emit("message",r,n,t),this.handleMessage(t,e);break;default:E("_handlePublish: unknown QoS. Doing nothing.")}},C.prototype.handleMessage=function(t,e){e()},C.prototype._handleAck=function(t){const e=t.messageId,r=t.cmd;let n=null;const o=this.outgoing[e]?this.outgoing[e].cb:null,c=this;let h;if(o){switch(E("_handleAck :: packet type",r),r){case"pubcomp":case"puback":{const r=t.reasonCode;r&&r>0&&16!==r&&(h=new Error("Publish error: "+A[r]),h.code=r,o(h,t)),delete this.outgoing[e],this.outgoingStore.del(t,o),this.messageIdProvider.deallocate(e),this._invokeStoreProcessingQueue();break}case"pubrec":{n={cmd:"pubrel",qos:2,messageId:e};const r=t.reasonCode;r&&r>0&&16!==r?(h=new Error("Publish error: "+A[r]),h.code=r,o(h,t)):this._sendPacket(n);break}case"suback":delete this.outgoing[e],this.messageIdProvider.deallocate(e);for(let r=0;r<t.granted.length;r++)if(0!=(128&t.granted[r])){const t=this.messageIdToTopic[e];t&&t.forEach((function(t){delete c._resubscribeTopics[t]}))}this._invokeStoreProcessingQueue(),o(null,t);break;case"unsuback":delete this.outgoing[e],this.messageIdProvider.deallocate(e),this._invokeStoreProcessingQueue(),o(null);break;default:c.emit("error",new Error("unrecognized packet type"))}this.disconnecting&&0===Object.keys(this.outgoing).length&&this.emit("outgoingEmpty")}else E("_handleAck :: Server sent an ack in error. Ignoring.")},C.prototype._handlePubrel=function(t,e){E("handling pubrel packet"),e=void 0!==e?e:I;const r=t.messageId,n=this,o={cmd:"pubcomp",messageId:r};n.incomingStore.get(t,(function(t,r){t?n._sendPacket(o,e):(n.emit("message",r.topic,r.payload,r),n.handleMessage(r,(function(t){if(t)return e(t);n.incomingStore.del(r,I),n._sendPacket(o,e)})))}))},C.prototype._handleDisconnect=function(t){this.emit("disconnect",t)},C.prototype._nextId=function(){return this.messageIdProvider.allocate()},C.prototype.getLastMessageId=function(){return this.messageIdProvider.getLastAllocated()},C.prototype._resubscribe=function(){E("_resubscribe");const t=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||5===this.options.protocolVersion&&!this.connackPacket.sessionPresent)&&t.length>0)if(this.options.resubscribe)if(5===this.options.protocolVersion){E("_resubscribe: protocolVersion 5");for(let e=0;e<t.length;e++){const r={};r[t[e]]=this._resubscribeTopics[t[e]],r.resubscribe=!0,this.subscribe(r,{properties:r[t[e]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1},C.prototype._onConnect=function(t){if(this.disconnected)return void this.emit("connect",t);const e=this;this.connackPacket=t,this.messageIdProvider.clear(),this._setupPingTimer(),this.connected=!0,function r(){let n=e.outgoingStore.createStream();function o(){e._storeProcessing=!1,e._packetIdsDuringStoreProcessing={}}function c(){n.destroy(),n=null,e._flushStoreProcessingQueue(),o()}e.once("close",c),n.on("error",(function(t){o(),e._flushStoreProcessingQueue(),e.removeListener("close",c),e.emit("error",t)})),n.on("end",(function(){let n=!0;for(const t in e._packetIdsDuringStoreProcessing)if(!e._packetIdsDuringStoreProcessing[t]){n=!1;break}n?(o(),e.removeListener("close",c),e._invokeAllStoreProcessingQueue(),e.emit("connect",t)):r()})),function t(){if(!n)return;e._storeProcessing=!0;const r=n.read(1);let o;r?e._packetIdsDuringStoreProcessing[r.messageId]?t():e.disconnecting||e.reconnectTimer?n.destroy&&n.destroy():(o=e.outgoing[r.messageId]?e.outgoing[r.messageId].cb:null,e.outgoing[r.messageId]={volatile:!1,cb:function(e,r){o&&o(e,r),t()}},e._packetIdsDuringStoreProcessing[r.messageId]=!0,e.messageIdProvider.register(r.messageId)?e._sendPacket(r):E("messageId: %d has already used.",r.messageId)):n.once("readable",t)}()}()},C.prototype._invokeStoreProcessingQueue=function(){if(this._storeProcessingQueue.length>0){const t=this._storeProcessingQueue[0];if(t&&t.invoke())return this._storeProcessingQueue.shift(),!0}return!1},C.prototype._invokeAllStoreProcessingQueue=function(){for(;this._invokeStoreProcessingQueue(););},C.prototype._flushStoreProcessingQueue=function(){for(const t of this._storeProcessingQueue)t.cbStorePut&&t.cbStorePut(new Error("Connection closed")),t.callback&&t.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)},t.exports=C}).call(this,r(128),r(77))},641:function(t,e,r){"use strict";e.byteLength=function(t){var e=l(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,i,r=l(t),n=r[0],h=r[1],f=new c(function(t,e,r){return 3*(e+r)/4-r}(0,n,h)),d=0,y=h>0?n-4:n;for(i=0;i<y;i+=4)e=o[t.charCodeAt(i)]<<18|o[t.charCodeAt(i+1)]<<12|o[t.charCodeAt(i+2)]<<6|o[t.charCodeAt(i+3)],f[d++]=e>>16&255,f[d++]=e>>8&255,f[d++]=255&e;2===h&&(e=o[t.charCodeAt(i)]<<2|o[t.charCodeAt(i+1)]>>4,f[d++]=255&e);1===h&&(e=o[t.charCodeAt(i)]<<10|o[t.charCodeAt(i+1)]<<4|o[t.charCodeAt(i+2)]>>2,f[d++]=e>>8&255,f[d++]=255&e);return f},e.fromByteArray=function(t){for(var e,r=t.length,o=r%3,c=[],h=16383,i=0,l=r-o;i<l;i+=h)c.push(f(t,i,i+h>l?l:i+h));1===o?(e=t[r-1],c.push(n[e>>2]+n[e<<4&63]+"==")):2===o&&(e=(t[r-2]<<8)+t[r-1],c.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return c.join("")};for(var n=[],o=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,h=code.length;i<h;++i)n[i]=code[i],o[code.charCodeAt(i)]=i;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function f(t,e,r){for(var o,c,output=[],i=e;i<r;i+=3)o=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(255&t[i+2]),output.push(n[(c=o)>>18&63]+n[c>>12&63]+n[c>>6&63]+n[63&c]);return output.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},642:function(t,e){e.read=function(t,e,r,n,o){var c,h,l=8*o-n-1,f=(1<<l)-1,d=f>>1,y=-7,i=r?o-1:0,m=r?-1:1,s=t[e+i];for(i+=m,c=s&(1<<-y)-1,s>>=-y,y+=l;y>0;c=256*c+t[e+i],i+=m,y-=8);for(h=c&(1<<-y)-1,c>>=-y,y+=n;y>0;h=256*h+t[e+i],i+=m,y-=8);if(0===c)c=1-d;else{if(c===f)return h?NaN:1/0*(s?-1:1);h+=Math.pow(2,n),c-=d}return(s?-1:1)*h*Math.pow(2,c-n)},e.write=function(t,e,r,n,o,c){var h,l,f,d=8*c-o-1,y=(1<<d)-1,m=y>>1,rt=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,i=n?0:c-1,v=n?1:-1,s=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,h=y):(h=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-h))<1&&(h--,f*=2),(e+=h+m>=1?rt/f:rt*Math.pow(2,1-m))*f>=2&&(h++,f/=2),h+m>=y?(l=0,h=y):h+m>=1?(l=(e*f-1)*Math.pow(2,o),h+=m):(l=e*Math.pow(2,m-1)*Math.pow(2,o),h=0));o>=8;t[r+i]=255&l,i+=v,l/=256,o-=8);for(h=h<<o|l,d+=o;d>0;t[r+i]=255&h,i+=v,h/=256,d-=8);t[r+i-v]|=128*s}},643:function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},644:function(t,e,r){"use strict";function n(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var h=r(534).Buffer,l=r(568).inspect,f=l&&l.custom||"inspect";t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}var e,r,d;return e=t,r=[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(s){if(0===this.length)return"";for(var p=this.head,t=""+p.data;p=p.next;)t+=s+p.data;return t}},{key:"concat",value:function(t){if(0===this.length)return h.alloc(0);for(var e,r,n,o=h.allocUnsafe(t>>>0),p=this.head,i=0;p;)e=p.data,r=o,n=i,h.prototype.copy.call(e,r,n),i+=p.data.length,p=p.next;return o}},{key:"consume",value:function(t,e){var r;return t<this.head.data.length?(r=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):r=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var p=this.head,e=1,r=p.data;for(t-=r.length;p=p.next;){var n=p.data,o=t>n.length?n.length:t;if(o===n.length?r+=n:r+=n.slice(0,t),0==(t-=o)){o===n.length?(++e,p.next?this.head=p.next:this.head=this.tail=null):(this.head=p,p.data=n.slice(o));break}++e}return this.length-=e,r}},{key:"_getBuffer",value:function(t){var e=h.allocUnsafe(t),p=this.head,r=1;for(p.data.copy(e),t-=p.data.length;p=p.next;){var n=p.data,o=t>n.length?n.length:t;if(n.copy(e,e.length-t,0,o),0==(t-=o)){o===n.length?(++r,p.next?this.head=p.next:this.head=this.tail=null):(this.head=p,p.data=n.slice(o));break}++r}return this.length-=r,e}},{key:f,value:function(t,e){return l(this,function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?n(Object(source),!0).forEach((function(e){o(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):n(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},e,{depth:0,customInspect:!1}))}}],r&&c(e.prototype,r),d&&c(e,d),t}()},645:function(t,e,r){var n=r(534),o=n.Buffer;function c(t,e){for(var r in t)e[r]=t[r]}function h(t,e,r){return o(t,e,r)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?t.exports=n:(c(n,e),e.Buffer=h),h.prototype=Object.create(o.prototype),c(o,h),h.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return o(t,e,r)},h.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=o(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},h.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return o(t)},h.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},646:function(t,e,r){"use strict";(function(e){var n;function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var c=r(579),h=Symbol("lastResolve"),l=Symbol("lastReject"),f=Symbol("error"),d=Symbol("ended"),y=Symbol("lastPromise"),m=Symbol("handlePromise"),v=Symbol("stream");function _(t,e){return{value:t,done:e}}function w(t){var e=t[h];if(null!==e){var data=t[v].read();null!==data&&(t[y]=null,t[h]=null,t[l]=null,e(_(data,!1)))}}function S(t){e.nextTick(w,t)}var E=Object.getPrototypeOf((function(){})),k=Object.setPrototypeOf((o(n={get stream(){return this[v]},next:function(){var t=this,r=this[f];if(null!==r)return Promise.reject(r);if(this[d])return Promise.resolve(_(void 0,!0));if(this[v].destroyed)return new Promise((function(r,n){e.nextTick((function(){t[f]?n(t[f]):r(_(void 0,!0))}))}));var n,o=this[y];if(o)n=new Promise(function(t,e){return function(r,n){t.then((function(){e[d]?r(_(void 0,!0)):e[m](r,n)}),n)}}(o,this));else{var data=this[v].read();if(null!==data)return Promise.resolve(_(data,!1));n=new Promise(this[m])}return this[y]=n,n}},Symbol.asyncIterator,(function(){return this})),o(n,"return",(function(){var t=this;return new Promise((function(e,r){t[v].destroy(null,(function(t){t?r(t):e(_(void 0,!0))}))}))})),n),E);t.exports=function(t){var e,r=Object.create(k,(o(e={},v,{value:t,writable:!0}),o(e,h,{value:null,writable:!0}),o(e,l,{value:null,writable:!0}),o(e,f,{value:null,writable:!0}),o(e,d,{value:t._readableState.endEmitted,writable:!0}),o(e,m,{value:function(t,e){var data=r[v].read();data?(r[y]=null,r[h]=null,r[l]=null,t(_(data,!1))):(r[h]=t,r[l]=e)},writable:!0}),e));return r[y]=null,c(t,(function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=r[l];return null!==e&&(r[y]=null,r[h]=null,r[l]=null,e(t)),void(r[f]=t)}var n=r[h];null!==n&&(r[y]=null,r[h]=null,r[l]=null,n(_(void 0,!0))),r[d]=!0})),t.on("readable",S.bind(null,r)),r}}).call(this,r(128))},647:function(t,e){t.exports=function(){throw new Error("Readable.from is not available in the browser")}},648:function(t,e,r){"use strict";t.exports=o;var n=r(601);function o(t){if(!(this instanceof o))return new o(t);n.call(this,t)}r(535)(o,n),o.prototype._transform=function(t,e,r){r(null,t)}},649:function(t,e,r){"use strict";var n;var o=r(551).codes,c=o.ERR_MISSING_ARGS,h=o.ERR_STREAM_DESTROYED;function l(t){if(t)throw t}function f(t){t()}function d(t,e){return t.pipe(e)}t.exports=function(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];var y,m=function(t){return t.length?"function"!=typeof t[t.length-1]?l:t.pop():l}(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new c("streams");var v=e.map((function(t,i){var o=i<e.length-1;return function(t,e,o,c){c=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(c);var l=!1;t.on("close",(function(){l=!0})),void 0===n&&(n=r(579)),n(t,{readable:e,writable:o},(function(t){if(t)return c(t);l=!0,c()}));var f=!1;return function(e){if(!l&&!f)return f=!0,function(t){return t.setHeader&&"function"==typeof t.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void c(e||new h("pipe"))}}(t,o,i>0,(function(t){y||(y=t),t&&v.forEach(f),o||(v.forEach(f),m(y))}))}));return e.reduce(d)}},650:function(t,e,r){"use strict";function n(t){if(!(this instanceof n))return new n(t);this.aliasToTopic={},this.max=t}n.prototype.put=function(t,e){return!(0===e||e>this.max)&&(this.aliasToTopic[e]=t,this.length=Object.keys(this.aliasToTopic).length,!0)},n.prototype.getTopicByAlias=function(t){return this.aliasToTopic[t]},n.prototype.clear=function(){this.aliasToTopic={}},t.exports=n},651:function(t,e,r){"use strict";const n=r(652),o=r(655).NumberAllocator;function c(t){if(!(this instanceof c))return new c(t);t>0&&(this.aliasToTopic=new n({max:t}),this.topicToAlias={},this.numberAllocator=new o(1,t),this.max=t,this.length=0)}c.prototype.put=function(t,e){if(0===e||e>this.max)return!1;const r=this.aliasToTopic.get(e);return r&&delete this.topicToAlias[r],this.aliasToTopic.set(e,t),this.topicToAlias[t]=e,this.numberAllocator.use(e),this.length=this.aliasToTopic.length,!0},c.prototype.getTopicByAlias=function(t){return this.aliasToTopic.get(t)},c.prototype.getAliasByTopic=function(t){const e=this.topicToAlias[t];return void 0!==e&&this.aliasToTopic.get(e),e},c.prototype.clear=function(){this.aliasToTopic.reset(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0},c.prototype.getLruAlias=function(){const t=this.numberAllocator.firstVacant();return t||this.aliasToTopic.keys()[this.aliasToTopic.length-1]},t.exports=c},652:function(t,e,r){"use strict";const n=r(653),o=Symbol("max"),c=Symbol("length"),h=Symbol("lengthCalculator"),l=Symbol("allowStale"),f=Symbol("maxAge"),d=Symbol("dispose"),y=Symbol("noDisposeOnSet"),m=Symbol("lruList"),v=Symbol("cache"),_=Symbol("updateAgeOnGet"),w=()=>1;const S=(t,e,r)=>{const n=t[v].get(e);if(n){const e=n.value;if(E(t,e)){if(del(t,n),!t[l])return}else r&&(t[_]&&(n.value.now=Date.now()),t[m].unshiftNode(n));return e.value}},E=(t,e)=>{if(!e||!e.maxAge&&!t[f])return!1;const r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[f]&&r>t[f]},k=t=>{if(t[c]>t[o])for(let e=t[m].tail;t[c]>t[o]&&null!==e;){const r=e.prev;del(t,e),e=r}},del=(t,e)=>{if(e){const r=e.value;t[d]&&t[d](r.key,r.value),t[c]-=r.length,t[v].delete(r.key),t[m].removeNode(e)}};class R{constructor(t,e,r,n,o){this.key=t,this.value=e,this.length=r,this.now=n,this.maxAge=o||0}}const M=(t,e,r,n)=>{let o=r.value;E(t,o)&&(del(t,r),t[l]||(o=void 0)),o&&e.call(n,o.value,o.key,t)};t.exports=class{constructor(t){if("number"==typeof t&&(t={max:t}),t||(t={}),t.max&&("number"!=typeof t.max||t.max<0))throw new TypeError("max must be a non-negative number");this[o]=t.max||1/0;const e=t.length||w;if(this[h]="function"!=typeof e?w:e,this[l]=t.stale||!1,t.maxAge&&"number"!=typeof t.maxAge)throw new TypeError("maxAge must be a number");this[f]=t.maxAge||0,this[d]=t.dispose,this[y]=t.noDisposeOnSet||!1,this[_]=t.updateAgeOnGet||!1,this.reset()}set max(t){if("number"!=typeof t||t<0)throw new TypeError("max must be a non-negative number");this[o]=t||1/0,k(this)}get max(){return this[o]}set allowStale(t){this[l]=!!t}get allowStale(){return this[l]}set maxAge(t){if("number"!=typeof t)throw new TypeError("maxAge must be a non-negative number");this[f]=t,k(this)}get maxAge(){return this[f]}set lengthCalculator(t){"function"!=typeof t&&(t=w),t!==this[h]&&(this[h]=t,this[c]=0,this[m].forEach((t=>{t.length=this[h](t.value,t.key),this[c]+=t.length}))),k(this)}get lengthCalculator(){return this[h]}get length(){return this[c]}get itemCount(){return this[m].length}rforEach(t,e){e=e||this;for(let r=this[m].tail;null!==r;){const n=r.prev;M(this,t,r,e),r=n}}forEach(t,e){e=e||this;for(let r=this[m].head;null!==r;){const n=r.next;M(this,t,r,e),r=n}}keys(){return this[m].toArray().map((t=>t.key))}values(){return this[m].toArray().map((t=>t.value))}reset(){this[d]&&this[m]&&this[m].length&&this[m].forEach((t=>this[d](t.key,t.value))),this[v]=new Map,this[m]=new n,this[c]=0}dump(){return this[m].map((t=>!E(this,t)&&{k:t.key,v:t.value,e:t.now+(t.maxAge||0)})).toArray().filter((t=>t))}dumpLru(){return this[m]}set(t,e,r){if((r=r||this[f])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const n=r?Date.now():0,l=this[h](e,t);if(this[v].has(t)){if(l>this[o])return del(this,this[v].get(t)),!1;const h=this[v].get(t).value;return this[d]&&(this[y]||this[d](t,h.value)),h.now=n,h.maxAge=r,h.value=e,this[c]+=l-h.length,h.length=l,this.get(t),k(this),!0}const _=new R(t,e,l,n,r);return _.length>this[o]?(this[d]&&this[d](t,e),!1):(this[c]+=_.length,this[m].unshift(_),this[v].set(t,this[m].head),k(this),!0)}has(t){if(!this[v].has(t))return!1;const e=this[v].get(t).value;return!E(this,e)}get(t){return S(this,t,!0)}peek(t){return S(this,t,!1)}pop(){const t=this[m].tail;return t?(del(this,t),t.value):null}del(t){del(this,this[v].get(t))}load(t){this.reset();const e=Date.now();for(let r=t.length-1;r>=0;r--){const n=t[r],o=n.e||0;if(0===o)this.set(n.k,n.v);else{const t=o-e;t>0&&this.set(n.k,n.v,t)}}}prune(){this[v].forEach(((t,e)=>S(this,e,!1)))}}},653:function(t,e,r){"use strict";function n(t){var e=this;if(e instanceof n||(e=new n),e.tail=null,e.head=null,e.length=0,t&&"function"==typeof t.forEach)t.forEach((function(t){e.push(t)}));else if(arguments.length>0)for(var i=0,r=arguments.length;i<r;i++)e.push(arguments[i]);return e}function o(t,e,r){var n=e===t.head?new l(r,null,e,t):new l(r,e,e.next,t);return null===n.next&&(t.tail=n),null===n.prev&&(t.head=n),t.length++,n}function c(t,e){t.tail=new l(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function h(t,e){t.head=new l(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function l(t,e,r,n){if(!(this instanceof l))return new l(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}t.exports=n,n.Node=l,n.create=n,n.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e},n.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var head=this.head;t.list=this,t.next=head,head&&(head.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}},n.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}},n.prototype.push=function(){for(var i=0,t=arguments.length;i<t;i++)c(this,arguments[i]);return this.length},n.prototype.unshift=function(){for(var i=0,t=arguments.length;i<t;i++)h(this,arguments[i]);return this.length},n.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}},n.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}},n.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,i=0;null!==r;i++)t.call(e,r.value,i,this),r=r.next},n.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,i=this.length-1;null!==r;i--)t.call(e,r.value,i,this),r=r.prev},n.prototype.get=function(t){for(var i=0,e=this.head;null!==e&&i<t;i++)e=e.next;if(i===t&&null!==e)return e.value},n.prototype.getReverse=function(t){for(var i=0,e=this.tail;null!==e&&i<t;i++)e=e.prev;if(i===t&&null!==e)return e.value},n.prototype.map=function(t,e){e=e||this;for(var r=new n,o=this.head;null!==o;)r.push(t.call(e,o.value,this)),o=o.next;return r},n.prototype.mapReverse=function(t,e){e=e||this;for(var r=new n,o=this.tail;null!==o;)r.push(t.call(e,o.value,this)),o=o.prev;return r},n.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var i=0;null!==n;i++)r=t(r,n.value,i),n=n.next;return r},n.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var i=this.length-1;null!==n;i--)r=t(r,n.value,i),n=n.prev;return r},n.prototype.toArray=function(){for(var t=new Array(this.length),i=0,e=this.head;null!==e;i++)t[i]=e.value,e=e.next;return t},n.prototype.toArrayReverse=function(){for(var t=new Array(this.length),i=0,e=this.tail;null!==e;i++)t[i]=e.value,e=e.prev;return t},n.prototype.slice=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var r=new n;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var i=0,o=this.head;null!==o&&i<t;i++)o=o.next;for(;null!==o&&i<e;i++,o=o.next)r.push(o.value);return r},n.prototype.sliceReverse=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var r=new n;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var i=this.length,o=this.tail;null!==o&&i>e;i--)o=o.prev;for(;null!==o&&i>t;i--,o=o.prev)r.push(o.value);return r},n.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var i=0,n=this.head;null!==n&&i<t;i++)n=n.next;var c=[];for(i=0;n&&i<e;i++)c.push(n.value),n=this.removeNode(n);null===n&&(n=this.tail),n!==this.head&&n!==this.tail&&(n=n.prev);for(i=0;i<r.length;i++)n=o(this,n,r[i]);return c},n.prototype.reverse=function(){for(var head=this.head,t=this.tail,e=head;null!==e;e=e.prev){var p=e.prev;e.prev=e.next,e.next=p}return this.head=t,this.tail=head,this};try{r(654)(n)}catch(t){}},654:function(t,e,r){"use strict";t.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}},655:function(t,e,r){const n=r(656);t.exports.NumberAllocator=n},656:function(t,e,r){"use strict";const n=r(729).OrderedSet,o=r(547)("number-allocator:trace"),c=r(547)("number-allocator:error");function h(t,e){this.low=t,this.high=e}function l(t,e){if(!(this instanceof l))return new l(t,e);this.min=t,this.max=e,this.ss=new n([],((t,e)=>t.compare(e))),o("Create"),this.clear()}h.prototype.equals=function(t){return this.low===t.low&&this.high===t.high},h.prototype.compare=function(t){return this.low<t.low&&this.high<t.low?-1:t.low<this.low&&t.high<this.low?1:0},l.prototype.firstVacant=function(){return 0===this.ss.size()?null:this.ss.front().low},l.prototype.alloc=function(){if(0===this.ss.size())return o("alloc():empty"),null;const t=this.ss.begin(),e=t.pointer.low,r=t.pointer.high,n=e;return n+1<=r?this.ss.updateKeyByIterator(t,new h(e+1,r)):this.ss.eraseElementByPos(0),o("alloc():"+n),n},l.prototype.use=function(t){const e=new h(t,t),r=this.ss.lowerBound(e);if(!r.equals(this.ss.end())){const n=r.pointer.low,c=r.pointer.high;return r.pointer.equals(e)?(this.ss.eraseElementByIterator(r),o("use():"+t),!0):!(n>t)&&(n===t?(this.ss.updateKeyByIterator(r,new h(n+1,c)),o("use():"+t),!0):c===t?(this.ss.updateKeyByIterator(r,new h(n,c-1)),o("use():"+t),!0):(this.ss.updateKeyByIterator(r,new h(t+1,c)),this.ss.insert(new h(n,t-1)),o("use():"+t),!0))}return o("use():failed"),!1},l.prototype.free=function(t){if(t<this.min||t>this.max)return void c("free():"+t+" is out of range");const e=new h(t,t),r=this.ss.upperBound(e);if(r.equals(this.ss.end())){if(r.equals(this.ss.begin()))return void this.ss.insert(e);r.pre();const n=r.pointer.high;r.pointer.high+1===t?this.ss.updateKeyByIterator(r,new h(n,t)):this.ss.insert(e)}else if(r.equals(this.ss.begin()))if(t+1===r.pointer.low){const e=r.pointer.high;this.ss.updateKeyByIterator(r,new h(t,e))}else this.ss.insert(e);else{const n=r.pointer.low,o=r.pointer.high;r.pre();const c=r.pointer.low;r.pointer.high+1===t?t+1===n?(this.ss.eraseElementByIterator(r),this.ss.updateKeyByIterator(r,new h(c,o))):this.ss.updateKeyByIterator(r,new h(c,t)):t+1===n?(this.ss.eraseElementByIterator(r.next()),this.ss.insert(new h(t,o))):this.ss.insert(e)}o("free():"+t)},l.prototype.clear=function(){o("clear()"),this.ss.clear(),this.ss.insert(new h(this.min,this.max))},l.prototype.intervalCount=function(){return this.ss.size()},l.prototype.dump=function(){console.log("length:"+this.ss.size());for(const element of this.ss)console.log(element)},t.exports=l},657:function(t,e,r){t.exports=function(t){function e(t){let r,o,c,h=null;function l(...t){if(!l.enabled)return;const n=l,o=Number(new Date),c=o-(r||o);n.diff=c,n.prev=r,n.curr=o,r=o,t[0]=e.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");let h=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,((r,o)=>{if("%%"===r)return"%";h++;const c=e.formatters[o];if("function"==typeof c){const e=t[h];r=c.call(n,e),t.splice(h,1),h--}return r})),e.formatArgs.call(n,t);(n.log||e.log).apply(n,t)}return l.namespace=t,l.useColors=e.useColors(),l.color=e.selectColor(t),l.extend=n,l.destroy=e.destroy,Object.defineProperty(l,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==h?h:(o!==e.namespaces&&(o=e.namespaces,c=e.enabled(t)),c),set:t=>{h=t}}),"function"==typeof e.init&&e.init(l),l}function n(t,r){const n=e(this.namespace+(void 0===r?":":r)+t);return n.log=this.log,n}function o(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return e.debug=e,e.default=e,e.coerce=function(t){if(t instanceof Error)return t.stack||t.message;return t},e.disable=function(){const t=[...e.names.map(o),...e.skips.map(o).map((t=>"-"+t))].join(",");return e.enable(""),t},e.enable=function(t){let i;e.save(t),e.namespaces=t,e.names=[],e.skips=[];const r=("string"==typeof t?t:"").split(/[\s,]+/),n=r.length;for(i=0;i<n;i++)r[i]&&("-"===(t=r[i].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.slice(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){if("*"===t[t.length-1])return!0;let i,r;for(i=0,r=e.skips.length;i<r;i++)if(e.skips[i].test(t))return!1;for(i=0,r=e.names.length;i<r;i++)if(e.names[i].test(t))return!0;return!1},e.humanize=r(658),e.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach((r=>{e[r]=t[r]})),e.names=[],e.skips=[],e.formatters={},e.selectColor=function(t){let r=0;for(let i=0;i<t.length;i++)r=(r<<5)-r+t.charCodeAt(i),r|=0;return e.colors[Math.abs(r)%e.colors.length]},e.enable(e.load()),e}},658:function(t,e){var s=1e3,r=60*s,n=60*r,o=24*n,c=7*o,h=365.25*o;function l(t,e,r,n){var o=e>=1.5*r;return Math.round(t/r)+" "+n+(o?"s":"")}t.exports=function(t,e){e=e||{};var f=typeof t;if("string"===f&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!e)return;var l=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return l*h;case"weeks":case"week":case"w":return l*c;case"days":case"day":case"d":return l*o;case"hours":case"hour":case"hrs":case"hr":case"h":return l*n;case"minutes":case"minute":case"mins":case"min":case"m":return l*r;case"seconds":case"second":case"secs":case"sec":case"s":return l*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return l;default:return}}(t);if("number"===f&&isFinite(t))return e.long?function(t){var e=Math.abs(t);if(e>=o)return l(t,e,o,"day");if(e>=n)return l(t,e,n,"hour");if(e>=r)return l(t,e,r,"minute");if(e>=s)return l(t,e,s,"second");return t+" ms"}(t):function(t){var e=Math.abs(t);if(e>=o)return Math.round(t/o)+"d";if(e>=n)return Math.round(t/n)+"h";if(e>=r)return Math.round(t/r)+"m";if(e>=s)return Math.round(t/s)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},659:function(t,e,r){e.parser=r(660).parser,e.generate=r(670),e.writeToStream=r(609)},660:function(t,e,r){const n=r(661),o=r(546),c=r(669),h=r(608),l=r(547)("mqtt-packet:parser");class f extends o{constructor(){super(),this.parser=this.constructor.parser}static parser(t){return this instanceof f?(this.settings=t||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):(new f).parser(t)}_resetState(){l("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new c,this.error=null,this._list=n(),this._stateCounter=0}parse(t){for(this.error&&this._resetState(),this._list.append(t),l("parse: current state: %s",this._states[this._stateCounter]);(-1!==this.packet.length||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,l("parse: state complete. _stateCounter is now: %d",this._stateCounter),l("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return l("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){const t=this._list.readUInt8(0);return this.packet.cmd=h.types[t>>h.CMD_SHIFT],this.packet.retain=0!=(t&h.RETAIN_MASK),this.packet.qos=t>>h.QOS_SHIFT&h.QOS_MASK,this.packet.dup=0!=(t&h.DUP_MASK),l("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0}_parseLength(){const t=this._parseVarByteNum(!0);return t&&(this.packet.length=t.value,this._list.consume(t.bytes)),l("_parseLength %d",t.value),!!t}_parsePayload(){l("_parsePayload: payload %O",this._list);let t=!1;if(0===this.packet.length||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}t=!0}return l("_parsePayload complete result: %s",t),t}_parseConnect(){let t,e,r,n;l("_parseConnect");const o={},c=this.packet,f=this._parseString();if(null===f)return this._emitError(new Error("Cannot parse protocolId"));if("MQTT"!==f&&"MQIsdp"!==f)return this._emitError(new Error("Invalid protocolId"));if(c.protocolId=f,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(c.protocolVersion=this._list.readUInt8(this._pos),c.protocolVersion>=128&&(c.bridgeMode=!0,c.protocolVersion=c.protocolVersion-128),3!==c.protocolVersion&&4!==c.protocolVersion&&5!==c.protocolVersion)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(o.username=this._list.readUInt8(this._pos)&h.USERNAME_MASK,o.password=this._list.readUInt8(this._pos)&h.PASSWORD_MASK,o.will=this._list.readUInt8(this._pos)&h.WILL_FLAG_MASK,o.will&&(c.will={},c.will.retain=0!=(this._list.readUInt8(this._pos)&h.WILL_RETAIN_MASK),c.will.qos=(this._list.readUInt8(this._pos)&h.WILL_QOS_MASK)>>h.WILL_QOS_SHIFT),c.clean=0!=(this._list.readUInt8(this._pos)&h.CLEAN_SESSION_MASK),this._pos++,c.keepalive=this._parseNum(),-1===c.keepalive)return this._emitError(new Error("Packet too short"));if(5===c.protocolVersion){const t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(c.properties=t)}const d=this._parseString();if(null===d)return this._emitError(new Error("Packet too short"));if(c.clientId=d,l("_parseConnect: packet.clientId: %s",c.clientId),o.will){if(5===c.protocolVersion){const t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(c.will.properties=t)}if(t=this._parseString(),null===t)return this._emitError(new Error("Cannot parse will topic"));if(c.will.topic=t,l("_parseConnect: packet.will.topic: %s",c.will.topic),e=this._parseBuffer(),null===e)return this._emitError(new Error("Cannot parse will payload"));c.will.payload=e,l("_parseConnect: packet.will.paylaod: %s",c.will.payload)}if(o.username){if(n=this._parseString(),null===n)return this._emitError(new Error("Cannot parse username"));c.username=n,l("_parseConnect: packet.username: %s",c.username)}if(o.password){if(r=this._parseBuffer(),null===r)return this._emitError(new Error("Cannot parse password"));c.password=r}return this.settings=c,l("_parseConnect: complete"),c}_parseConnack(){l("_parseConnack");const t=this.packet;if(this._list.length<1)return null;if(t.sessionPresent=!!(this._list.readUInt8(this._pos++)&h.SESSIONPRESENT_MASK),5===this.settings.protocolVersion)this._list.length>=2?t.reasonCode=this._list.readUInt8(this._pos++):t.reasonCode=0;else{if(this._list.length<2)return null;t.returnCode=this._list.readUInt8(this._pos++)}if(-1===t.returnCode||-1===t.reasonCode)return this._emitError(new Error("Cannot parse return code"));if(5===this.settings.protocolVersion){const e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(t.properties=e)}l("_parseConnack: complete")}_parsePublish(){l("_parsePublish");const t=this.packet;if(t.topic=this._parseString(),null===t.topic)return this._emitError(new Error("Cannot parse topic"));if(!(t.qos>0)||this._parseMessageId()){if(5===this.settings.protocolVersion){const e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(t.properties=e)}t.payload=this._list.slice(this._pos,t.length),l("_parsePublish: payload from buffer list: %o",t.payload)}}_parseSubscribe(){l("_parseSubscribe");const t=this.packet;let e,r,n,o,c,f,d;if(1!==t.qos)return this._emitError(new Error("Wrong subscribe header"));if(t.subscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){const e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(t.properties=e)}for(;this._pos<t.length;){if(e=this._parseString(),null===e)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=t.length)return this._emitError(new Error("Malformed Subscribe Payload"));r=this._parseByte(),n=r&h.SUBSCRIBE_OPTIONS_QOS_MASK,f=0!=(r>>h.SUBSCRIBE_OPTIONS_NL_SHIFT&h.SUBSCRIBE_OPTIONS_NL_MASK),c=0!=(r>>h.SUBSCRIBE_OPTIONS_RAP_SHIFT&h.SUBSCRIBE_OPTIONS_RAP_MASK),o=r>>h.SUBSCRIBE_OPTIONS_RH_SHIFT&h.SUBSCRIBE_OPTIONS_RH_MASK,d={topic:e,qos:n},5===this.settings.protocolVersion?(d.nl=f,d.rap=c,d.rh=o):this.settings.bridgeMode&&(d.rh=0,d.rap=!0,d.nl=!0),l("_parseSubscribe: push subscription `%s` to subscription",d),t.subscriptions.push(d)}}}_parseSuback(){l("_parseSuback");const t=this.packet;if(this.packet.granted=[],this._parseMessageId()){if(5===this.settings.protocolVersion){const e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(t.properties=e)}for(;this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}_parseUnsubscribe(){l("_parseUnsubscribe");const t=this.packet;if(t.unsubscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){const e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(t.properties=e)}for(;this._pos<t.length;){const e=this._parseString();if(null===e)return this._emitError(new Error("Cannot parse topic"));l("_parseUnsubscribe: push topic `%s` to unsubscriptions",e),t.unsubscriptions.push(e)}}}_parseUnsuback(){l("_parseUnsuback");const t=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if(5===this.settings.protocolVersion){const e=this._parseProperties();for(Object.getOwnPropertyNames(e).length&&(t.properties=e),t.granted=[];this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}_parseConfirmation(){l("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);const t=this.packet;if(this._parseMessageId(),5===this.settings.protocolVersion&&(t.length>2?(t.reasonCode=this._parseByte(),l("_parseConfirmation: packet.reasonCode `%d`",t.reasonCode)):t.reasonCode=0,t.length>3)){const e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(t.properties=e)}return!0}_parseDisconnect(){const t=this.packet;if(l("_parseDisconnect"),5===this.settings.protocolVersion){this._list.length>0?t.reasonCode=this._parseByte():t.reasonCode=0;const e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(t.properties=e)}return l("_parseDisconnect result: true"),!0}_parseAuth(){l("_parseAuth");const t=this.packet;if(5!==this.settings.protocolVersion)return this._emitError(new Error("Not supported auth packet for this version MQTT"));t.reasonCode=this._parseByte();const e=this._parseProperties();return Object.getOwnPropertyNames(e).length&&(t.properties=e),l("_parseAuth: result: true"),!0}_parseMessageId(){const t=this.packet;return t.messageId=this._parseNum(),null===t.messageId?(this._emitError(new Error("Cannot parse messageId")),!1):(l("_parseMessageId: packet.messageId %d",t.messageId),!0)}_parseString(t){const e=this._parseNum(),r=e+this._pos;if(-1===e||r>this._list.length||r>this.packet.length)return null;const n=this._list.toString("utf8",this._pos,r);return this._pos+=e,l("_parseString: result: %s",n),n}_parseStringPair(){return l("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){const t=this._parseNum(),e=t+this._pos;if(-1===t||e>this._list.length||e>this.packet.length)return null;const r=this._list.slice(this._pos,e);return this._pos+=t,l("_parseBuffer: result: %o",r),r}_parseNum(){if(this._list.length-this._pos<2)return-1;const t=this._list.readUInt16BE(this._pos);return this._pos+=2,l("_parseNum: result: %s",t),t}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;const t=this._list.readUInt32BE(this._pos);return this._pos+=4,l("_parse4ByteNum: result: %s",t),t}_parseVarByteNum(t){l("_parseVarByteNum");let e,r=0,n=1,o=0,c=!1;const f=this._pos?this._pos:0;for(;r<4&&f+r<this._list.length;){if(e=this._list.readUInt8(f+r++),o+=n*(e&h.VARBYTEINT_MASK),n*=128,0==(e&h.VARBYTEINT_FIN_MASK)){c=!0;break}if(this._list.length<=r)break}return!c&&4===r&&this._list.length>=r&&this._emitError(new Error("Invalid variable byte integer")),f&&(this._pos+=r),c=!!c&&(t?{bytes:r,value:o}:o),l("_parseVarByteNum: result: %o",c),c}_parseByte(){let t;return this._pos<this._list.length&&(t=this._list.readUInt8(this._pos),this._pos++),l("_parseByte: result: %o",t),t}_parseByType(t){switch(l("_parseByType: type: %s",t),t){case"byte":return 0!==this._parseByte();case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){l("_parseProperties");const t=this._parseVarByteNum(),e=this._pos+t,r={};for(;this._pos<e;){const t=this._parseByte();if(!t)return this._emitError(new Error("Cannot parse property code type")),!1;const e=h.propertiesCodes[t];if(!e)return this._emitError(new Error("Unknown property")),!1;if("userProperties"!==e)r[e]?(Array.isArray(r[e])||(r[e]=[r[e]]),r[e].push(this._parseByType(h.propertiesTypes[e]))):r[e]=this._parseByType(h.propertiesTypes[e]);else{r[e]||(r[e]=Object.create(null));const t=this._parseByType(h.propertiesTypes[e]);if(r[e][t.name])if(Array.isArray(r[e][t.name]))r[e][t.name].push(t.value);else{const n=r[e][t.name];r[e][t.name]=[n],r[e][t.name].push(t.value)}else r[e][t.name]=t.value}}return r}_newPacket(){return l("_newPacket"),this.packet&&(this._list.consume(this.packet.length),l("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),l("_newPacket: new packet"),this.packet=new c,this._pos=0,!0}_emitError(t){l("_emitError"),this.error=t,this.emit("error",t)}}t.exports=f},661:function(t,e,r){"use strict";const n=r(662).Duplex,o=r(535),c=r(668);function h(t){if(!(this instanceof h))return new h(t);if("function"==typeof t){this._callback=t;const e=function(t){this._callback&&(this._callback(t),this._callback=null)}.bind(this);this.on("pipe",(function(t){t.on("error",e)})),this.on("unpipe",(function(t){t.removeListener("error",e)})),t=null}c._init.call(this,t),n.call(this)}o(h,n),Object.assign(h.prototype,c.prototype),h.prototype._new=function(t){return new h(t)},h.prototype._write=function(t,e,r){this._appendBuffer(t),"function"==typeof r&&r()},h.prototype._read=function(t){if(!this.length)return this.push(null);t=Math.min(t,this.length),this.push(this.slice(0,t)),this.consume(t)},h.prototype.end=function(t){n.prototype.end.call(this,t),this._callback&&(this._callback(null,this.slice()),this._callback=null)},h.prototype._destroy=function(t,e){this._bufs.length=0,this.length=0,e(t)},h.prototype._isBufferList=function(b){return b instanceof h||b instanceof c||h.isBufferList(b)},h.isBufferList=c.isBufferList,t.exports=h,t.exports.BufferListStream=h,t.exports.BufferList=c},662:function(t,e,r){(e=t.exports=r(602)).Stream=e,e.Readable=e,e.Writable=r(606),e.Duplex=r(555),e.Transform=r(607),e.PassThrough=r(666),e.finished=r(580),e.pipeline=r(667)},663:function(t,e,r){"use strict";function n(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function o(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?n(Object(source),!0).forEach((function(e){c(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):n(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function c(t,e,r){return(e=l(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l(r.key),r)}}function l(t){var e=function(input,t){if("object"!=typeof input||null===input)return input;var e=input[Symbol.toPrimitive];if(void 0!==e){var r=e.call(input,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(input)}(t,"string");return"symbol"==typeof e?e:String(e)}var f=r(534).Buffer,d=r(570).inspect,y=d&&d.custom||"inspect";t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}var e,r,n;return e=t,(r=[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(s){if(0===this.length)return"";for(var p=this.head,t=""+p.data;p=p.next;)t+=s+p.data;return t}},{key:"concat",value:function(t){if(0===this.length)return f.alloc(0);for(var e,r,n,o=f.allocUnsafe(t>>>0),p=this.head,i=0;p;)e=p.data,r=o,n=i,f.prototype.copy.call(e,r,n),i+=p.data.length,p=p.next;return o}},{key:"consume",value:function(t,e){var r;return t<this.head.data.length?(r=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):r=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var p=this.head,e=1,r=p.data;for(t-=r.length;p=p.next;){var n=p.data,o=t>n.length?n.length:t;if(o===n.length?r+=n:r+=n.slice(0,t),0==(t-=o)){o===n.length?(++e,p.next?this.head=p.next:this.head=this.tail=null):(this.head=p,p.data=n.slice(o));break}++e}return this.length-=e,r}},{key:"_getBuffer",value:function(t){var e=f.allocUnsafe(t),p=this.head,r=1;for(p.data.copy(e),t-=p.data.length;p=p.next;){var n=p.data,o=t>n.length?n.length:t;if(n.copy(e,e.length-t,0,o),0==(t-=o)){o===n.length?(++r,p.next?this.head=p.next:this.head=this.tail=null):(this.head=p,p.data=n.slice(o));break}++r}return this.length-=r,e}},{key:y,value:function(t,e){return d(this,o(o({},e),{},{depth:0,customInspect:!1}))}}])&&h(e.prototype,r),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}()},664:function(t,e,r){"use strict";(function(e){var n;function o(t,e,r){return(e=function(t){var e=function(input,t){if("object"!=typeof input||null===input)return input;var e=input[Symbol.toPrimitive];if(void 0!==e){var r=e.call(input,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(input)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var c=r(580),h=Symbol("lastResolve"),l=Symbol("lastReject"),f=Symbol("error"),d=Symbol("ended"),y=Symbol("lastPromise"),m=Symbol("handlePromise"),v=Symbol("stream");function _(t,e){return{value:t,done:e}}function w(t){var e=t[h];if(null!==e){var data=t[v].read();null!==data&&(t[y]=null,t[h]=null,t[l]=null,e(_(data,!1)))}}function S(t){e.nextTick(w,t)}var E=Object.getPrototypeOf((function(){})),k=Object.setPrototypeOf((o(n={get stream(){return this[v]},next:function(){var t=this,r=this[f];if(null!==r)return Promise.reject(r);if(this[d])return Promise.resolve(_(void 0,!0));if(this[v].destroyed)return new Promise((function(r,n){e.nextTick((function(){t[f]?n(t[f]):r(_(void 0,!0))}))}));var n,o=this[y];if(o)n=new Promise(function(t,e){return function(r,n){t.then((function(){e[d]?r(_(void 0,!0)):e[m](r,n)}),n)}}(o,this));else{var data=this[v].read();if(null!==data)return Promise.resolve(_(data,!1));n=new Promise(this[m])}return this[y]=n,n}},Symbol.asyncIterator,(function(){return this})),o(n,"return",(function(){var t=this;return new Promise((function(e,r){t[v].destroy(null,(function(t){t?r(t):e(_(void 0,!0))}))}))})),n),E);t.exports=function(t){var e,r=Object.create(k,(o(e={},v,{value:t,writable:!0}),o(e,h,{value:null,writable:!0}),o(e,l,{value:null,writable:!0}),o(e,f,{value:null,writable:!0}),o(e,d,{value:t._readableState.endEmitted,writable:!0}),o(e,m,{value:function(t,e){var data=r[v].read();data?(r[y]=null,r[h]=null,r[l]=null,t(_(data,!1))):(r[h]=t,r[l]=e)},writable:!0}),e));return r[y]=null,c(t,(function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=r[l];return null!==e&&(r[y]=null,r[h]=null,r[l]=null,e(t)),void(r[f]=t)}var n=r[h];null!==n&&(r[y]=null,r[h]=null,r[l]=null,n(_(void 0,!0))),r[d]=!0})),t.on("readable",S.bind(null,r)),r}}).call(this,r(128))},665:function(t,e){t.exports=function(){throw new Error("Readable.from is not available in the browser")}},666:function(t,e,r){"use strict";t.exports=o;var n=r(607);function o(t){if(!(this instanceof o))return new o(t);n.call(this,t)}r(535)(o,n),o.prototype._transform=function(t,e,r){r(null,t)}},667:function(t,e,r){"use strict";var n;var o=r(554).codes,c=o.ERR_MISSING_ARGS,h=o.ERR_STREAM_DESTROYED;function l(t){if(t)throw t}function f(t){t()}function d(t,e){return t.pipe(e)}t.exports=function(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];var y,m=function(t){return t.length?"function"!=typeof t[t.length-1]?l:t.pop():l}(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new c("streams");var v=e.map((function(t,i){var o=i<e.length-1;return function(t,e,o,c){c=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(c);var l=!1;t.on("close",(function(){l=!0})),void 0===n&&(n=r(580)),n(t,{readable:e,writable:o},(function(t){if(t)return c(t);l=!0,c()}));var f=!1;return function(e){if(!l&&!f)return f=!0,function(t){return t.setHeader&&"function"==typeof t.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void c(e||new h("pipe"))}}(t,o,i>0,(function(t){y||(y=t),t&&v.forEach(f),o||(v.forEach(f),m(y))}))}));return e.reduce(d)}},668:function(t,e,r){"use strict";const{Buffer:n}=r(534),symbol=Symbol.for("BufferList");function o(t){if(!(this instanceof o))return new o(t);o._init.call(this,t)}o._init=function(t){Object.defineProperty(this,symbol,{value:!0}),this._bufs=[],this.length=0,t&&this.append(t)},o.prototype._new=function(t){return new o(t)},o.prototype._offset=function(t){if(0===t)return[0,0];let e=0;for(let i=0;i<this._bufs.length;i++){const r=e+this._bufs[i].length;if(t<r||i===this._bufs.length-1)return[i,t-e];e=r}},o.prototype._reverseOffset=function(t){const e=t[0];let r=t[1];for(let i=0;i<e;i++)r+=this._bufs[i].length;return r},o.prototype.get=function(t){if(t>this.length||t<0)return;const e=this._offset(t);return this._bufs[e[0]][e[1]]},o.prototype.slice=function(t,e){return"number"==typeof t&&t<0&&(t+=this.length),"number"==typeof e&&e<0&&(e+=this.length),this.copy(null,0,t,e)},o.prototype.copy=function(t,e,r,o){if(("number"!=typeof r||r<0)&&(r=0),("number"!=typeof o||o>this.length)&&(o=this.length),r>=this.length)return t||n.alloc(0);if(o<=0)return t||n.alloc(0);const c=!!t,h=this._offset(r),l=o-r;let f=l,d=c&&e||0,y=h[1];if(0===r&&o===this.length){if(!c)return 1===this._bufs.length?this._bufs[0]:n.concat(this._bufs,this.length);for(let i=0;i<this._bufs.length;i++)this._bufs[i].copy(t,d),d+=this._bufs[i].length;return t}if(f<=this._bufs[h[0]].length-y)return c?this._bufs[h[0]].copy(t,e,y,y+f):this._bufs[h[0]].slice(y,y+f);c||(t=n.allocUnsafe(l));for(let i=h[0];i<this._bufs.length;i++){const e=this._bufs[i].length-y;if(!(f>e)){this._bufs[i].copy(t,d,y,y+f),d+=e;break}this._bufs[i].copy(t,d,y),d+=e,f-=e,y&&(y=0)}return t.length>d?t.slice(0,d):t},o.prototype.shallowSlice=function(t,e){if(t=t||0,e="number"!=typeof e?this.length:e,t<0&&(t+=this.length),e<0&&(e+=this.length),t===e)return this._new();const r=this._offset(t),n=this._offset(e),o=this._bufs.slice(r[0],n[0]+1);return 0===n[1]?o.pop():o[o.length-1]=o[o.length-1].slice(0,n[1]),0!==r[1]&&(o[0]=o[0].slice(r[1])),this._new(o)},o.prototype.toString=function(t,e,r){return this.slice(e,r).toString(t)},o.prototype.consume=function(t){if(t=Math.trunc(t),Number.isNaN(t)||t<=0)return this;for(;this._bufs.length;){if(!(t>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(t),this.length-=t;break}t-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},o.prototype.duplicate=function(){const t=this._new();for(let i=0;i<this._bufs.length;i++)t.append(this._bufs[i]);return t},o.prototype.append=function(t){if(null==t)return this;if(t.buffer)this._appendBuffer(n.from(t.buffer,t.byteOffset,t.byteLength));else if(Array.isArray(t))for(let i=0;i<t.length;i++)this.append(t[i]);else if(this._isBufferList(t))for(let i=0;i<t._bufs.length;i++)this.append(t._bufs[i]);else"number"==typeof t&&(t=t.toString()),this._appendBuffer(n.from(t));return this},o.prototype._appendBuffer=function(t){this._bufs.push(t),this.length+=t.length},o.prototype.indexOf=function(t,e,r){if(void 0===r&&"string"==typeof e&&(r=e,e=void 0),"function"==typeof t||Array.isArray(t))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof t?t=n.from([t]):"string"==typeof t?t=n.from(t,r):this._isBufferList(t)?t=t.slice():Array.isArray(t.buffer)?t=n.from(t.buffer,t.byteOffset,t.byteLength):n.isBuffer(t)||(t=n.from(t)),e=Number(e||0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),0===t.length)return e>this.length?this.length:e;const o=this._offset(e);let c=o[0],h=o[1];for(;c<this._bufs.length;c++){const e=this._bufs[c];for(;h<e.length;){if(e.length-h>=t.length){const r=e.indexOf(t,h);if(-1!==r)return this._reverseOffset([c,r]);h=e.length-t.length+1}else{const e=this._reverseOffset([c,h]);if(this._match(e,t))return e;h++}}h=0}return-1},o.prototype._match=function(t,e){if(this.length-t<e.length)return!1;for(let r=0;r<e.length;r++)if(this.get(t+r)!==e[r])return!1;return!0},function(){const t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const e in t)!function(e){o.prototype[e]=null===t[e]?function(t,r){return this.slice(t,t+r)[e](0,r)}:function(r=0){return this.slice(r,r+t[e])[e](0)}}(e)}(),o.prototype._isBufferList=function(b){return b instanceof o||o.isBufferList(b)},o.isBufferList=function(b){return null!=b&&b[symbol]},t.exports=o},669:function(t,e){t.exports=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}}},670:function(t,e,r){(function(e){const n=r(609),o=r(546);class c extends o{constructor(){super(),this._array=new Array(20),this._i=0}write(t){return this._array[this._i++]=t,!0}concat(){let t=0;const r=new Array(this._array.length),n=this._array;let i,o=0;for(i=0;i<n.length&&void 0!==n[i];i++)"string"!=typeof n[i]?r[i]=n[i].length:r[i]=e.byteLength(n[i]),t+=r[i];const c=e.allocUnsafe(t);for(i=0;i<n.length&&void 0!==n[i];i++)"string"!=typeof n[i]?(n[i].copy(c,o),o+=r[i]):(c.write(n[i],o),o+=r[i]);return c}}t.exports=function(t,e){const r=new c;return n(t,r,e),r.concat()}}).call(this,r(534).Buffer)},671:function(t,e,r){(function(e){const r=65536,n={},o=e.isBuffer(e.from([1,2]).subarray(0,1));function c(i){const t=e.allocUnsafe(2);return t.writeUInt8(i>>8,0),t.writeUInt8(255&i,1),t}t.exports={cache:n,generateCache:function(){for(let i=0;i<r;i++)n[i]=c(i)},generateNumber:c,genBufVariableByteInt:function(t){let r=0,n=0;const c=e.allocUnsafe(4);do{r=t%128|0,(t=t/128|0)>0&&(r|=128),c.writeUInt8(r,n++)}while(t>0&&n<4);return t>0&&(n=0),o?c.subarray(0,n):c.slice(0,n)},generate4ByteBuffer:function(t){const r=e.allocUnsafe(4);return r.writeUInt32BE(t,0),r}}}).call(this,r(534).Buffer)},672:function(t,e,r){"use strict";(function(e){void 0===e||!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,r,n,o){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var c,i,h=arguments.length;switch(h){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick((function(){t.call(null,r)}));case 3:return e.nextTick((function(){t.call(null,r,n)}));case 4:return e.nextTick((function(){t.call(null,r,n,o)}));default:for(c=new Array(h-1),i=0;i<c.length;)c[i++]=arguments[i];return e.nextTick((function(){t.apply(null,c)}))}}}:t.exports=e}).call(this,r(128))},673:function(t,e,r){"use strict";function n(){if(!(this instanceof n))return new n;this.nextId=Math.max(1,Math.floor(65535*Math.random()))}n.prototype.allocate=function(){const t=this.nextId++;return 65536===this.nextId&&(this.nextId=1),t},n.prototype.getLastAllocated=function(){return 1===this.nextId?65535:this.nextId-1},n.prototype.register=function(t){return!0},n.prototype.deallocate=function(t){},n.prototype.clear=function(){},t.exports=n},674:function(t,e,r){"use strict";function n(t,e,r){var n=this;this._callback=t,this._args=r,this._interval=setInterval(t,e,this._args),this.reschedule=function(t){t||(t=n._interval),n._interval&&clearInterval(n._interval),n._interval=setInterval(n._callback,t,n._args)},this.clear=function(){n._interval&&(clearInterval(n._interval),n._interval=void 0)},this.destroy=function(){n._interval&&clearInterval(n._interval),n._callback=void 0,n._interval=void 0,n._args=void 0}}t.exports=function(){if("function"!=typeof arguments[0])throw new Error("callback needed");if("number"!=typeof arguments[1])throw new Error("interval needed");var t;if(arguments.length>0){t=new Array(arguments.length-2);for(var i=0;i<t.length;i++)t[i]=arguments[i+2]}return new n(arguments[0],arguments[1],t)}},675:function(t,e,r){"use strict";t.exports=r(676)()},676:function(t,e,r){"use strict";(function(e){function r(t){return t instanceof e?e.from(t):new t.constructor(t.buffer.slice(),t.byteOffset,t.length)}t.exports=function(t){return(t=t||{}).circles?function(t){var e=[],n=[];return t.proto?function t(c){if("object"!=typeof c||null===c)return c;if(c instanceof Date)return new Date(c);if(Array.isArray(c))return o(c,t);if(c instanceof Map)return new Map(o(Array.from(c),t));if(c instanceof Set)return new Set(o(Array.from(c),t));var h={};for(var l in e.push(c),n.push(h),c){var f=c[l];if("object"!=typeof f||null===f)h[l]=f;else if(f instanceof Date)h[l]=new Date(f);else if(f instanceof Map)h[l]=new Map(o(Array.from(f),t));else if(f instanceof Set)h[l]=new Set(o(Array.from(f),t));else if(ArrayBuffer.isView(f))h[l]=r(f);else{var i=e.indexOf(f);h[l]=-1!==i?n[i]:t(f)}}return e.pop(),n.pop(),h}:function t(c){if("object"!=typeof c||null===c)return c;if(c instanceof Date)return new Date(c);if(Array.isArray(c))return o(c,t);if(c instanceof Map)return new Map(o(Array.from(c),t));if(c instanceof Set)return new Set(o(Array.from(c),t));var h={};for(var l in e.push(c),n.push(h),c)if(!1!==Object.hasOwnProperty.call(c,l)){var f=c[l];if("object"!=typeof f||null===f)h[l]=f;else if(f instanceof Date)h[l]=new Date(f);else if(f instanceof Map)h[l]=new Map(o(Array.from(f),t));else if(f instanceof Set)h[l]=new Set(o(Array.from(f),t));else if(ArrayBuffer.isView(f))h[l]=r(f);else{var i=e.indexOf(f);h[l]=-1!==i?n[i]:t(f)}}return e.pop(),n.pop(),h};function o(a,t){for(var o=Object.keys(a),c=new Array(o.length),i=0;i<o.length;i++){var h=o[i],l=a[h];if("object"!=typeof l||null===l)c[h]=l;else if(l instanceof Date)c[h]=new Date(l);else if(ArrayBuffer.isView(l))c[h]=r(l);else{var f=e.indexOf(l);c[h]=-1!==f?n[f]:t(l)}}return c}}(t):t.proto?function t(n){if("object"!=typeof n||null===n)return n;if(n instanceof Date)return new Date(n);if(Array.isArray(n))return e(n,t);if(n instanceof Map)return new Map(e(Array.from(n),t));if(n instanceof Set)return new Set(e(Array.from(n),t));var o={};for(var c in n){var h=n[c];"object"!=typeof h||null===h?o[c]=h:h instanceof Date?o[c]=new Date(h):h instanceof Map?o[c]=new Map(e(Array.from(h),t)):h instanceof Set?o[c]=new Set(e(Array.from(h),t)):ArrayBuffer.isView(h)?o[c]=r(h):o[c]=t(h)}return o}:function t(n){if("object"!=typeof n||null===n)return n;if(n instanceof Date)return new Date(n);if(Array.isArray(n))return e(n,t);if(n instanceof Map)return new Map(e(Array.from(n),t));if(n instanceof Set)return new Set(e(Array.from(n),t));var o={};for(var c in n)if(!1!==Object.hasOwnProperty.call(n,c)){var h=n[c];"object"!=typeof h||null===h?o[c]=h:h instanceof Date?o[c]=new Date(h):h instanceof Map?o[c]=new Map(e(Array.from(h),t)):h instanceof Set?o[c]=new Set(e(Array.from(h),t)):ArrayBuffer.isView(h)?o[c]=r(h):o[c]=t(h)}return o};function e(a,t){for(var e=Object.keys(a),n=new Array(e.length),i=0;i<e.length;i++){var o=e[i],c=a[o];"object"!=typeof c||null===c?n[o]=c:c instanceof Date?n[o]=new Date(c):ArrayBuffer.isView(c)?n[o]=r(c):n[o]=t(c)}return n}}}).call(this,r(534).Buffer)},677:function(t,e,r){"use strict";function n(t){const e=t.split("/");for(let i=0;i<e.length;i++)if("+"!==e[i]){if("#"===e[i])return i===e.length-1;if(-1!==e[i].indexOf("+")||-1!==e[i].indexOf("#"))return!1}return!0}t.exports={validateTopics:function(t){if(0===t.length)return"empty_topic_list";for(let i=0;i<t.length;i++)if(!n(t[i]))return t[i];return null}}},678:function(t,e,r){"use strict";var n=r(679),o=r(681);function c(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=M,e.resolve=function(source,t){return M(source,!1,!0).resolve(t)},e.resolveObject=function(source,t){return source?M(source,!1,!0).resolveObject(t):t},e.format=function(t){o.isString(t)&&(t=M(t));return t instanceof c?t.format():c.prototype.format.call(t)},e.Url=c;var h=/^([a-z0-9.+-]+:)/i,l=/:[0-9]*$/,f=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,d=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),y=["'"].concat(d),m=["%","/","?",";","#"].concat(y),v=["/","?","#"],_=/^[+a-z0-9A-Z_-]{0,63}$/,w=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,S={javascript:!0,"javascript:":!0},E={javascript:!0,"javascript:":!0},k={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},R=r(682);function M(t,e,r){if(t&&o.isObject(t)&&t instanceof c)return t;var u=new c;return u.parse(t,e,r),u}c.prototype.parse=function(t,e,r){if(!o.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var c=t.indexOf("?"),l=-1!==c&&c<t.indexOf("#")?"?":"#",d=t.split(l);d[0]=d[0].replace(/\\/g,"/");var M=t=d.join(l);if(M=M.trim(),!r&&1===t.split("#").length){var T=f.exec(M);if(T)return this.path=M,this.href=M,this.pathname=T[1],T[2]?(this.search=T[2],this.query=e?R.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var A=h.exec(M);if(A){var O=(A=A[0]).toLowerCase();this.protocol=O,M=M.substr(A.length)}if(r||A||M.match(/^\/\/[^@\/]+@[^@\/]+/)){var P="//"===M.substr(0,2);!P||A&&E[A]||(M=M.substr(2),this.slashes=!0)}if(!E[A]&&(P||A&&!k[A])){for(var x,I,C=-1,i=0;i<v.length;i++){-1!==(L=M.indexOf(v[i]))&&(-1===C||L<C)&&(C=L)}-1!==(I=-1===C?M.lastIndexOf("@"):M.lastIndexOf("@",C))&&(x=M.slice(0,I),M=M.slice(I+1),this.auth=decodeURIComponent(x)),C=-1;for(i=0;i<m.length;i++){var L;-1!==(L=M.indexOf(m[i]))&&(-1===C||L<C)&&(C=L)}-1===C&&(C=M.length),this.host=M.slice(0,C),M=M.slice(C),this.parseHost(),this.hostname=this.hostname||"";var j="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!j)for(var B=this.hostname.split(/\./),N=(i=0,B.length);i<N;i++){var D=B[i];if(D&&!D.match(_)){for(var U="",$=0,F=D.length;$<F;$++)D.charCodeAt($)>127?U+="x":U+=D[$];if(!U.match(_)){var H=B.slice(0,i),W=B.slice(i+1),K=D.match(w);K&&(H.push(K[1]),W.unshift(K[2])),W.length&&(M="/"+W.join(".")+M),this.hostname=H.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),j||(this.hostname=n.toASCII(this.hostname));var p=this.port?":"+this.port:"",V=this.hostname||"";this.host=V+p,this.href+=this.host,j&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==M[0]&&(M="/"+M))}if(!S[O])for(i=0,N=y.length;i<N;i++){var Y=y[i];if(-1!==M.indexOf(Y)){var z=encodeURIComponent(Y);z===Y&&(z=escape(Y)),M=M.split(Y).join(z)}}var G=M.indexOf("#");-1!==G&&(this.hash=M.substr(G),M=M.slice(0,G));var Q=M.indexOf("?");if(-1!==Q?(this.search=M.substr(Q),this.query=M.substr(Q+1),e&&(this.query=R.parse(this.query)),M=M.slice(0,Q)):e&&(this.search="",this.query={}),M&&(this.pathname=M),k[O]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){p=this.pathname||"";var s=this.search||"";this.path=p+s}return this.href=this.format(),this},c.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",c=!1,h="";this.host?c=t+this.host:this.hostname&&(c=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(c+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(h=R.stringify(this.query));var l=this.search||h&&"?"+h||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||k[e])&&!1!==c?(c="//"+(c||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):c||(c=""),n&&"#"!==n.charAt(0)&&(n="#"+n),l&&"?"!==l.charAt(0)&&(l="?"+l),e+c+(r=r.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(l=l.replace("#","%23"))+n},c.prototype.resolve=function(t){return this.resolveObject(M(t,!1,!0)).format()},c.prototype.resolveObject=function(t){if(o.isString(t)){var e=new c;e.parse(t,!1,!0),t=e}for(var r=new c,n=Object.keys(this),h=0;h<n.length;h++){var l=n[h];r[l]=this[l]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var f=Object.keys(t),d=0;d<f.length;d++){var y=f[d];"protocol"!==y&&(r[y]=t[y])}return k[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!k[t.protocol]){for(var m=Object.keys(t),v=0;v<m.length;v++){var _=m[v];r[_]=t[_]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||E[t.protocol])r.pathname=t.pathname;else{for(var w=(t.pathname||"").split("/");w.length&&!(t.host=w.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==w[0]&&w.unshift(""),w.length<2&&w.unshift(""),r.pathname=w.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var p=r.pathname||"",s=r.search||"";r.path=p+s}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var S=r.pathname&&"/"===r.pathname.charAt(0),R=t.host||t.pathname&&"/"===t.pathname.charAt(0),M=R||S||r.host&&t.pathname,T=M,A=r.pathname&&r.pathname.split("/")||[],O=(w=t.pathname&&t.pathname.split("/")||[],r.protocol&&!k[r.protocol]);if(O&&(r.hostname="",r.port=null,r.host&&(""===A[0]?A[0]=r.host:A.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===w[0]?w[0]=t.host:w.unshift(t.host)),t.host=null),M=M&&(""===w[0]||""===A[0])),R)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,A=w;else if(w.length)A||(A=[]),A.pop(),A=A.concat(w),r.search=t.search,r.query=t.query;else if(!o.isNullOrUndefined(t.search)){if(O)r.hostname=r.host=A.shift(),(C=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=C.shift(),r.host=r.hostname=C.shift());return r.search=t.search,r.query=t.query,o.isNull(r.pathname)&&o.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!A.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var P=A.slice(-1)[0],x=(r.host||t.host||A.length>1)&&("."===P||".."===P)||""===P,I=0,i=A.length;i>=0;i--)"."===(P=A[i])?A.splice(i,1):".."===P?(A.splice(i,1),I++):I&&(A.splice(i,1),I--);if(!M&&!T)for(;I--;I)A.unshift("..");!M||""===A[0]||A[0]&&"/"===A[0].charAt(0)||A.unshift(""),x&&"/"!==A.join("/").substr(-1)&&A.push("");var C,L=""===A[0]||A[0]&&"/"===A[0].charAt(0);O&&(r.hostname=r.host=L?"":A.length?A.shift():"",(C=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=C.shift(),r.host=r.hostname=C.shift()));return(M=M||r.host&&A.length)&&!L&&A.unshift(""),A.length?r.pathname=A.join("/"):(r.pathname=null,r.path=null),o.isNull(r.pathname)&&o.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},c.prototype.parseHost=function(){var t=this.host,e=l.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},679:function(t,e,r){(function(t,n){var o;!function(c){e&&e.nodeType,t&&t.nodeType;var h="object"==typeof n&&n;h.global!==h&&h.window!==h&&h.self;var l,f=2147483647,base=36,d=1,y=26,m=38,v=700,_=72,w=128,S="-",E=/^xn--/,k=/[^\x20-\x7E]/,R=/[\x2E\u3002\uFF0E\uFF61]/g,M={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},T=base-d,A=Math.floor,O=String.fromCharCode;function P(t){throw new RangeError(M[t])}function map(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function x(t,e){var r=t.split("@"),n="";return r.length>1&&(n=r[0]+"@",t=r[1]),n+map((t=t.replace(R,".")).split("."),e).join(".")}function I(t){for(var e,r,output=[],n=0,o=t.length;n<o;)(e=t.charCodeAt(n++))>=55296&&e<=56319&&n<o?56320==(64512&(r=t.charCodeAt(n++)))?output.push(((1023&e)<<10)+(1023&r)+65536):(output.push(e),n--):output.push(e);return output}function C(t){return map(t,(function(t){var output="";return t>65535&&(output+=O((t-=65536)>>>10&1023|55296),t=56320|1023&t),output+=O(t)})).join("")}function L(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function j(t,e,r){var n=0;for(t=r?A(t/v):t>>1,t+=A(t/e);t>T*y>>1;n+=base)t=A(t/T);return A(n+(T+1)*t/(t+m))}function B(input){var t,e,r,n,o,c,h,l,m,v,E,output=[],k=input.length,i=0,R=w,M=_;for((e=input.lastIndexOf(S))<0&&(e=0),r=0;r<e;++r)input.charCodeAt(r)>=128&&P("not-basic"),output.push(input.charCodeAt(r));for(n=e>0?e+1:0;n<k;){for(o=i,c=1,h=base;n>=k&&P("invalid-input"),((l=(E=input.charCodeAt(n++))-48<10?E-22:E-65<26?E-65:E-97<26?E-97:base)>=base||l>A((f-i)/c))&&P("overflow"),i+=l*c,!(l<(m=h<=M?d:h>=M+y?y:h-M));h+=base)c>A(f/(v=base-m))&&P("overflow"),c*=v;M=j(i-o,t=output.length+1,0==o),A(i/t)>f-R&&P("overflow"),R+=A(i/t),i%=t,output.splice(i++,0,R)}return C(output)}function N(input){var t,e,r,n,o,c,h,q,l,m,v,E,k,R,M,output=[];for(E=(input=I(input)).length,t=w,e=0,o=_,c=0;c<E;++c)(v=input[c])<128&&output.push(O(v));for(r=n=output.length,n&&output.push(S);r<E;){for(h=f,c=0;c<E;++c)(v=input[c])>=t&&v<h&&(h=v);for(h-t>A((f-e)/(k=r+1))&&P("overflow"),e+=(h-t)*k,t=h,c=0;c<E;++c)if((v=input[c])<t&&++e>f&&P("overflow"),v==t){for(q=e,l=base;!(q<(m=l<=o?d:l>=o+y?y:l-o));l+=base)M=q-m,R=base-m,output.push(O(L(m+M%R,0))),q=A(M/R);output.push(O(L(q,0))),o=j(e,k,r==n),e=0,++r}++e,++t}return output.join("")}l={version:"1.4.1",ucs2:{decode:I,encode:C},decode:B,encode:N,toASCII:function(input){return x(input,(function(t){return k.test(t)?"xn--"+N(t):t}))},toUnicode:function(input){return x(input,(function(t){return E.test(t)?B(t.slice(4).toLowerCase()):t}))}},void 0===(o=function(){return l}.call(e,r,e,t))||(t.exports=o)}()}).call(this,r(680)(t),r(77))},680:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},681:function(t,e,r){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},682:function(t,e,r){"use strict";e.decode=e.parse=r(683),e.encode=e.stringify=r(684)},683:function(t,e,r){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,c){e=e||"&",r=r||"=";var h={};if("string"!=typeof t||0===t.length)return h;var l=/\+/g;t=t.split(e);var f=1e3;c&&"number"==typeof c.maxKeys&&(f=c.maxKeys);var d=t.length;f>0&&d>f&&(d=f);for(var i=0;i<d;++i){var y,m,v,_,w=t[i].replace(l,"%20"),S=w.indexOf(r);S>=0?(y=w.substr(0,S),m=w.substr(S+1)):(y=w,m=""),v=decodeURIComponent(y),_=decodeURIComponent(m),n(h,v)?o(h[v])?h[v].push(_):h[v]=[h[v],_]:h[v]=_}return h};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},684:function(t,e,r){"use strict";var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,h){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?map(c(t),(function(c){var h=encodeURIComponent(n(c))+r;return o(t[c])?map(t[c],(function(t){return h+encodeURIComponent(n(t))})).join(e):h+encodeURIComponent(n(t[c]))})).join(e):h?encodeURIComponent(n(h))+r+encodeURIComponent(n(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function map(t,e){if(t.map)return t.map(e);for(var r=[],i=0;i<t.length;i++)r.push(e(t[i],i));return r}var c=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},685:function(t,e,r){(e=t.exports=r(612)).Stream=e,e.Readable=e,e.Writable=r(616),e.Duplex=r(557),e.Transform=r(617),e.PassThrough=r(689),e.finished=r(583),e.pipeline=r(690)},686:function(t,e,r){"use strict";function n(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function o(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?n(Object(source),!0).forEach((function(e){c(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):n(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function c(t,e,r){return(e=l(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l(r.key),r)}}function l(t){var e=function(input,t){if("object"!=typeof input||null===input)return input;var e=input[Symbol.toPrimitive];if(void 0!==e){var r=e.call(input,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(input)}(t,"string");return"symbol"==typeof e?e:String(e)}var f=r(534).Buffer,d=r(573).inspect,y=d&&d.custom||"inspect";t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}var e,r,n;return e=t,(r=[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(s){if(0===this.length)return"";for(var p=this.head,t=""+p.data;p=p.next;)t+=s+p.data;return t}},{key:"concat",value:function(t){if(0===this.length)return f.alloc(0);for(var e,r,n,o=f.allocUnsafe(t>>>0),p=this.head,i=0;p;)e=p.data,r=o,n=i,f.prototype.copy.call(e,r,n),i+=p.data.length,p=p.next;return o}},{key:"consume",value:function(t,e){var r;return t<this.head.data.length?(r=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):r=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var p=this.head,e=1,r=p.data;for(t-=r.length;p=p.next;){var n=p.data,o=t>n.length?n.length:t;if(o===n.length?r+=n:r+=n.slice(0,t),0==(t-=o)){o===n.length?(++e,p.next?this.head=p.next:this.head=this.tail=null):(this.head=p,p.data=n.slice(o));break}++e}return this.length-=e,r}},{key:"_getBuffer",value:function(t){var e=f.allocUnsafe(t),p=this.head,r=1;for(p.data.copy(e),t-=p.data.length;p=p.next;){var n=p.data,o=t>n.length?n.length:t;if(n.copy(e,e.length-t,0,o),0==(t-=o)){o===n.length?(++r,p.next?this.head=p.next:this.head=this.tail=null):(this.head=p,p.data=n.slice(o));break}++r}return this.length-=r,e}},{key:y,value:function(t,e){return d(this,o(o({},e),{},{depth:0,customInspect:!1}))}}])&&h(e.prototype,r),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}()},687:function(t,e,r){"use strict";(function(e){var n;function o(t,e,r){return(e=function(t){var e=function(input,t){if("object"!=typeof input||null===input)return input;var e=input[Symbol.toPrimitive];if(void 0!==e){var r=e.call(input,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(input)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var c=r(583),h=Symbol("lastResolve"),l=Symbol("lastReject"),f=Symbol("error"),d=Symbol("ended"),y=Symbol("lastPromise"),m=Symbol("handlePromise"),v=Symbol("stream");function _(t,e){return{value:t,done:e}}function w(t){var e=t[h];if(null!==e){var data=t[v].read();null!==data&&(t[y]=null,t[h]=null,t[l]=null,e(_(data,!1)))}}function S(t){e.nextTick(w,t)}var E=Object.getPrototypeOf((function(){})),k=Object.setPrototypeOf((o(n={get stream(){return this[v]},next:function(){var t=this,r=this[f];if(null!==r)return Promise.reject(r);if(this[d])return Promise.resolve(_(void 0,!0));if(this[v].destroyed)return new Promise((function(r,n){e.nextTick((function(){t[f]?n(t[f]):r(_(void 0,!0))}))}));var n,o=this[y];if(o)n=new Promise(function(t,e){return function(r,n){t.then((function(){e[d]?r(_(void 0,!0)):e[m](r,n)}),n)}}(o,this));else{var data=this[v].read();if(null!==data)return Promise.resolve(_(data,!1));n=new Promise(this[m])}return this[y]=n,n}},Symbol.asyncIterator,(function(){return this})),o(n,"return",(function(){var t=this;return new Promise((function(e,r){t[v].destroy(null,(function(t){t?r(t):e(_(void 0,!0))}))}))})),n),E);t.exports=function(t){var e,r=Object.create(k,(o(e={},v,{value:t,writable:!0}),o(e,h,{value:null,writable:!0}),o(e,l,{value:null,writable:!0}),o(e,f,{value:null,writable:!0}),o(e,d,{value:t._readableState.endEmitted,writable:!0}),o(e,m,{value:function(t,e){var data=r[v].read();data?(r[y]=null,r[h]=null,r[l]=null,t(_(data,!1))):(r[h]=t,r[l]=e)},writable:!0}),e));return r[y]=null,c(t,(function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=r[l];return null!==e&&(r[y]=null,r[h]=null,r[l]=null,e(t)),void(r[f]=t)}var n=r[h];null!==n&&(r[y]=null,r[h]=null,r[l]=null,n(_(void 0,!0))),r[d]=!0})),t.on("readable",S.bind(null,r)),r}}).call(this,r(128))},688:function(t,e){t.exports=function(){throw new Error("Readable.from is not available in the browser")}},689:function(t,e,r){"use strict";t.exports=o;var n=r(617);function o(t){if(!(this instanceof o))return new o(t);n.call(this,t)}r(535)(o,n),o.prototype._transform=function(t,e,r){r(null,t)}},690:function(t,e,r){"use strict";var n;var o=r(556).codes,c=o.ERR_MISSING_ARGS,h=o.ERR_STREAM_DESTROYED;function l(t){if(t)throw t}function f(t){t()}function d(t,e){return t.pipe(e)}t.exports=function(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];var y,m=function(t){return t.length?"function"!=typeof t[t.length-1]?l:t.pop():l}(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new c("streams");var v=e.map((function(t,i){var o=i<e.length-1;return function(t,e,o,c){c=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(c);var l=!1;t.on("close",(function(){l=!0})),void 0===n&&(n=r(583)),n(t,{readable:e,writable:o},(function(t){if(t)return c(t);l=!0,c()}));var f=!1;return function(e){if(!l&&!f)return f=!0,function(t){return t.setHeader&&"function"==typeof t.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void c(e||new h("pipe"))}}(t,o,i>0,(function(t){y||(y=t),t&&v.forEach(f),o||(v.forEach(f),m(y))}))}));return e.reduce(d)}},691:function(t,e,r){(function(e){var n=r(692),o=function(){},c=function(t,r,h){if("function"==typeof r)return c(t,null,r);r||(r={}),h=n(h||o);var l=t._writableState,f=t._readableState,d=r.readable||!1!==r.readable&&t.readable,y=r.writable||!1!==r.writable&&t.writable,m=!1,v=function(){t.writable||_()},_=function(){y=!1,d||h.call(t)},w=function(){d=!1,y||h.call(t)},S=function(e){h.call(t,e?new Error("exited with error code: "+e):null)},E=function(e){h.call(t,e)},k=function(){e.nextTick(R)},R=function(){if(!m)return(!d||f&&f.ended&&!f.destroyed)&&(!y||l&&l.ended&&!l.destroyed)?void 0:h.call(t,new Error("premature close"))},M=function(){t.req.on("finish",_)};return!function(t){return t.setHeader&&"function"==typeof t.abort}(t)?y&&!l&&(t.on("end",v),t.on("close",v)):(t.on("complete",_),t.on("abort",k),t.req?M():t.on("request",M)),function(t){return t.stdio&&Array.isArray(t.stdio)&&3===t.stdio.length}(t)&&t.on("exit",S),t.on("end",w),t.on("finish",_),!1!==r.error&&t.on("error",E),t.on("close",k),function(){m=!0,t.removeListener("complete",_),t.removeListener("abort",k),t.removeListener("request",M),t.req&&t.req.removeListener("finish",_),t.removeListener("end",v),t.removeListener("close",v),t.removeListener("finish",_),t.removeListener("exit",S),t.removeListener("end",w),t.removeListener("error",E),t.removeListener("close",k)}};t.exports=c}).call(this,r(128))},692:function(t,e,r){var n=r(693);function o(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function c(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}t.exports=n(o),t.exports.strict=n(c),o.proto=o((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return o(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return c(this)},configurable:!0})}))},693:function(t,e){t.exports=function t(e,r){if(e&&r)return t(e)(r);if("function"!=typeof e)throw new TypeError("need wrapper function");return Object.keys(e).forEach((function(t){n[t]=e[t]})),n;function n(){for(var t=new Array(arguments.length),i=0;i<t.length;i++)t[i]=arguments[i];var r=e.apply(this,t),n=t[t.length-1];return"function"==typeof r&&r!==n&&Object.keys(n).forEach((function(t){r[t]=n[t]})),r}}},694:function(t,e){t.exports=function(t){var e=t._readableState;return e?e.objectMode||"number"==typeof t._duplexState?t.read():t.read(function(t){if(t.buffer.length)return t.buffer.head?t.buffer.head.data.length:t.buffer[0].length;return t.length}(e)):null}},695:function(t,e,r){"use strict";t.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},729:function(t,e,r){"use strict";r.r(e),r.d(e,"Stack",(function(){return d})),r.d(e,"Queue",(function(){return m})),r.d(e,"PriorityQueue",(function(){return S})),r.d(e,"Vector",(function(){return j})),r.d(e,"LinkList",(function(){return U})),r.d(e,"Deque",(function(){return V})),r.d(e,"OrderedSet",(function(){return at})),r.d(e,"OrderedMap",(function(){return ft})),r.d(e,"HashSet",(function(){return wt})),r.d(e,"HashMap",(function(){return Rt}));var n,o=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),c=function(){function t(t){void 0===t&&(t=0),this.iteratorType=t}return t.prototype.equals=function(t){return this.o===t.o},t}(),h=function(){function t(){this.M=0}return Object.defineProperty(t.prototype,"length",{get:function(){return this.M},enumerable:!1,configurable:!0}),t.prototype.size=function(){return this.M},t.prototype.empty=function(){return 0===this.M},t}(),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(h),f=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),d=function(t){function e(e){void 0===e&&(e=[]);var i=t.call(this)||this;i.nt=[];var r=i;return e.forEach((function(t){r.push(t)})),i}return f(e,t),e.prototype.clear=function(){this.M=0,this.nt=[]},e.prototype.push=function(t){return this.nt.push(t),this.M+=1,this.M},e.prototype.pop=function(){if(0!==this.M)return this.M-=1,this.nt.pop()},e.prototype.top=function(){return this.nt[this.M-1]},e}(h),y=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])},t(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),m=function(t){function e(i){void 0===i&&(i=[]);var e=t.call(this)||this;e.A=0,e.tt=[];var r=e;return i.forEach((function(t){r.push(t)})),e}return y(e,t),e.prototype.clear=function(){this.tt=[],this.M=this.A=0},e.prototype.push=function(t){var i=this.tt.length;if(this.A/i>.5&&this.A+this.M>=i&&i>4096){for(var e=this.M,r=0;r<e;++r)this.tt[r]=this.tt[this.A+r];this.A=0,this.tt[this.M]=t}else this.tt[this.A+this.M]=t;return++this.M},e.prototype.pop=function(){if(0!==this.M){var t=this.tt[this.A++];return this.M-=1,t}},e.prototype.front=function(){if(0!==this.M)return this.tt[this.A]},e}(h),v=function(){var t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,t){i.__proto__=t}||function(i,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(i[e]=t[e])},t(i,e)};return function(i,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),_=function(i,t){var e="function"==typeof Symbol&&i[Symbol.iterator];if(!e)return i;var r,s,n=e.call(i),u=[];try{for(;(void 0===t||t-- >0)&&!(r=n.next()).done;)u.push(r.value)}catch(i){s={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return u},w=function(i,t,e){if(e||2===arguments.length)for(var u,r=0,n=t.length;r<n;r++)!u&&r in t||(u||(u=Array.prototype.slice.call(t,0,r)),u[r]=t[r]);return i.concat(u||Array.prototype.slice.call(t))},S=function(i){function t(t,e,r){void 0===t&&(t=[]),void 0===e&&(e=function(i,t){return i>t?-1:i<t?1:0}),void 0===r&&(r=!0);var n=i.call(this)||this;if(n.$=e,Array.isArray(t))n.ii=r?w([],_(t),!1):t;else{n.ii=[];var u=n;t.forEach((function(i){u.ii.push(i)}))}n.M=n.ii.length;for(var s=n.M>>1,o=n.M-1>>1;o>=0;--o)n.ri(o,s);return n}return v(t,i),t.prototype.ti=function(i){for(var t=this.ii[i];i>0;){var e=i-1>>1,r=this.ii[e];if(this.$(r,t)<=0)break;this.ii[i]=r,i=e}this.ii[i]=t},t.prototype.ri=function(i,t){for(var e=this.ii[i];i<t;){var r=i<<1|1,n=r+1,u=this.ii[r];if(n<this.M&&this.$(u,this.ii[n])>0&&(r=n,u=this.ii[n]),this.$(u,e)>=0)break;this.ii[i]=u,i=r}this.ii[i]=e},t.prototype.clear=function(){this.M=0,this.ii.length=0},t.prototype.push=function(i){this.ii.push(i),this.ti(this.M),this.M+=1},t.prototype.pop=function(){if(0!==this.M){var i=this.ii[0],t=this.ii.pop();return this.M-=1,this.M&&(this.ii[0]=t,this.ri(0,this.M>>1)),i}},t.prototype.top=function(){return this.ii[0]},t.prototype.find=function(i){return this.ii.indexOf(i)>=0},t.prototype.remove=function(i){var t=this.ii.indexOf(i);return!(t<0)&&(0===t?this.pop():t===this.M-1?(this.ii.pop(),this.M-=1):(this.ii.splice(t,1,this.ii.pop()),this.M-=1,this.ti(t),this.ri(t,this.M>>1)),!0)},t.prototype.updateItem=function(i){var t=this.ii.indexOf(i);return!(t<0)&&(this.ti(t),this.ri(t,this.M>>1),!0)},t.prototype.toArray=function(){return w([],_(this.ii),!1)},t}(h),E=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),k=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return E(e,t),e}(l),R=k;function M(){throw new RangeError("Iterator access denied!")}var T=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),A=function(t){function e(e,r){var n=t.call(this,r)||this;return n.o=e,0===n.iteratorType?(n.pre=function(){return 0===this.o&&M(),this.o-=1,this},n.next=function(){return this.o===this.container.size()&&M(),this.o+=1,this}):(n.pre=function(){return this.o===this.container.size()-1&&M(),this.o+=1,this},n.next=function(){return-1===this.o&&M(),this.o-=1,this}),n}return T(e,t),Object.defineProperty(e.prototype,"pointer",{get:function(){return this.container.getElementByPos(this.o)},set:function(t){this.container.setElementByPos(this.o,t)},enumerable:!1,configurable:!0}),e}(c),O=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),P=function(t,e){var r,i,n,u,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return u={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function c(t){return function(e){return h([t,e])}}function h(u){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,i&&(n=2&u[0]?i.return:u[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,u[1])).done)return n;switch(i=0,n&&(u=[2&u[0],n.value]),u[0]){case 0:case 1:n=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,i=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==u[0]&&2!==u[0])){o=0;continue}if(3===u[0]&&(!n||u[1]>n[0]&&u[1]<n[3])){o.label=u[1];break}if(6===u[0]&&o.label<n[1]){o.label=n[1],n=u;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(u);break}n[2]&&o.ops.pop(),o.trys.pop();continue}u=e.call(t,o)}catch(t){u=[6,t],i=0}finally{r=n=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},x=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var i,u,n=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(t){u={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return o},I=function(t,e,r){if(r||2===arguments.length)for(var n,o=0,i=e.length;o<i;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))},C=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},L=function(t){function e(e,r,n){var i=t.call(this,e,n)||this;return i.container=r,i}return O(e,t),e.prototype.copy=function(){return new e(this.o,this.container,this.iteratorType)},e}(A),j=function(t){function e(e,r){void 0===e&&(e=[]),void 0===r&&(r=!0);var n=t.call(this)||this;if(Array.isArray(e))n.J=r?I([],x(e),!1):e,n.M=e.length;else{n.J=[];var i=n;e.forEach((function(t){i.pushBack(t)}))}return n}return O(e,t),e.prototype.clear=function(){this.M=0,this.J.length=0},e.prototype.begin=function(){return new L(0,this)},e.prototype.end=function(){return new L(this.M,this)},e.prototype.rBegin=function(){return new L(this.M-1,this,1)},e.prototype.rEnd=function(){return new L(-1,this,1)},e.prototype.front=function(){return this.J[0]},e.prototype.back=function(){return this.J[this.M-1]},e.prototype.getElementByPos=function(t){if(t<0||t>this.M-1)throw new RangeError;return this.J[t]},e.prototype.eraseElementByPos=function(t){if(t<0||t>this.M-1)throw new RangeError;return this.J.splice(t,1),this.M-=1,this.M},e.prototype.eraseElementByValue=function(t){for(var e=0,r=0;r<this.M;++r)this.J[r]!==t&&(this.J[e++]=this.J[r]);return this.M=this.J.length=e,this.M},e.prototype.eraseElementByIterator=function(t){var e=t.o;return t=t.next(),this.eraseElementByPos(e),t},e.prototype.pushBack=function(t){return this.J.push(t),this.M+=1,this.M},e.prototype.popBack=function(){if(0!==this.M)return this.M-=1,this.J.pop()},e.prototype.setElementByPos=function(t,e){if(t<0||t>this.M-1)throw new RangeError;this.J[t]=e},e.prototype.insert=function(t,e,r){var n;if(void 0===r&&(r=1),t<0||t>this.M)throw new RangeError;return(n=this.J).splice.apply(n,I([t,0],x(new Array(r).fill(e)),!1)),this.M+=r,this.M},e.prototype.find=function(t){for(var e=0;e<this.M;++e)if(this.J[e]===t)return new L(e,this);return this.end()},e.prototype.reverse=function(){this.J.reverse()},e.prototype.unique=function(){for(var t=1,e=1;e<this.M;++e)this.J[e]!==this.J[e-1]&&(this.J[t++]=this.J[e]);return this.M=this.J.length=t,this.M},e.prototype.sort=function(t){this.J.sort(t)},e.prototype.forEach=function(t){for(var e=0;e<this.M;++e)t(this.J[e],e,this)},e.prototype[Symbol.iterator]=function(){return function(){return P(this,(function(t){switch(t.label){case 0:return[5,C(this.J)];case 1:return t.sent(),[2]}}))}.bind(this)()},e}(R),B=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])},t(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),N=function(t,i){var e,s,r,n,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return n={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function c(t){return function(i){return h([t,i])}}function h(n){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,s&&(r=2&n[0]?s.return:n[0]?s.throw||((r=s.return)&&r.call(s),0):s.next)&&!(r=r.call(s,n[1])).done)return r;switch(s=0,r&&(n=[2&n[0],r.value]),n[0]){case 0:case 1:r=n;break;case 4:return o.label++,{value:n[1],done:!1};case 5:o.label++,s=n[1],n=[0];continue;case 7:n=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==n[0]&&2!==n[0])){o=0;continue}if(3===n[0]&&(!r||n[1]>r[0]&&n[1]<r[3])){o.label=n[1];break}if(6===n[0]&&o.label<r[1]){o.label=r[1],r=n;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(n);break}r[2]&&o.ops.pop(),o.trys.pop();continue}n=i.call(t,o)}catch(t){n=[6,t],s=0}finally{e=r=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}},D=function(t){function e(i,e,r,s){var n=t.call(this,s)||this;return n.o=i,n.h=e,n.container=r,0===n.iteratorType?(n.pre=function(){return this.o.L===this.h&&M(),this.o=this.o.L,this},n.next=function(){return this.o===this.h&&M(),this.o=this.o.m,this}):(n.pre=function(){return this.o.m===this.h&&M(),this.o=this.o.m,this},n.next=function(){return this.o===this.h&&M(),this.o=this.o.L,this}),n}return B(e,t),Object.defineProperty(e.prototype,"pointer",{get:function(){return this.o===this.h&&M(),this.o.p},set:function(t){this.o===this.h&&M(),this.o.p=t},enumerable:!1,configurable:!0}),e.prototype.copy=function(){return new e(this.o,this.h,this.container,this.iteratorType)},e}(c),U=function(t){function e(i){void 0===i&&(i=[]);var e=t.call(this)||this;e.h={},e.H=e.l=e.h.L=e.h.m=e.h;var r=e;return i.forEach((function(t){r.pushBack(t)})),e}return B(e,t),e.prototype.G=function(t){var i=t.L,e=t.m;i.m=e,e.L=i,t===this.H&&(this.H=e),t===this.l&&(this.l=i),this.M-=1},e.prototype.F=function(t,i){var e=i.m,r={p:t,L:i,m:e};i.m=r,e.L=r,i===this.h&&(this.H=r),e===this.h&&(this.l=r),this.M+=1},e.prototype.clear=function(){this.M=0,this.H=this.l=this.h.L=this.h.m=this.h},e.prototype.begin=function(){return new D(this.H,this.h,this)},e.prototype.end=function(){return new D(this.h,this.h,this)},e.prototype.rBegin=function(){return new D(this.l,this.h,this,1)},e.prototype.rEnd=function(){return new D(this.h,this.h,this,1)},e.prototype.front=function(){return this.H.p},e.prototype.back=function(){return this.l.p},e.prototype.getElementByPos=function(t){if(t<0||t>this.M-1)throw new RangeError;for(var i=this.H;t--;)i=i.m;return i.p},e.prototype.eraseElementByPos=function(t){if(t<0||t>this.M-1)throw new RangeError;for(var i=this.H;t--;)i=i.m;return this.G(i),this.M},e.prototype.eraseElementByValue=function(t){for(var i=this.H;i!==this.h;)i.p===t&&this.G(i),i=i.m;return this.M},e.prototype.eraseElementByIterator=function(t){var i=t.o;return i===this.h&&M(),t=t.next(),this.G(i),t},e.prototype.pushBack=function(t){return this.F(t,this.l),this.M},e.prototype.popBack=function(){if(0!==this.M){var t=this.l.p;return this.G(this.l),t}},e.prototype.pushFront=function(t){return this.F(t,this.h),this.M},e.prototype.popFront=function(){if(0!==this.M){var t=this.H.p;return this.G(this.H),t}},e.prototype.setElementByPos=function(t,i){if(t<0||t>this.M-1)throw new RangeError;for(var e=this.H;t--;)e=e.m;e.p=i},e.prototype.insert=function(t,i,e){if(void 0===e&&(e=1),t<0||t>this.M)throw new RangeError;if(e<=0)return this.M;if(0===t)for(;e--;)this.pushFront(i);else if(t===this.M)for(;e--;)this.pushBack(i);else{for(var r=this.H,s=1;s<t;++s)r=r.m;var n=r.m;for(this.M+=e;e--;)r.m={p:i,L:r},r.m.L=r,r=r.m;r.m=n,n.L=r}return this.M},e.prototype.find=function(t){for(var i=this.H;i!==this.h;){if(i.p===t)return new D(i,this.h,this);i=i.m}return this.end()},e.prototype.reverse=function(){if(!(this.M<=1))for(var t=this.H,i=this.l,e=0;e<<1<this.M;){var r=t.p;t.p=i.p,i.p=r,t=t.m,i=i.L,e+=1}},e.prototype.unique=function(){if(this.M<=1)return this.M;for(var t=this.H;t!==this.h;){for(var i=t;i.m!==this.h&&i.p===i.m.p;)i=i.m,this.M-=1;t.m=i.m,t.m.L=t,t=t.m}return this.M},e.prototype.sort=function(t){if(!(this.M<=1)){var i=[];this.forEach((function(t){i.push(t)})),i.sort(t);var e=this.H;i.forEach((function(t){e.p=t,e=e.m}))}},e.prototype.merge=function(t){var i=this;if(0===this.M)t.forEach((function(t){i.pushBack(t)}));else{var e=this.H;t.forEach((function(t){for(;e!==i.h&&e.p<=t;)e=e.m;i.F(t,e.L)}))}return this.M},e.prototype.forEach=function(t){for(var i=this.H,e=0;i!==this.h;)t(i.p,e++,this),i=i.m},e.prototype[Symbol.iterator]=function(){return function(){var t;return N(this,(function(i){switch(i.label){case 0:if(0===this.M)return[2];t=this.H,i.label=1;case 1:return t===this.h?[3,3]:[4,t.p];case 2:return i.sent(),t=t.m,[3,1];case 3:return[2]}}))}.bind(this)()},e}(R),$=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])},t(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),F=function(t,i){var e,s,r,n,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return n={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function c(t){return function(i){return h([t,i])}}function h(n){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,s&&(r=2&n[0]?s.return:n[0]?s.throw||((r=s.return)&&r.call(s),0):s.next)&&!(r=r.call(s,n[1])).done)return r;switch(s=0,r&&(n=[2&n[0],r.value]),n[0]){case 0:case 1:r=n;break;case 4:return o.label++,{value:n[1],done:!1};case 5:o.label++,s=n[1],n=[0];continue;case 7:n=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==n[0]&&2!==n[0])){o=0;continue}if(3===n[0]&&(!r||n[1]>r[0]&&n[1]<r[3])){o.label=n[1];break}if(6===n[0]&&o.label<r[1]){o.label=r[1],r=n;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(n);break}r[2]&&o.ops.pop(),o.trys.pop();continue}n=i.call(t,o)}catch(t){n=[6,t],s=0}finally{e=r=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}},H=function(t,i){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var s,r,n=e.call(t),o=[];try{for(;(void 0===i||i-- >0)&&!(s=n.next()).done;)o.push(s.value)}catch(t){r={error:t}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(r)throw r.error}}return o},W=function(t,i,e){if(e||2===arguments.length)for(var r,n=0,s=i.length;n<s;n++)!r&&n in i||(r||(r=Array.prototype.slice.call(i,0,n)),r[n]=i[n]);return t.concat(r||Array.prototype.slice.call(i))},K=function(t){function e(i,e,r){var s=t.call(this,i,r)||this;return s.container=e,s}return $(e,t),e.prototype.copy=function(){return new e(this.o,this.container,this.iteratorType)},e}(A),V=function(t){function e(i,e){void 0===i&&(i=[]),void 0===e&&(e=4096);var r=t.call(this)||this;r.A=0,r.S=0,r.R=0,r.k=0,r.C=0,r.j=[];var s=function(){if("number"==typeof i.length)return i.length;if("number"==typeof i.size)return i.size;if("function"==typeof i.size)return i.size();throw new TypeError("Cannot get the length or size of the container")}();r.B=e,r.C=Math.max(Math.ceil(s/r.B),1);for(var n=0;n<r.C;++n)r.j.push(new Array(r.B));var o=Math.ceil(s/r.B);r.A=r.R=(r.C>>1)-(o>>1),r.S=r.k=r.B-s%r.B>>1;var u=r;return i.forEach((function(t){u.pushBack(t)})),r}return $(e,t),e.prototype.O=function(){for(var t=[],i=Math.max(this.C>>1,1),e=0;e<i;++e)t[e]=new Array(this.B);for(e=this.A;e<this.C;++e)t[t.length]=this.j[e];for(e=0;e<this.R;++e)t[t.length]=this.j[e];t[t.length]=W([],H(this.j[this.R]),!1),this.A=i,this.R=t.length-1;for(e=0;e<i;++e)t[t.length]=new Array(this.B);this.j=t,this.C=t.length},e.prototype.T=function(t){var i=this.S+t+1,e=i%this.B,r=e-1,s=this.A+(i-e)/this.B;return 0===e&&(s-=1),s%=this.C,r<0&&(r+=this.B),{curNodeBucketIndex:s,curNodePointerIndex:r}},e.prototype.clear=function(){this.j=[new Array(this.B)],this.C=1,this.A=this.R=this.M=0,this.S=this.k=this.B>>1},e.prototype.begin=function(){return new K(0,this)},e.prototype.end=function(){return new K(this.M,this)},e.prototype.rBegin=function(){return new K(this.M-1,this,1)},e.prototype.rEnd=function(){return new K(-1,this,1)},e.prototype.front=function(){if(0!==this.M)return this.j[this.A][this.S]},e.prototype.back=function(){if(0!==this.M)return this.j[this.R][this.k]},e.prototype.pushBack=function(t){return this.M&&(this.k<this.B-1?this.k+=1:this.R<this.C-1?(this.R+=1,this.k=0):(this.R=0,this.k=0),this.R===this.A&&this.k===this.S&&this.O()),this.M+=1,this.j[this.R][this.k]=t,this.M},e.prototype.popBack=function(){if(0!==this.M){var t=this.j[this.R][this.k];return 1!==this.M&&(this.k>0?this.k-=1:this.R>0?(this.R-=1,this.k=this.B-1):(this.R=this.C-1,this.k=this.B-1)),this.M-=1,t}},e.prototype.pushFront=function(t){return this.M&&(this.S>0?this.S-=1:this.A>0?(this.A-=1,this.S=this.B-1):(this.A=this.C-1,this.S=this.B-1),this.A===this.R&&this.S===this.k&&this.O()),this.M+=1,this.j[this.A][this.S]=t,this.M},e.prototype.popFront=function(){if(0!==this.M){var t=this.j[this.A][this.S];return 1!==this.M&&(this.S<this.B-1?this.S+=1:this.A<this.C-1?(this.A+=1,this.S=0):(this.A=0,this.S=0)),this.M-=1,t}},e.prototype.getElementByPos=function(t){if(t<0||t>this.M-1)throw new RangeError;var i=this.T(t),e=i.curNodeBucketIndex,r=i.curNodePointerIndex;return this.j[e][r]},e.prototype.setElementByPos=function(t,i){if(t<0||t>this.M-1)throw new RangeError;var e=this.T(t),r=e.curNodeBucketIndex,s=e.curNodePointerIndex;this.j[r][s]=i},e.prototype.insert=function(t,i,e){if(void 0===e&&(e=1),t<0||t>this.M)throw new RangeError;if(0===t)for(;e--;)this.pushFront(i);else if(t===this.M)for(;e--;)this.pushBack(i);else{for(var r=[],s=t;s<this.M;++s)r.push(this.getElementByPos(s));this.cut(t-1);for(s=0;s<e;++s)this.pushBack(i);for(s=0;s<r.length;++s)this.pushBack(r[s])}return this.M},e.prototype.cut=function(t){if(t<0)return this.clear(),0;var i=this.T(t),e=i.curNodeBucketIndex,r=i.curNodePointerIndex;return this.R=e,this.k=r,this.M=t+1,this.M},e.prototype.eraseElementByPos=function(t){if(t<0||t>this.M-1)throw new RangeError;if(0===t)this.popFront();else if(t===this.M-1)this.popBack();else{for(var i=[],e=t+1;e<this.M;++e)i.push(this.getElementByPos(e));this.cut(t),this.popBack();var r=this;i.forEach((function(t){r.pushBack(t)}))}return this.M},e.prototype.eraseElementByValue=function(t){if(0===this.M)return 0;for(var i=[],e=0;e<this.M;++e){var r=this.getElementByPos(e);r!==t&&i.push(r)}var s=i.length;for(e=0;e<s;++e)this.setElementByPos(e,i[e]);return this.cut(s-1)},e.prototype.eraseElementByIterator=function(t){var i=t.o;return this.eraseElementByPos(i),t=t.next()},e.prototype.find=function(t){for(var i=0;i<this.M;++i)if(this.getElementByPos(i)===t)return new K(i,this);return this.end()},e.prototype.reverse=function(){for(var t=0,i=this.M-1;t<i;){var e=this.getElementByPos(t);this.setElementByPos(t,this.getElementByPos(i)),this.setElementByPos(i,e),t+=1,i-=1}},e.prototype.unique=function(){if(this.M<=1)return this.M;for(var t=1,i=this.getElementByPos(0),e=1;e<this.M;++e){var r=this.getElementByPos(e);r!==i&&(i=r,this.setElementByPos(t++,r))}for(;this.M>t;)this.popBack();return this.M},e.prototype.sort=function(t){for(var i=[],e=0;e<this.M;++e)i.push(this.getElementByPos(e));i.sort(t);for(e=0;e<this.M;++e)this.setElementByPos(e,i[e])},e.prototype.shrinkToFit=function(){if(0!==this.M){var t=[];this.forEach((function(i){t.push(i)})),this.C=Math.max(Math.ceil(this.M/this.B),1),this.M=this.A=this.R=this.S=this.k=0,this.j=[];for(var i=0;i<this.C;++i)this.j.push(new Array(this.B));for(i=0;i<t.length;++i)this.pushBack(t[i])}},e.prototype.forEach=function(t){for(var i=0;i<this.M;++i)t(this.getElementByPos(i),i,this)},e.prototype[Symbol.iterator]=function(){return function(){var t;return F(this,(function(i){switch(i.label){case 0:t=0,i.label=1;case 1:return t<this.M?[4,this.getElementByPos(t)]:[3,4];case 2:i.sent(),i.label=3;case 3:return++t,[3,1];case 4:return[2]}}))}.bind(this)()},e}(R),Y=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),z=function(){function t(t,e){this.ee=1,this.u=void 0,this.p=void 0,this.K=void 0,this.N=void 0,this.rr=void 0,this.u=t,this.p=e}return t.prototype.L=function(){var t=this;if(1===t.ee&&t.rr.rr===t)t=t.N;else if(t.K)for(t=t.K;t.N;)t=t.N;else{for(var e=t.rr;e.K===t;)e=(t=e).rr;t=e}return t},t.prototype.m=function(){var t=this;if(t.N){for(t=t.N;t.K;)t=t.K;return t}for(var e=t.rr;e.N===t;)e=(t=e).rr;return t.N!==e?e:t},t.prototype.ne=function(){var t=this.rr,e=this.N,r=e.K;return t.rr===this?t.rr=e:t.K===this?t.K=e:t.N=e,e.rr=t,e.K=this,this.rr=e,this.N=r,r&&(r.rr=this),e},t.prototype.te=function(){var t=this.rr,e=this.K,r=e.N;return t.rr===this?t.rr=e:t.K===this?t.K=e:t.N=e,e.rr=t,e.N=this,this.rr=e,this.K=r,r&&(r.rr=this),e},t}(),G=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tr=1,e}return Y(e,t),e.prototype.ne=function(){var e=t.prototype.ne.call(this);return this.ie(),e.ie(),e},e.prototype.te=function(){var e=t.prototype.te.call(this);return this.ie(),e.ie(),e},e.prototype.ie=function(){this.tr=1,this.K&&(this.tr+=this.K.tr),this.N&&(this.tr+=this.N.tr)},e}(z),Q=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),J=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var r,n,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){n={error:t}}finally{try{r&&!r.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return s},Z=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],r=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},X=function(t){function e(e,i){void 0===e&&(e=function(t,e){return t<e?-1:t>e?1:0}),void 0===i&&(i=!1);var r=t.call(this)||this;return r.W=void 0,r.$=e,i?(r.re=G,r.v=function(t,e,i){var r=this.se(t,e,i);if(r){for(var n=r.rr;n!==this.h;)n.tr+=1,n=n.rr;var s=this.fe(r);if(s){var o=s,c=o.parentNode,u=o.grandParent,a=o.curNode;c.ie(),u.ie(),a.ie()}}return this.M},r.G=function(t){for(var e=this.he(t);e!==this.h;)e.tr-=1,e=e.rr}):(r.re=z,r.v=function(t,e,i){var r=this.se(t,e,i);return r&&this.fe(r),this.M},r.G=r.he),r.h=new r.re,r}return Q(e,t),e.prototype.U=function(t,e){for(var i=this.h;t;){var r=this.$(t.u,e);if(r<0)t=t.N;else{if(!(r>0))return t;i=t,t=t.K}}return i},e.prototype.X=function(t,e){for(var i=this.h;t;){this.$(t.u,e)<=0?t=t.N:(i=t,t=t.K)}return i},e.prototype.Y=function(t,e){for(var i=this.h;t;){var r=this.$(t.u,e);if(r<0)i=t,t=t.N;else{if(!(r>0))return t;t=t.K}}return i},e.prototype.Z=function(t,e){for(var i=this.h;t;){this.$(t.u,e)<0?(i=t,t=t.N):t=t.K}return i},e.prototype.ue=function(t){for(;;){var i,e=t.rr;if(e===this.h)return;if(1===t.ee)return void(t.ee=0);if(t===e.K)if(1===(i=e.N).ee)i.ee=0,e.ee=1,e===this.W?this.W=e.ne():e.ne();else{if(i.N&&1===i.N.ee)return i.ee=e.ee,e.ee=0,i.N.ee=0,void(e===this.W?this.W=e.ne():e.ne());i.K&&1===i.K.ee?(i.ee=1,i.K.ee=0,i.te()):(i.ee=1,t=e)}else if(1===(i=e.K).ee)i.ee=0,e.ee=1,e===this.W?this.W=e.te():e.te();else{if(i.K&&1===i.K.ee)return i.ee=e.ee,e.ee=0,i.K.ee=0,void(e===this.W?this.W=e.te():e.te());i.N&&1===i.N.ee?(i.ee=1,i.N.ee=0,i.ne()):(i.ee=1,t=e)}}},e.prototype.he=function(t){var e,i;if(1===this.M)return this.clear(),this.h;for(var r=t;r.K||r.N;){if(r.N)for(r=r.N;r.K;)r=r.K;else r=r.K;e=J([r.u,t.u],2),t.u=e[0],r.u=e[1],i=J([r.p,t.p],2),t.p=i[0],r.p=i[1],t=r}this.h.K===r?this.h.K=r.rr:this.h.N===r&&(this.h.N=r.rr),this.ue(r);var n=r.rr;return r===n.K?n.K=void 0:n.N=void 0,this.M-=1,this.W.ee=0,n},e.prototype.ae=function(t,e){return void 0!==t&&(!!this.ae(t.K,e)||(!!e(t)||this.ae(t.N,e)))},e.prototype.fe=function(t){for(;;){var e=t.rr;if(0===e.ee)return;var i=e.rr;if(e===i.K){if((r=i.N)&&1===r.ee){if(r.ee=e.ee=0,i===this.W)return;i.ee=1,t=i;continue}if(t===e.N){if(t.ee=0,t.K&&(t.K.rr=e),t.N&&(t.N.rr=i),e.N=t.K,i.K=t.N,t.K=e,t.N=i,i===this.W)this.W=t,this.h.rr=t;else(n=i.rr).K===i?n.K=t:n.N=t;return t.rr=i.rr,e.rr=t,i.rr=t,i.ee=1,{parentNode:e,grandParent:i,curNode:t}}e.ee=0,i===this.W?this.W=i.te():i.te(),i.ee=1}else{var r;if((r=i.K)&&1===r.ee){if(r.ee=e.ee=0,i===this.W)return;i.ee=1,t=i;continue}if(t===e.K){var n;if(t.ee=0,t.K&&(t.K.rr=i),t.N&&(t.N.rr=e),i.N=t.K,e.K=t.N,t.K=i,t.N=e,i===this.W)this.W=t,this.h.rr=t;else(n=i.rr).K===i?n.K=t:n.N=t;return t.rr=i.rr,e.rr=t,i.rr=t,i.ee=1,{parentNode:e,grandParent:i,curNode:t}}e.ee=0,i===this.W?this.W=i.ne():i.ne(),i.ee=1}return}},e.prototype.se=function(t,e,i){if(void 0===this.W)return this.M+=1,this.W=new this.re(t,e),this.W.ee=0,this.W.rr=this.h,this.h.rr=this.W,this.h.K=this.W,void(this.h.N=this.W);var r,n=this.h.K,s=this.$(n.u,t);if(0!==s){if(s>0)n.K=new this.re(t,e),n.K.rr=n,r=n.K,this.h.K=r;else{var o=this.h.N,c=this.$(o.u,t);if(0===c)return void(o.p=e);if(c<0)o.N=new this.re(t,e),o.N.rr=o,r=o.N,this.h.N=r;else{if(void 0!==i){var u=i.o;if(u!==this.h){var a=this.$(u.u,t);if(0===a)return void(u.p=e);if(a>0){var h=u.L(),l=this.$(h.u,t);if(0===l)return void(h.p=e);l<0&&(r=new this.re(t,e),void 0===h.N?(h.N=r,r.rr=h):(u.K=r,r.rr=u))}}}if(void 0===r)for(r=this.W;;){var f=this.$(r.u,t);if(f>0){if(void 0===r.K){r.K=new this.re(t,e),r.K.rr=r,r=r.K;break}r=r.K}else{if(!(f<0))return void(r.p=e);if(void 0===r.N){r.N=new this.re(t,e),r.N.rr=r,r=r.N;break}r=r.N}}}}return this.M+=1,r}n.p=e},e.prototype.g=function(t,e){for(;t;){var i=this.$(t.u,e);if(i<0)t=t.N;else{if(!(i>0))return t;t=t.K}}return t||this.h},e.prototype.clear=function(){this.M=0,this.W=void 0,this.h.rr=void 0,this.h.K=this.h.N=void 0},e.prototype.updateKeyByIterator=function(t,e){var i=t.o;if(i===this.h&&M(),1===this.M)return i.u=e,!0;if(i===this.h.K)return this.$(i.m().u,e)>0&&(i.u=e,!0);if(i===this.h.N)return this.$(i.L().u,e)<0&&(i.u=e,!0);var r=i.L().u;if(this.$(r,e)>=0)return!1;var n=i.m().u;return!(this.$(n,e)<=0)&&(i.u=e,!0)},e.prototype.eraseElementByPos=function(t){if(t<0||t>this.M-1)throw new RangeError;var e=0,i=this;return this.ae(this.W,(function(r){return t===e?(i.G(r),!0):(e+=1,!1)})),this.M},e.prototype.eraseElementByKey=function(t){if(0===this.M)return!1;var e=this.g(this.W,t);return e!==this.h&&(this.G(e),!0)},e.prototype.eraseElementByIterator=function(t){var e=t.o;e===this.h&&M();var i=void 0===e.N;return 0===t.iteratorType?i&&t.next():i&&void 0!==e.K||t.next(),this.G(e),t},e.prototype.forEach=function(t){var e,i,r=0;try{for(var n=Z(this),s=n.next();!s.done;s=n.next()){t(s.value,r++,this)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(i=n.return)&&i.call(n)}finally{if(e)throw e.error}}},e.prototype.getElementByPos=function(t){var e,i,r;if(t<0||t>this.M-1)throw new RangeError;var n=0;try{for(var s=Z(this),o=s.next();!o.done;o=s.next()){var c=o.value;if(n===t){r=c;break}n+=1}}catch(t){e={error:t}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(e)throw e.error}}return r},e.prototype.getHeight=function(){if(0===this.M)return 0;var t=function(e){return e?Math.max(t(e.K),t(e.N))+1:0};return t(this.W)},e}(l),tt=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),et=function(t){function e(e,r,i){var n=t.call(this,i)||this;return n.o=e,n.h=r,0===n.iteratorType?(n.pre=function(){return this.o===this.h.K&&M(),this.o=this.o.L(),this},n.next=function(){return this.o===this.h&&M(),this.o=this.o.m(),this}):(n.pre=function(){return this.o===this.h.N&&M(),this.o=this.o.m(),this},n.next=function(){return this.o===this.h&&M(),this.o=this.o.L(),this}),n}return tt(e,t),Object.defineProperty(e.prototype,"index",{get:function(){var t=this.o,e=this.h.rr;if(t===this.h)return e?e.tr-1:0;var r=0;for(t.K&&(r+=t.K.tr);t!==e;){var i=t.rr;t===i.N&&(r+=1,i.K&&(r+=i.K.tr)),t=i}return r},enumerable:!1,configurable:!0}),e}(c),nt=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),it=function(t,e){var r,i,n,u,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return u={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function c(t){return function(e){return h([t,e])}}function h(u){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,i&&(n=2&u[0]?i.return:u[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,u[1])).done)return n;switch(i=0,n&&(u=[2&u[0],n.value]),u[0]){case 0:case 1:n=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,i=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==u[0]&&2!==u[0])){o=0;continue}if(3===u[0]&&(!n||u[1]>n[0]&&u[1]<n[3])){o.label=u[1];break}if(6===u[0]&&o.label<n[1]){o.label=n[1],n=u;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(u);break}n[2]&&o.ops.pop(),o.trys.pop();continue}u=e.call(t,o)}catch(t){u=[6,t],i=0}finally{r=n=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},ot=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},st=function(t){function e(e,r,n,i){var o=t.call(this,e,r,i)||this;return o.container=n,o}return nt(e,t),Object.defineProperty(e.prototype,"pointer",{get:function(){return this.o===this.h&&M(),this.o.u},enumerable:!1,configurable:!0}),e.prototype.copy=function(){return new e(this.o,this.h,this.container,this.iteratorType)},e}(et),at=function(t){function e(e,r,n){void 0===e&&(e=[]);var i=t.call(this,r,n)||this,o=i;return e.forEach((function(t){o.insert(t)})),i}return nt(e,t),e.prototype.P=function(t){return it(this,(function(e){switch(e.label){case 0:return void 0===t?[2]:[5,ot(this.P(t.K))];case 1:return e.sent(),[4,t.u];case 2:return e.sent(),[5,ot(this.P(t.N))];case 3:return e.sent(),[2]}}))},e.prototype.begin=function(){return new st(this.h.K||this.h,this.h,this)},e.prototype.end=function(){return new st(this.h,this.h,this)},e.prototype.rBegin=function(){return new st(this.h.N||this.h,this.h,this,1)},e.prototype.rEnd=function(){return new st(this.h,this.h,this,1)},e.prototype.front=function(){return this.h.K?this.h.K.u:void 0},e.prototype.back=function(){return this.h.N?this.h.N.u:void 0},e.prototype.insert=function(t,e){return this.v(t,void 0,e)},e.prototype.find=function(t){var e=this.g(this.W,t);return new st(e,this.h,this)},e.prototype.lowerBound=function(t){var e=this.U(this.W,t);return new st(e,this.h,this)},e.prototype.upperBound=function(t){var e=this.X(this.W,t);return new st(e,this.h,this)},e.prototype.reverseLowerBound=function(t){var e=this.Y(this.W,t);return new st(e,this.h,this)},e.prototype.reverseUpperBound=function(t){var e=this.Z(this.W,t);return new st(e,this.h,this)},e.prototype.union=function(t){var e=this;return t.forEach((function(t){e.insert(t)})),this.M},e.prototype[Symbol.iterator]=function(){return this.P(this.W)},e}(X),ut=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ct=function(t,e){var r,i,n,a,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(t){return function(e){return h([t,e])}}function h(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,i&&(n=2&a[0]?i.return:a[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,a[1])).done)return n;switch(i=0,n&&(a=[2&a[0],n.value]),a[0]){case 0:case 1:n=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!n||a[1]>n[0]&&a[1]<n[3])){o.label=a[1];break}if(6===a[0]&&o.label<n[1]){o.label=n[1],n=a;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(a);break}n[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],i=0}finally{r=n=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},ht=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lt=function(t){function e(e,r,n,i){var o=t.call(this,e,r,i)||this;return o.container=n,o}return ut(e,t),Object.defineProperty(e.prototype,"pointer",{get:function(){this.o===this.h&&M();var t=this;return new Proxy([],{get:function(e,r){return"0"===r?t.o.u:"1"===r?t.o.p:void 0},set:function(e,r,n){if("1"!==r)throw new TypeError("props must be 1");return t.o.p=n,!0}})},enumerable:!1,configurable:!0}),e.prototype.copy=function(){return new e(this.o,this.h,this.container,this.iteratorType)},e}(et),ft=function(t){function e(e,r,n){void 0===e&&(e=[]);var i=t.call(this,r,n)||this,o=i;return e.forEach((function(t){o.setElement(t[0],t[1])})),i}return ut(e,t),e.prototype.P=function(t){return ct(this,(function(e){switch(e.label){case 0:return void 0===t?[2]:[5,ht(this.P(t.K))];case 1:return e.sent(),[4,[t.u,t.p]];case 2:return e.sent(),[5,ht(this.P(t.N))];case 3:return e.sent(),[2]}}))},e.prototype.begin=function(){return new lt(this.h.K||this.h,this.h,this)},e.prototype.end=function(){return new lt(this.h,this.h,this)},e.prototype.rBegin=function(){return new lt(this.h.N||this.h,this.h,this,1)},e.prototype.rEnd=function(){return new lt(this.h,this.h,this,1)},e.prototype.front=function(){if(0!==this.M){var t=this.h.K;return[t.u,t.p]}},e.prototype.back=function(){if(0!==this.M){var t=this.h.N;return[t.u,t.p]}},e.prototype.lowerBound=function(t){var e=this.U(this.W,t);return new lt(e,this.h,this)},e.prototype.upperBound=function(t){var e=this.X(this.W,t);return new lt(e,this.h,this)},e.prototype.reverseLowerBound=function(t){var e=this.Y(this.W,t);return new lt(e,this.h,this)},e.prototype.reverseUpperBound=function(t){var e=this.Z(this.W,t);return new lt(e,this.h,this)},e.prototype.setElement=function(t,e,r){return this.v(t,e,r)},e.prototype.find=function(t){var e=this.g(this.W,t);return new lt(e,this.h,this)},e.prototype.getElementByKey=function(t){return this.g(this.W,t).p},e.prototype.union=function(t){var e=this;return t.forEach((function(t){e.setElement(t[0],t[1])})),this.M},e.prototype[Symbol.iterator]=function(){return this.P(this.W)},e}(X);function pt(t){var e=typeof t;return"object"===e&&null!==t||"function"===e}var yt=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])},t(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),gt=function(t){function e(i,e,r){var n=t.call(this,r)||this;return n.o=i,n.h=e,0===n.iteratorType?(n.pre=function(){return this.o.L===this.h&&M(),this.o=this.o.L,this},n.next=function(){return this.o===this.h&&M(),this.o=this.o.m,this}):(n.pre=function(){return this.o.m===this.h&&M(),this.o=this.o.m,this},n.next=function(){return this.o===this.h&&M(),this.o=this.o.L,this}),n}return yt(e,t),e}(c),bt=function(t){function e(){var i=t.call(this)||this;return i._=[],i.I={},i.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(i.I,null),i.h={},i.h.L=i.h.m=i.H=i.l=i.h,i}return yt(e,t),e.prototype.G=function(t){var i=t.L,e=t.m;i.m=e,e.L=i,t===this.H&&(this.H=e),t===this.l&&(this.l=i),this.M-=1},e.prototype.v=function(t,i,e){var r;if(void 0===e&&(e=pt(t)),e){var n=t[this.HASH_TAG];if(void 0!==n)return this._[n].p=i,this.M;Object.defineProperty(t,this.HASH_TAG,{value:this._.length,configurable:!0}),r={u:t,p:i,L:this.l,m:this.h},this._.push(r)}else{var s=this.I[t];if(s)return s.p=i,this.M;r={u:t,p:i,L:this.l,m:this.h},this.I[t]=r}return 0===this.M?(this.H=r,this.h.m=r):this.l.m=r,this.l=r,this.h.L=r,++this.M},e.prototype.g=function(t,i){if(void 0===i&&(i=pt(t)),i){var e=t[this.HASH_TAG];return void 0===e?this.h:this._[e]}return this.I[t]||this.h},e.prototype.clear=function(){var t=this.HASH_TAG;this._.forEach((function(i){delete i.u[t]})),this._=[],this.I={},Object.setPrototypeOf(this.I,null),this.M=0,this.H=this.l=this.h.L=this.h.m=this.h},e.prototype.eraseElementByKey=function(t,i){var e;if(void 0===i&&(i=pt(t)),i){var r=t[this.HASH_TAG];if(void 0===r)return!1;delete t[this.HASH_TAG],e=this._[r],delete this._[r]}else{if(void 0===(e=this.I[t]))return!1;delete this.I[t]}return this.G(e),!0},e.prototype.eraseElementByIterator=function(t){var i=t.o;return i===this.h&&M(),this.G(i),t.next()},e.prototype.eraseElementByPos=function(t){if(t<0||t>this.M-1)throw new RangeError;for(var i=this.H;t--;)i=i.m;return this.G(i),this.M},e}(l),mt=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),vt=function(t,e){var r,i,s,a,n={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(t){return function(e){return c([t,e])}}function c(a){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=2&a[0]?i.return:a[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,a[1])).done)return s;switch(i=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,i=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(!(s=n.trys,(s=s.length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){n=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){n.label=a[1];break}if(6===a[0]&&n.label<s[1]){n.label=s[1],s=a;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(a);break}s[2]&&n.ops.pop(),n.trys.pop();continue}a=e.call(t,n)}catch(t){a=[6,t],i=0}finally{r=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},_t=function(t){function e(e,r,n,i){var s=t.call(this,e,r,i)||this;return s.container=n,s}return mt(e,t),Object.defineProperty(e.prototype,"pointer",{get:function(){return this.o===this.h&&M(),this.o.u},enumerable:!1,configurable:!0}),e.prototype.copy=function(){return new e(this.o,this.h,this.container,this.iteratorType)},e}(gt),wt=function(t){function e(e){void 0===e&&(e=[]);var r=t.call(this)||this,n=r;return e.forEach((function(t){n.insert(t)})),r}return mt(e,t),e.prototype.begin=function(){return new _t(this.H,this.h,this)},e.prototype.end=function(){return new _t(this.h,this.h,this)},e.prototype.rBegin=function(){return new _t(this.l,this.h,this,1)},e.prototype.rEnd=function(){return new _t(this.h,this.h,this,1)},e.prototype.front=function(){return this.H.u},e.prototype.back=function(){return this.l.u},e.prototype.insert=function(t,e){return this.v(t,void 0,e)},e.prototype.getElementByPos=function(t){if(t<0||t>this.M-1)throw new RangeError;for(var e=this.H;t--;)e=e.m;return e.u},e.prototype.find=function(t,e){var r=this.g(t,e);return new _t(r,this.h,this)},e.prototype.forEach=function(t){for(var e=0,r=this.H;r!==this.h;)t(r.u,e++,this),r=r.m},e.prototype[Symbol.iterator]=function(){return function(){var t;return vt(this,(function(e){switch(e.label){case 0:t=this.H,e.label=1;case 1:return t===this.h?[3,3]:[4,t.u];case 2:return e.sent(),t=t.m,[3,1];case 3:return[2]}}))}.bind(this)()},e}(bt),St=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Et=function(t,e){var r,i,a,s,n={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(t){return function(e){return c([t,e])}}function c(s){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(a=2&s[0]?i.return:s[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,s[1])).done)return a;switch(i=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return n.label++,{value:s[1],done:!1};case 5:n.label++,i=s[1],s=[0];continue;case 7:s=n.ops.pop(),n.trys.pop();continue;default:if(!(a=n.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){n=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){n.label=s[1];break}if(6===s[0]&&n.label<a[1]){n.label=a[1],a=s;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(s);break}a[2]&&n.ops.pop(),n.trys.pop();continue}s=e.call(t,n)}catch(t){s=[6,t],i=0}finally{r=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},kt=function(t){function e(e,r,n,i){var a=t.call(this,e,r,i)||this;return a.container=n,a}return St(e,t),Object.defineProperty(e.prototype,"pointer",{get:function(){this.o===this.h&&M();var t=this;return new Proxy([],{get:function(e,r){return"0"===r?t.o.u:"1"===r?t.o.p:void 0},set:function(e,r,n){if("1"!==r)throw new TypeError("props must be 1");return t.o.p=n,!0}})},enumerable:!1,configurable:!0}),e.prototype.copy=function(){return new e(this.o,this.h,this.container,this.iteratorType)},e}(gt),Rt=function(t){function e(e){void 0===e&&(e=[]);var r=t.call(this)||this,n=r;return e.forEach((function(t){n.setElement(t[0],t[1])})),r}return St(e,t),e.prototype.begin=function(){return new kt(this.H,this.h,this)},e.prototype.end=function(){return new kt(this.h,this.h,this)},e.prototype.rBegin=function(){return new kt(this.l,this.h,this,1)},e.prototype.rEnd=function(){return new kt(this.h,this.h,this,1)},e.prototype.front=function(){if(0!==this.M)return[this.H.u,this.H.p]},e.prototype.back=function(){if(0!==this.M)return[this.l.u,this.l.p]},e.prototype.setElement=function(t,e,r){return this.v(t,e,r)},e.prototype.getElementByKey=function(t,e){if(void 0===e&&(e=pt(t)),e){var r=t[this.HASH_TAG];return void 0!==r?this._[r].p:void 0}var n=this.I[t];return n?n.p:void 0},e.prototype.getElementByPos=function(t){if(t<0||t>this.M-1)throw new RangeError;for(var e=this.H;t--;)e=e.m;return[e.u,e.p]},e.prototype.find=function(t,e){var r=this.g(t,e);return new kt(r,this.h,this)},e.prototype.forEach=function(t){for(var e=0,r=this.H;r!==this.h;)t([r.u,r.p],e++,this),r=r.m},e.prototype[Symbol.iterator]=function(){return function(){var t;return Et(this,(function(e){switch(e.label){case 0:t=this.H,e.label=1;case 1:return t===this.h?[3,3]:[4,[t.u,t.p]];case 2:return e.sent(),t=t.m,[3,1];case 3:return[2]}}))}.bind(this)()},e}(bt)}}]);